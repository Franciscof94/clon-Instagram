/*! For license information please see main.8550d64f.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,I=60106,E=60107,S=60108,_=60114,T=60109,C=60110,A=60112,O=60113,N=60120,R=60115,P=60116,D=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),I=U("react.portal"),E=U("react.fragment"),S=U("react.strict_mode"),_=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),O=U("react.suspense"),N=U("react.suspense_list"),R=U("react.memo"),P=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case _:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case D:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ie=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Ie[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Oe(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Ne(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Pe,Me=!1,Fe=!1;function Ue(){null===Ce&&null===Ae||(je(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Be=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ge=null,He=!1,Ke=null,Qe={onError:function(e){We=!0,Ge=e}};function Ye(e,t,n,r,i,a,o,u,s){We=!1,Ge=null,qe.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function It(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:It("Animation","AnimationEnd"),animationiteration:It("Animation","AnimationIteration"),animationstart:It("Animation","AnimationStart"),transitionend:It("Transition","TransitionEnd")},St={},_t={};function Tt(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return St[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Ot=Tt("animationstart"),Nt=Tt("transitionend"),Rt=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Mt(s),i=Lt):0!==(u&=a)&&(r=Mt(u),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Ht|0)|0},Gt=Math.log,Ht=Math.LN2;var Kt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Me||je();var i=Zt,a=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Xt(e,t,n,r){Qt(Kt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}jr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=_e(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),In=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=sn(An),Nn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(Dn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ne(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Xn(e){Ar(e,0)}function Zn(e){if(X(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Jn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Qn(t,Jn,e,_e(e)),e=Xn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function sr(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==Z(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Pt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ge;We=!1,Ge=null,He||(He=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ke,He=!1,Ke=null,e}function Or(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Nr]||(e[Nr]=!0,u.forEach((function(t){Tr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=_e(n),o=[];e:{var u=Rt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=On;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Ct:case At:case Ot:s=bn;break;case Nt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=jn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Kn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Ir(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Ir(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Gn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Gn=!0)),0<(y=Mr(r,k)).length&&(k=new In(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Xr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Xr,$r="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ii=null,Ei=null,Si=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Oi=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,ji=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ai?Ai:function(){},Ui=null,Vi=null,Bi=!1,zi=Oi(),qi=1e4>zi?Oi:function(){return Oi()-zi};function Wi(){switch(Ni()){case Ri:return 99;case Pi:return 98;case Di:return 97;case ji:return 96;case Li:return 95;default:throw Error(o(332))}}function Gi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Di;case 96:return ji;case 95:return Li;default:throw Error(o(332))}}function Hi(e,t){return e=Gi(e),Si(e,t)}function Ki(e,t,n){return e=Gi(e),_i(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}Yi()}function Yi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),_i(Ri,Qi),n}finally{Bi=!1}}}var Ji=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ia(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ia(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=Ia(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Js(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=Ia(e,null,t),n.return=e,n;case I:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ia(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=Ia(e,r,a),s.return=e,e=s)}return u(e);case I:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Js(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(z(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var _a=Sa(!0),Ta=Sa(!1),Ca={},Aa=ci(Ca),Oa=ci(Ca),Na=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Na,t),fi(Oa,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Oa),li(Na)}function ja(e){Ra(Na.current);var t=Ra(Aa.current),n=pe(t,e.type);t!==n&&(fi(Oa,e),fi(Aa,n))}function La(e){Oa.current===e&&(li(Aa),li(Oa))}var Ma=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function za(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);za(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Ga(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!Ba)return Ga(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Ga(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ka(){Va=Ua=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ja=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=jo,e=n(r,i)}while(ro)}if(Ja.current=Ro,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,$a.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ja.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=$a;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=No.bind(null,$a,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=No.bind(null,$a,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();$a.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}$a.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Io(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oo(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function No(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Oo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,yo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Io,useImperativeHandle:_o,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Io((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},jo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Io,useImperativeHandle:_o,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Io((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):_a(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Gs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Wo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Go(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ko(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Yo,Jo,Xo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Ra(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Zr]=t,r[$r]=u,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Or(_r[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,u),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Or("invalid",r);break;case"textarea":se(r,u),Or("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Or("scroll",r));switch(n){case"input":J(r),re(r,u,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Or("cancel",e),Or("close",e),a=r;break;case"iframe":case"object":case"embed":Or("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Or(_r[a],e);a=r;break;case"source":Or("error",e),a=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),a=r;break;case"details":Or("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Or("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Or("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Or("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Na.current),Ra(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Pu||0===(134217727&Bu)&&0===(134217727&zu)||gs(Pu,ju))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,u?1&t|2:1&t),n):null;case 23:case 24:return Is(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Is(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Aa.current);var o,u=null;switch(n){case"input":a=$(e,a),r=$(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Or("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ju||(Ju=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ms(n,e),Ls(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Ii,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ms(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Su(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Iu(e,n,t):Eu(e,n,t)}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Su(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Ou=w.ReactCurrentDispatcher,Nu=w.ReactCurrentOwner,Ru=0,Pu=null,Du=null,ju=0,Lu=0,Mu=ci(0),Fu=0,Uu=null,Vu=0,Bu=0,zu=0,qu=0,Wu=null,Gu=0,Hu=1/0;function Ku(){Hu=qi()+500}var Qu,Yu=null,Ju=!1,Xu=null,Zu=null,$u=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ru)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Ji.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ru)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Pu&&(zu|=t,4===Fu&&gs(e,ju));var r=Wi();1===t?0!==(8&Ru)&&0===(48&Ru)?ks(e):(ms(e,n),0===Ru&&(Ku(),Qi())):(0===(4&Ru)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?ju:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],Vi=_i(Ri,Yi)):Ui.push(n),n=Mi):14===t?n=Ki(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Ki(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ru))throw Error(o(327));var t=e.callbackNode;if(js()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?ju:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=_s();for(Pu===e&&ju===r||(Ku(),Es(e,r));;)try{As();break}catch(s){Ss(e,s)}if(na(),Ou.current=a,Ru=i,null!==Du?r=0:(Pu=null,ju=0,r=Fu),0!==(Vu&zu))Es(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Es(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rs(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Gu+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Gr(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ru))throw Error(o(327));if(js(),e===Pu&&0!==(e.expiredLanes&ju)){var t=ju,n=Ts(e,t);0!==(Vu&zu)&&(n=Ts(e,t=Ft(e,t)))}else n=Ts(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Es(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),ms(e,qi()),null}function bs(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Qi())}}function ws(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Qi())}}function xs(e,t){fi(Mu,Lu),Lu|=t,Vu|=t}function Is(){Lu=Mu.current,li(Mu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:Is()}n=n.return}Pu=e,Du=Hs(e.current,null),ju=Lu=Vu=t,Fu=0,Uu=null,qu=zu=Bu=0}function Ss(e,t){for(;;){var n=Du;try{if(na(),Ja.current=Ro,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,Nu.current=null,null===n||null===n.return){Fu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=ju,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Zu||!Zu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ns(n)}catch(I){t=I,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function _s(){var e=Ou.current;return Ou.current=Ro,null===e?Ro:e}function Ts(e,t){var n=Ru;Ru|=16;var r=_s();for(Pu===e&&ju===t||Es(e,t);;)try{Cs();break}catch(i){Ss(e,i)}if(na(),Ru=n,Ou.current=r,null!==Du)throw Error(o(261));return Pu=null,ju=0,Fu}function Cs(){for(;null!==Du;)Os(Du)}function As(){for(;null!==Du&&!Ci();)Os(Du)}function Os(e){var t=Qu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Ns(e):Du=t,Nu.current=null}function Ns(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Lu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Fu&&(Fu=5)}function Rs(e){var t=Wi();return Hi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{js()}while(null!==es);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,ju=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Nu.current=null,Br=Yt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(_){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Ds()}catch(_){if(null===Yu)throw Error(o(330));Vs(Yu,_),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Yu),Yu.flags&=-3;break;case 6:xu(Yu),Yu.flags&=-3,_u(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,_u(Yu.alternate,Yu);break;case 4:_u(Yu.alternate,Yu);break;case 8:Su(u,s=Yu);var x=s.alternate;bu(s),null!==x&&bu(x)}Yu=Yu.nextEffect}}catch(_){if(null===Yu)throw Error(o(330));Vs(Yu,_),Yu=Yu.nextEffect}}while(null!==Yu);if(w=zr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,zr=Br=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var I=Yu.flags;if(36&I&&yu(k,Yu.alternate,Yu),128&I){b=void 0;var E=Yu.ref;if(null!==E){var S=Yu.stateNode;Yu.tag,b=S,"function"===typeof E?E(b):E.current=b}}Yu=Yu.nextEffect}}catch(_){if(null===Yu)throw Error(o(330));Vs(Yu,_),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Fi(),Ru=i}else e.current=n;if($u)$u=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((I=Yu).sibling=null,I.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Zu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Ii,n,void 0,64===(64&n.current.flags))}catch(_){}if(ms(e,qi()),Ju)throw Ju=!1,e=Xu,Xu=null,e;return 0!==(8&Ru)||Qi(),null}function Ds(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&mu(e,Yu),0===(512&t)||$u||($u=!0,Ki(97,(function(){return js(),null}))),Yu=Yu.nextEffect}}function js(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Fs)}return!1}function Ls(e,t){ns.push(t,e),$u||($u=!0,Ki(97,(function(){return js(),null})))}function Ms(e,t){rs.push(t,e),$u||($u=!0,Ki(97,(function(){return js(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(o(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(ju&n)===n&&(4===Fu||3===Fu&&(62914560&ju)===ju&&500>qi()-Gu?Es(e,0):qu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new qs(e,t,n,r)}function Gs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Gs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,a,t);case L:u=8,i|=16;break;case S:u=8,i|=1;break;case _:return(e=Ws(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case O:return(e=Ws(13,n,t,i)).type=O,e.elementType=O,e.lanes=a,e;case N:return(e=Ws(19,n,t,i)).elementType=N,e.lanes=a,e;case M:return Ys(n,i,a,t);case F:return(e=Ws(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=M,e.lanes=n,e}function Js(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zs(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $s(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Ko(t),Ka();break;case 5:ja(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return au(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Gs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Go(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ko(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ka(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ka();t=t.child}return t;case 5:return ja(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Zo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Zi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,De=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Ku(),Qi())}},je=function(){0===(49&Ru)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Qi()}(),js())},Le=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Qi())}};var sc={Events:[ri,ii,ai,Ne,Re,js,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ii=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ru=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},967:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(791)),i=a(n(862));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){var t=e.mode,n=e.onFixedToggle,a=e.hideOnBoundaryHit,u=e.offsetTransforms,s=e.disabled,c=e.boundaryElement,l=e.scrollElement,f=e.bottomOffset,h=e.topOffset,d=e.positionRecheckInterval,p=e.children,v=e.isIOSFixEnabled,m=e.dontUpdateHolderHeightWhenSticky,y=e.wrapperClassName,g=e.stickyClassName,k=e.stickyStyle,b=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["mode","onFixedToggle","hideOnBoundaryHit","offsetTransforms","disabled","boundaryElement","scrollElement","bottomOffset","topOffset","positionRecheckInterval","children","isIOSFixEnabled","dontUpdateHolderHeightWhenSticky","wrapperClassName","stickyClassName","stickyStyle"]);return r.default.createElement(i.default,{mode:t,onFixedToggle:n,hideOnBoundaryHit:a,offsetTransforms:u,disabled:s,boundaryElement:c,scrollElement:l,bottomOffset:f,topOffset:h,positionRecheckInterval:d,isIOSFixEnabled:v,dontUpdateHolderHeightWhenSticky:m},(function(e){var t=e.isFixed,n=e.wrapperStyles,i=e.wrapperRef,a=e.holderStyles,u=e.holderRef;return r.default.createElement("div",o({},b,{ref:u,style:a}),r.default.createElement("div",o({},b,{className:y+" "+(t?g:""),style:t?o({},n,k):n,ref:i}),p))}))}u.defaultProps={stickyClassName:"sticky",wrapperClassName:"",stickyStyle:{}};var s=u;t.default=s,e.exports=t.default},499:function(e,t){"use strict";t.__esModule=!0,t.listen=function(e,t,n){for(var r=0,a=t.length;r<a;r+=1)i(e,t[r],n)},t.unlisten=function(e,t,n){for(var r=0,i=t.length;r<i;r+=1)a(e,t[r],n)};var n=[],r=[];function i(e,t,i){var a=n.indexOf(e);-1===a&&(a=n.length,n.push(e),r.push(function(e){return{el:e,callbacks:{},realCallbacks:{},realListenersCnt:0}}(e))),function(e,t,n){e.callbacks[t]?-1===e.callbacks[t].indexOf(n)&&e.callbacks[t].push(n):(e.callbacks[t]=[n],e.realCallbacks[t]=function(n){for(var r=0,i=e.callbacks[t].length;r<i;r+=1)e.callbacks[t][r](n)},e.el.addEventListener(t,e.realCallbacks[t]),e.realListenersCnt+=1)}(r[a],t,i)}function a(e,t,i){var a=n.indexOf(e);if(-1!==a){var o=r[a];!function(e,t,n){if(e.callbacks[t]){var r=e.callbacks[t].indexOf(n);-1!==r&&(e.callbacks[t].splice(r,1),e.callbacks[t].length>0||(e.el.removeEventListener(t,e.realCallbacks[t]),delete e.callbacks[t],delete e.realCallbacks[t],e.realListenersCnt-=1))}}(o,t,i),o.realListenersCnt>0||(n.splice(a,1),r.splice(a,1))}}},302:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!e)return null;if(n.hasOwnProperty(e))return n[e];if("#"===e[0])return document.getElementById(e.slice(1));if(null===r)return null;var i=t;for(;i=i.parentElement;)if(i[r](e))return i||null;return null};var n={};"undefined"!==typeof document&&(n.body=document.body,n.window=window,n.document=document);var r=function(){if("undefined"!==typeof document&&document.body){var e=document.body;return"function"===typeof e.matches?"matches":"function"===typeof e.webkitMatchesSelector?"webkitMatchesSelector":"function"===typeof e.mozMatchesSelector?"mozMatchesSelector":"function"===typeof e.msMatchesSelector?"msMatchesSelector":"function"===typeof e.oMatchesSelector?"oMatchesSelector":null}return null}();e.exports=t.default},253:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){do{var t=window.getComputedStyle(e);if("none"!==t.transform||"none"!==t.webkitTransform)return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null},e.exports=t.default},506:function(e,t){"use strict";t.__esModule=!0,t.getRect=function(e){if(e&&"function"===typeof e.getBoundingClientRect)return e.getBoundingClientRect();if(e===window||e===document)return{top:0,left:0,bottom:window.innerHeight,height:window.innerHeight,width:window.innerWidth,right:window.innerWidth};return{top:0,left:0,right:0,bottom:0,width:0,height:0}},t.isIntersecting=function(e,t,n,r){var i=e.top+n,a=e.bottom+r;return i>=t.top&&i<=t.bottom||a>=t.top&&a<=t.bottom||a>=t.bottom&&i<=t.top},t.infiniteRect=void 0;var n={top:-1/0,bottom:1/0,height:1/0,left:-1/0,right:1/0,width:1/0};t.infiniteRect=n},723:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.ZP=void 0,r(n(862)).default;var i=r(n(967)).default;t.ZP=i},862:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(791),i=n(499),a=s(n(302)),o=s(n(253)),u=n(506);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}var h=function(e,t){var n=t.bottomOffset,r=t.hideOnBoundaryHit,i=e.top,a=e.height,o=e.width,u=e.boundaryBottom;return r||i+a+n<u?{top:i+"px",width:o+"px",position:"fixed"}:!r&&u>0?{top:u-a-n+"px",width:o+"px",position:"fixed"}:{width:o+"px",bottom:n+"px",position:"absolute"}},d=function(e,t){var n=t.bottomOffset,r=t.hideOnBoundaryHit,i=e.bottom,a=e.height,o=e.width,u=e.boundaryTop;return r||i-a-n>u?{width:o+"px",top:i-a+"px",position:"fixed"}:{width:o+"px",top:n+"px",position:"absolute"}},p=function(e,t,n){return("top"===e?h:d)(n,t)},v=function(e,t){var n=e.wrapperStyles,r=t.wrapperStyles;if(e.isFixed!==t.isFixed||e.height!==t.height||!n&&r||n&&!r)return!1;if(!r)return!0;for(var i in n)if(n.hasOwnProperty(i)&&n[i]!==r[i])return!1;return!0},m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).holderEl=null,t.wrapperEl=null,t.el=null,t.scrollEl=null,t.boundaryEl=null,t.disabled=!1,t.checkPositionIntervalId=void 0,t.lastMinHeight=void 0,t.state={isFixed:!1,wrapperStyles:null,holderStyles:null,height:0},t.holderRef=function(e){e!==t.holderEl&&(t.holderEl=e)},t.wrapperRef=function(e){e!==t.wrapperEl&&(t.wrapperEl=e,t.updateScrollEl(),t.updateBoundaryEl())},t.checkPosition=function(){var e=l(t),n=e.holderEl,r=e.wrapperEl,i=e.boundaryEl,a=e.scrollEl,s=e.disabled;if(a&&n&&r){var f=t.props,h=f.mode,d=f.onFixedToggle,m=f.offsetTransforms,y=f.isIOSFixEnabled,g=f.dontUpdateHolderHeightWhenSticky;if(s)t.state.isFixed&&t.setState({isFixed:!1,wrapperStyles:{}});else if(n.getBoundingClientRect&&r.getBoundingClientRect){var k=n.getBoundingClientRect(),b=r.getBoundingClientRect(),w=i?(0,u.getRect)(i):u.infiniteRect,x=(0,u.getRect)(a),I=t.isFixed(k,b,w,x),E=null;if(m&&I){var S=(0,o.default)(a);S&&(E=(0,u.getRect)(S))}var _=t.state.isFixed&&g&&t.lastMinHeight?t.lastMinHeight:b.height;t.lastMinHeight=_;var T=y?{transform:"translateZ(0)",WebkitTransform:"translateZ(0)"}:null,C={isFixed:I,height:b.height,holderStyles:{minHeight:_+"px"},wrapperStyles:I?c({},T,p(h,t.props,{boundaryTop:"bottom"===h?w.top:0,boundaryBottom:"top"===h?w.bottom:0,top:"top"===h?x.top-(E?E.top:0):0,bottom:"bottom"===h?x.bottom-(E?E.bottom:0):0,width:k.width,height:b.height})):T};I!==t.state.isFixed&&d&&"function"===typeof d&&d(I),v(t.state,C)||t.setState(C)}}else console.error("Missing required elements:",{scrollEl:a,holderEl:n,wrapperEl:r})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,f(t,n);var s=r.prototype;return s.isFixed=function(e,t,n,r){var i=this.props,a=i.hideOnBoundaryHit,o=i.bottomOffset,s=i.topOffset,c=i.mode;if(this.disabled)return!1;if(a&&n&&!(0,u.isIntersecting)(n,r,s,o))return!1;var l=a?t.height+o:0;return"top"===c?e.top+s<r.top&&r.top+l<=n.bottom:e.bottom-s>r.bottom&&r.bottom-l>=n.top},s.updateScrollEl=function(){if(this.wrapperEl){this.scrollEl&&((0,i.unlisten)(this.scrollEl,["scroll"],this.checkPosition),this.scrollEl=null);var e=this.props.scrollElement;this.scrollEl="string"===typeof e?(0,a.default)(e,this.wrapperEl):e,this.scrollEl?(0,i.listen)(this.scrollEl,["scroll"],this.checkPosition):console.error("Cannot find scrollElement "+("string"===typeof e?e:"unknown"))}},s.updateBoundaryEl=function(){if(this.wrapperEl){var e=this.props.boundaryElement;this.boundaryEl=(0,a.default)(e,this.wrapperEl),this.boundaryEl!==window&&this.boundaryEl!==document||(this.boundaryEl=null)}},s.initialize=function(){var e=this.props,t=e.positionRecheckInterval,n=e.disabled;this.disabled=n,(0,i.listen)(window,["scroll","resize","pageshow","load"],this.checkPosition),this.checkPosition(),t&&(this.checkPositionIntervalId=setInterval(this.checkPosition,t))},s.componentDidUpdate=function(e){var t=e.scrollElement,n=e.boundaryElement,r=e.disabled;t!==this.props.scrollElement&&this.updateScrollEl(),n!==this.props.boundaryElement&&this.updateBoundaryEl(),r!==this.props.disabled&&(this.disabled=this.props.disabled,this.checkPosition())},s.componentDidMount=function(){this.initialize(),null===this.wrapperEl&&console.error("Wrapper element is missing, please make sure that you have assigned refs correctly")},s.componentWillUnmount=function(){this.scrollEl&&(0,i.unlisten)(this.scrollEl,["scroll"],this.checkPosition),(0,i.unlisten)(window,["scroll","resize","pageshow","load"],this.checkPosition),this.boundaryEl=null,this.scrollEl=null,clearInterval(this.checkPositionIntervalId)},s.render=function(){var e=this.holderRef,t=this.wrapperRef,n=this.state,r=n.isFixed,i=n.wrapperStyles,a=n.holderStyles;return this.props.children({holderRef:e,wrapperRef:t,isFixed:r,wrapperStyles:i,holderStyles:a})},r}(r.Component);m.defaultProps={mode:"top",topOffset:0,bottomOffset:0,isIOSFixEnabled:!0,disabled:!1,onFixedToggle:null,boundaryElement:null,scrollElement:"window",dontUpdateHolderHeightWhenSticky:!1};var y=m;t.default=y,e.exports=t.default},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+_(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+_(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+_(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function N(){var e=O.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},I(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>S(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],T=[],C=1,A=null,O=3,N=!1,R=!1,P=!1;function D(e){for(var t=I(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(_,t)}t=I(T)}}function j(e){if(P=!1,D(e),!R)if(null!==I(_))R=!0,n(L);else{var t=I(T);null!==t&&r(j,t.startTime-e)}}function L(e,n){R=!1,P&&(P=!1,i()),N=!0;var a=O;try{for(D(n),A=I(_);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,O=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===I(_)&&E(_),D(n)}else E(_);A=I(_)}if(null!==A)var s=!0;else{var c=I(T);null!==c&&r(j,c.startTime-n),s=!1}return s}finally{A=null,O=a,N=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||N||(R=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return I(_)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===I(_)&&e===I(T)&&(P?i():P=!0,r(j,o-u))):(e.sortIndex=s,x(_,e),R||N||(R=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},983:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII="},132:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABhCAYAAAAtMXSgAAAAAXNSR0IArs4c6QAAEMZJREFUeF7tXQtQVOUXP02jjaXZjI5lahEaqamgmGklCmKKr1DH1FJDBQfD8Z0GaFkqmpWaSWIhIlpqBokpgiaa7xciD1+kSA1mOVkNWVM29f3nd+zbdpdd9t679+5e/C8zd+4M+z3OOb/veV73DjLZ34ULF8Tly5cJz7fffks//vgjXb9+3fKuqqqiP//8k27evGl5g4W6devSXXfdZXnfe++91KhRI2rcuLHl/dBDD9EjjzzCz2OPPXaHmVg3BTEFBQWiqKiILl68yADgqaioYOFDmFKgEOp9991nI3AAgD9rYADUL7/8wvUlkAAT9f38/CxgtGrVigIDAyk4ONjrcvAaAWVlZeL06dNUXFxMAAHvK1eu0IMPPmgjrCZNmtiM6sDAQEU0FxUVCevZdO3aNRuQv/vuO2rWrBl16NCBwcA7KCiIAgICFLWv92zyeKfFxcVi//79dPjwYQagrKyMmjdvzsJo166dZbT+u4ToSt/ly5ctyx5mXWlpKdNQWVkJAJiGp556ikJCQgCMrn27As5jnWH5OXDgAAEEvLGUPPHEE5YRCSEEBQV5jB4I5vTp07wkyhl54sQJ3mO6d+/OYODtqWXLI4wnJyeLvLw8OnjwIA+MZ555hhl98sknwaxHaHA1Ig8cOCCOHTvGA8Wazj59+lBcXJzhNBrawdatW8UXX3xB27dv5xkQFhZmGWmdOnUytG9Xgnf2+6lTpywzNz8/n2fIgAEDaODAgRQZGWkYzYY0fO7cObFx40YCCCUlJbzuDho0iDC62rdvb0ifWgXvrF5JSQnP4m3btvF+1r59e+ZhxIgR1KZNG9150L3B3NxckZ6eTtnZ2XwCwkgCA2FhYbr3pbfwHbWXn58vAAYGFU5azz33HEVFRVHfvn115UfXxlJSUhiE48ePU+/evenFF1+kMWPG6NqHJ4TvqI+MjAzx8ccf0+7du6lLly4MRmxsrG686dZQfHy8yMjIoN9++42GDx/OhHbr1k239r0FgHW/R44c4YG2efNmuueeezDIaNGiRbrw6HYjFy9eFMuWLaO1a9fyBWncuHEUHx/vdrtmELwzGhYtWiTS0tL4Ajp27FiaNm0atWrVyi2e3aqMy9m7775L2JjbtGlDM2bMuG2WIlcDAUsVeD937hyNHDmSeXfnEqgZCIDwxhtv0Oeff05du3almTNn0pAhQzS354pxM/6elZUl3nnnHTp69CgNHjyYXn/9dc1gaBIclqP4+HjasmUL9erVi2bPnk3PPvusprbMKGA1NO3atUu89dZbtGfPHho2bBj2DE3LlCbhjRs3jjctzAQQYZbbsRoB6lkWt3IMRswMHFLS0tJUy1V1hSlTpohVq1bxnrBkyRJc0lS3oacQzNJWXl6emDVrFu8ZEydOpPfee0+VXFQVXrJkiZg3bx6fjhYvXkxDhw5VVd8sQjOKjszMTPHqq6/yaQpymjVrlmL5KC64Y8cOERMTQ7///jthg4qOjlZc1yjGzdhuamqqwMEF94wPP/yQ+vfvr0hOigpBd4TzMm7M06dPBxCK6plRUJ6gaebMmWLp0qV8A8f9SoluSpFAx44dK9Bgv379KCcnR1EdTzBs5j769esncnJy+MK3du1alzJzWeCTTz4R48ePZwXehg0bbju1hVFgQh0yatQoVhSuWbOGXnjhhRpl7RKIjh07CtiTcYucOnWqy/JGMVYb212+fLn498ZNhYWF2oFISEgQSUlJbNDJz8/3gaBhNISFhQkYmBISEigpKcmpDJ3+cPLkSdG/f3+2rEHb+P96c9Yge5squHlDGw1L344dO6hz584OZe4UiKioKL49R0dHU2pqqm82uIFIdHS0SE1N5Vt3enq6ciDg3YDlCH/79u3TrMhyg/bbqioUpD179mSesEw58lZxiE5sbKxISUlRfPS6raRmEDPyChAbG0spKSnV5F7tH/A9hbsL9oYvv/wSvke+ZUkHcE6cOCHCw8N5r4C7jr3vbTUhL1y4UCQmJkKPRJmZmT4QdABBNjF06FCRmZlJCxcupMTERBvZVhN0YGAg3xvgi6RUT1ITrRUVFWx0/+uvv3RkyXNNYQQnJCToMiChr4OPFPxsi4qKnANx6NAh0aNHD4L7enl5uS6d79u3T8CfCR7atfEPrv5HjhwhvRzi/P39BcINvvrqK3r66actMrYR9qRJk8TKlStZsbd06VJdgIDjL4zr8HMSQrBFDz6lZvv7559/2CMdlrZff/2V7r//fvrhhx/YMbq0tFQXWYDn6dOns0Jw0qRJtHLlSsdA+Pn5MVqwNHXp0kW3zgsLC8Wbb75JW7du5Vs6bLshISG6te8uqOXl5ezVhwdAYBbceeed9NNPP9Hq1avhmaIbrcePHxewbGLVqaioqA4EzrrwyH744YdtCrjLpKyPuwnAgLMBwHjttdeoR48eujGolU4oNSUIsLVgxl64cIHOnj0Lbz7Kzc3VnUYM+G+++Ya90KXnh6WTFStWiMmTJ9Po0aNp/fr1uncOQVmDERoayjPDW2Dk5OSI3NxcngWIlcCRHYJHRNKcOXP4cJGVlUWhoaG6y2LUqFECmuwVK1bQ5MmTuX1LJ5GRkQJLBxyn9JyK9iMVkTyYGWASt02A0bNnT92ZdTZDcCCB8AFCQUEBRwnhMAEQsFwOHjxYYNa+/PLL9MEHHxhCV1pamoAjXmRkJJZrWyAeeOABDnWC8fvRRx81hAApHIAxf/583FMwIxgMI0aeNRilpaWWJQgxELC7Q/gAYdCgQczvpk2bBPRB+A0KutatWxsih6+//lrA+QIxfd9///1/QGCz8vf3ZwKuXLliSOf2IxR7EsD47LPPGAzsGUZ5jMOOjFkATUGdOnWgSWYARo8ebcNrcHCwKCwsZNvLtGnTDJVDs2bNBJwMysvLyd/f/w7ubOfOnSIiIgKjkvbu3WsoAdaAIAYByxRmBo60mBl6grFlyxbLLMAJCPzJWWA/6xcsWCDmzp2Lsz1UEIbLIDQ0VOzduxeyp4iIiFtAwJI0depU9sdZtWqV4UTYg7FgwQL2GsSGCTB69erlFg27d++2bMQ4AeG4KPcBR/YALJW48f7888/sxztw4EC3+ldygpOK1eXLl7PlkzucOHEiO43JfyppSM8yWL+xTAEMjEiAER4erloYOKPLjRjxcG3btmUA8NTU3pgxYzikADbmDRs2qO5XiyzsBz932qdPH2YA+qUBAwZ4hBB74s+cOcNgfPrppwwG9ozevXsrogUx2/IoiumOTVAuQa6c4KD/QTgWMhWA/44dOyrqU4vwrets376dZ6G8q3Cn2KRwlEN4qzfV3tZgIO4OM8MVGOvWreNBtGvXLoKaAqpmMKf0CB4SEsJx3/DMmzdvnkdAgMyhFkd4c3BwMI7Rt5amgIAAgcDz8+fPG3ZkUzqCzp49yzMDdvJu3boxGI7s5dnZ2ZZZAJcVnLzkLGjbtq0igb7//vu8N0KjcOrUKUV1lPLhqtz58+dF69atOdC+rKzsFhBNmzYVV69etbnguWrIyN8BBjbwTZs28UYLMKSzM7S5chmCkg6jSgKgJlQMBjAsDdCtwXnOld+RQfyKpk2b0tWrV28BUb9+fXHjxg3TAAFC4OYpwUBgPE50OHfLwPmWLVtaAMDxT62gpKYZUaLZ2dmq66vtz0l5Ub9+fbpx48YtIOrWrStgGrVWeejUkVvNYPoCDBwpkZsDaukGDRpYTkIjRozQJEDMqiFDhrCGFWoda7uAWwSrryxgeLp586Z5Z4TkCWDAnoGLT4sWLVghh+Oon5+fJhDQrvRL1dPuoh4DrmE7I8y2R9gzhVQSUJA9/vjjdObMGc0AoN309HQxYcIEqBVYn9SyZUu32tMIgKxmu0eY6dTkjLF69eoJ6ImqqqrcElyHDh0EbA2wROoZsK4WEIenJrPcI2piJigoiBNtwdar1YaRmJgo4EEB48+ePXvcAlSt4O3LO7xH9O3bl4+E3rxZu2JMnnKwec+ZM0e1EME4coLACofbu7dj/xzerL2ta3IFAn7fvHkzO/Nio87Ly1MNxPDhwwUuiWbx5XWoa/Km9lUJCLJMnTp1RMOGDZEwURUQCEyHQg/5ATHr27Vrp6q+GhqVlnWoffWWPUIp0bKcPFScPHnSqXu7oza7du3K2ckQCTt79myvgwAaHdojvGGhUwsCystQASRhUWpBQ0gyQm6hCjl27JgpQAAvDi10+MGTNmstIKDOmjVrOJ4Pt+KsrCyXQoU2F/ok3MjXr19vmrhwpzZrMOkpLw6tIKAezt4w9iCwsrKy0iUQMTEx4qOPPqLnn38eJyWX5d2hTU3dGr04pF+TJ61UaoiXZVu0aMFGd+RsrUndjZApJCmpV68ep4Hzpp3Fns8a/ZqM9vTTInRHdYYNGyZgUsVIj4mJcTrKw8PDBbw2XAUR6kWXmnZq9PRDQ0b5vqoh0lVZOXORxi0jI8MhEKtXrxZxcXGcuKWkpMQ0SxJ4c+n7ikJGeIO7Eqza35GXtVOnTsiJhKTu1YR86dIl3qAvXbrEuTCioqJMBYQib3Aj4iPUClpJ+SZNmgj4KSG7vr06fMaMGZziDX5aO3fuNBUI4E1RfAQK6h0xpESwastEREQI2CdgMBo5cqRF2BhIUJf//fff0rfWVEAojhiCQGpDDF1SUpLAJmzvKCyP4NgfkpOTTQUCZKsqhq42RJUidRtcNBGLVlxczALfuHEjpzLCJxBg8DHbF1NUR5WCqdoQZ92wYUOBuLw//viDgYBNBfYKhEVNmTLFdLNBdZw1mKoNmQe6d+/OWe2RtxsAwOUGs2T//v2mA0Fz5gGAYfZcHDJzDm7PiPrEN4XgB+Utl9GaDhyac3GgUbNnp5Gqe+TOQz5yI0PO1J7qrMu7nZ0GjZk9X9Pdd98tYPrEBg2Dj6c/jaMEILfzNclOzJzBDPsEliXsD3PnzjXd3qBbBjOAYeacftu2bRPwYJ8/f77pQNA9px/A8GW5VLII2ZbRPcslmrfO+4pkgW+//bbpRqB6URlX45VXXmF9l+55X0Ey9CRwVcQJxZcJ2TmIhmZClt36coPXPIs8khtckuDLlu8YDI9my5ck+L4fYQuGV74fARJ8X1T5DwivflEFZPi+MUQwPnn3G0NyPPi+umWCr25JMHzfoTPBd+istyzflxnduyDqekP2fatUOxi6AgEyYCdYt27dbf313pdeeolT+2gXe/WaujYmm/d9z1o9RIYAIcnwfeFdOSCGAiHJSE5O5gwySE6OPyTICgkJIaR2MMtXHXE7RlQRMtVY04mYvbi4OMPlZHgHEoyCggL2ugCjeCPlBKJ44JuE7DB4PG3qhLcKcq/iQYIVGJmQkgHeIBgoeAcHB3tERh7pxHqC4hIIMA4fPswCQHoi2JwBBNI/I+eG1aMrfUiPjRyv8kGMBWiorKzkdD2gAXmiAII7n0RWviD9V1JXRtUQgKxj8EfCSJQjEgEoiAYCEH5+fvxGJCgykuFp1KgRhKWIZuTpu379OiJQ+bl27RoDUFFRwW/keEJWTzkj8UYO2ICAAEXtq+FVSVmvdGpPGJYtgAHvbusRC0FC+HgkGMhUjNzdWELkG+1hqYPnn3zDz0mCgHZkW9YzDq79mAWeWn5qAsQUQFgTCN9bCQaSWkGYcmTjXVVVZSPwf9Mb2QADgJCjTwIo30iMLoEwm2+s6YBwNGqslxkAYT/6Ucd+lgAItcuZkiXEqDK1AgijmDdTu/8Dy+FE+GC+QDUAAAAASUVORK5CYII="},555:function(e,t,n){"use strict";e.exports=n.p+"static/media/loginImg.c8a83ed83f3676a0e49f.png"},137:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAYAAAC3+HJeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFIGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMDktMjZUMTE6Mzk6MjgtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTA5LTI2VDE0OjQyOjUyLTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTA5LTI2VDE0OjQyOjUyLTA0OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA0NGQ4YTcyLTBiN2MtNDI3Ny1iNTIxLTlmZDc4ODczYjYyYiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNDRkOGE3Mi0wYjdjLTQyNzctYjUyMS05ZmQ3ODg3M2I2MmIiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowNDRkOGE3Mi0wYjdjLTQyNzctYjUyMS05ZmQ3ODg3M2I2MmIiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjA0NGQ4YTcyLTBiN2MtNDI3Ny1iNTIxLTlmZDc4ODczYjYyYiIgc3RFdnQ6d2hlbj0iMjAxOS0wOS0yNlQxMTozOToyOC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+fkqqoAAACENJREFUaIHlmnmQlcURwH/v7b5FF3HdggIEDRgRBZQVWZUIAqVCLG8q0RIUsUqjRuMRMCqH60VpiVZ5VIwXHmUpHqWJxigo3rdivGIgkURQCahZFAwq9sfuyx/dw9dv9nsrf7ib3U1Xvfp6evqbnpmePqa/lxMRHFQAvwRmWftG4DLaHs4DzgGeB2YDH7aDzA4BhUKhbF/e4VsDjwPXArXA9sClhrc17GHyjgVGt4O8TgFBORXAn4CJwK+AVx1PRTvMo7vDN7SDvE4BQTnnAgcAjwA3AUXH0x7K2crh37SDvE4BlUA/4BJrX2xP7+5ybSA3BywDBqLK8JZzDfAJ8DXwBTAH+LQN5tDhoRI4HugGLAfeMbpXSFsoZ1tgEGqV3aK+IfYDaCI9MP93kAemGP6so2e5sp7AGDRxiMcYCwxoRc6ewEzgaGuvB3rYmP2ANY73GGAYqqAfAauMPtTGmI4mDwA1rcjsjWaAs4HhRuuewTcdeBM4qZWxAuSAo9ADMxk93FvR8oAB7APs5No1wIHoujdDkiR1SZLsmilNRL4WkaKIXCYi2O8loxVFpK/RTrV2o4j0MFofEXnT6E0icq2I5Nw4iMgU6wvj1Ub9iMgq179LRv80EdnkeL4UkRsN/0BEdoz460VkneNvEpErRKRZRD4TkYnGN9zxvGG0/iIyXkR2jcYsiMijjr8oIk+JyBKb2x2ON+fWfJHRFln7C5OLiNS5dT0pItsVi0XCLw+sMz1tik5IDMGaegLVxnM/MNLezQNno1YSIA9cRxrDPnLyiPgCxAlBHTDf5P8HuB34HDjN+ncBdnD8lcC9pFb1BLAQuMDm3BvY3foGuveGAY2opT4LLAUGu/7pwGGG/wW4CxgF1NvcxkZzCGvqh3qBn1q7Fg0lAKeQ7usE4BC/8DzwsJtcAK+cYgatGXU/44C3gKtcn3d7tUAv155NaSbo5xHg26ivAV0swKGo+9kPTRYCfOfwqWg8A/gtcDC6qY9m8D8JvGf4KjRJCclHnlTBNcD5hi8F9gWmAaeXmYMPC0Wbk4ceQBXqGn0VwBsIeeBCE3gYqS/Pshy/gUWbrGQI9id/LbDE8DXoXSoLvDy/yGpUIQAvAy+6cRc7vo0OP86em0izUIA/OjxswkbgK5M5GtgfPWwACWohoLEiXMavJz1AD6JJSzzvOGZPBl4BFlm7ChhvY95TZh3k0RNYD8wjNfdYETFtJDACuBVVrA+0sVsKJ3N7dOH1tAQ/tl/kcNJg+1z0zt8z3smjgRiT1eh4PnJ4UE5f1AofdLx7uXmHzRrl3n3Z4d+gaT+UbqxXzt6o+7yK9ILdHTWGBA0NAVooB/QkXEx6Gr/PrU21gec5YQG8WxqMmv9cYCXwY3RxJ0QL8ZdQb9qDHP5PSsHzJfYcQJoNLYv4mzPwaegeXG/talRhAB84fu/yP4vGDW4pcTR/2PZC4+xjqJWCusmxaGzz7tmPUTKIhyzleN6j0ED7sbWrywiYh6apDajbWI6a9J3AEcYzDtjGcL+BUFrXWx/1+dgWXItPU7+M+P0cm609HfgD8IbRt3U8nzjcH7543HCw/NzjsLAY3Ze11h6AeqlHKPUUJe9tiXKaMmjd0YwoQJXDgzInAIcDZxhtNRo/xMaaa3znkC4sF83J5/9eBqgVBghuxM+x5D6BZnUeTkczz1mO5hXo3XPRPb0SupFmiq1VVV6zZ7C6ITbn19BKSIDNHiRJkuotUU6wBM8rlAZYz9/NhNyAfnJ4y/UtRyvfoC5vKtAHeMqNEzKkKtRCA/SP5Pk4EBThyzz+AgjwE4fvgFrzlcDfHP1zUkV45QYPEVLxAPWk++Kty7tBgBX29NbYhCYcq53MXgBJklQBS8spJ5zEZtIg5RXwCqXVY48PAX6Hup05aNrZL0NGJXAb8BvgXUcPAXkGGsTDSd3f8RxAaUUi3EfqHG0o6cb1Is36QK1lBaXZXFhH2Mg9Hd270DEOP9nh/jDEGWxQ7rKIlhQKhW9Jk5Uw/zHAxnLKCV+AVpEGXh9LXoj4Vzp8IRpoT0RP6IvA+2jKfj7pJlWgMekFSl3k5cDV6MadaeOBZjdT0Nh1O/A08FfrOw6NT3PcQvvaGMOAByhNIAT4GaV3jAAP23M8GrRHGR7eb0A38Uxb49VGr0XvVBNsbA8hEVgK/Mvwf7v+BfY8PkmSEeg+PROXScLvYyspLHK0w13ZYlLEv7crV2wSkRONPikq3YTfRhFpiMaYH/Gca/TdRGRt1PeciNSIyOSI/raI9LSnp68UkdGuPaPMuhEtL73reJtt7b+Oxmx2c7wv6jtLRDa4dn83/nARuUG0JEWxWEREeovIPxz/BhEZmBNpcXgq0WBYsBPwe0efifr+BtQ/ezga9ev3AH929KFoZjYYdZErjGd19H4OtYCR6M19oevrD/wCDeCL0ctcmPh4YJKdyJvRrK7a+HcDXkczy1tIyy9noK63HGyDViJ2RjOqpyNZ64CHSO9wBdRbjEQ9xQJ078ahAX8W2ZWRzZ+pkyTpjZakaoA7CoXC+1nK2ccWtAQ16Ti97WxQg1YmQkJQgWaI1/2vJuRhS/9DEGAEmokdROdXTC/0TyP7ofEh+P62+Eb1g0OWcm4GjiRdSGeFGtQ91gFnAXeTFlDXlnupI0G5bK0rwHzUC9yG3rkgvYvEJZgOCV1VOeOAn6NJywyj9SFd75qslzoadFXlTLTnAtKaXKi4r6dlUbRDQldVTlCId1+T7LmA6KNWR4WsVLorwCD0rtWI3mmGonW0lWhK3Vj2zXaG1lLprqoc0BrdXLTc8x1alplJB8vUWlPOfwF/fFcsvzbEVQAAAABJRU5ErkJggg=="}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".1f6751f9.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="instagram-clon:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/clon-instagram/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkinstagram_clon=self.webpackChunkinstagram_clon||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Dn},SDK_VERSION:function(){return Or},_DEFAULT_ENTRY_NAME:function(){return yr},_addComponent:function(){return wr},_addOrOverwriteComponent:function(){return xr},_apps:function(){return kr},_clearComponents:function(){return _r},_components:function(){return br},_getProvider:function(){return Er},_registerComponent:function(){return Ir},_removeServiceInstance:function(){return Sr},deleteApp:function(){return Dr},getApp:function(){return Rr},getApps:function(){return Pr},initializeApp:function(){return Nr},onLog:function(){return Mr},registerVersion:function(){return Lr},setLogLevel:function(){return Fr}});var t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=n(441),c=n(613),l=n.n(c);var f=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,x=0,I=0,E=0,S=0,_=0,R=0,D=v=d=0,L=0,M=0,F=0,U=0,V=s.length,B=V-1,z="",q="",W="",G="";L<V;){if(p=s.charCodeAt(L),L===B&&0!==I+S+E+x&&(0!==I&&(p=47===I?10:47),S=E=x=0,V++,B++),0===I+S+E+x){if(L===B&&(0<M&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(L)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++L;L<V;){switch(p=s.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<B&&s.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=s.substring(U,L),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=N}if(U=(v=t(r,M,v,p,h+1)).length,0<P&&(b=u(3,v,M=n(N,z,F),r,C,T,U,p,h,c),z=M.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===O||2===O&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,h+1);W+=v,v=F=M=D=d=0,z="",p=s.charCodeAt(++L);break;case 125:case 59:if(1<(U=(z=(0<M?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<P&&void 0!==(b=u(1,z,r,e,C,T,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){G+=z+s.charAt(L);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=M=D=d=0,z="",p=s.charCodeAt(++L)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<z.length&&(M=1,z+="\0"),0<P*j&&u(0,z,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===I+S+E+x){T++;break}default:switch(T++,m=s.charAt(L),p){case 9:case 32:if(0===S+x+I)switch(_){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+I+x&&(M=F=1,m="\f"+m);break;case 108:if(0===S+I+x+A&&0<D)switch(L-D){case 2:112===_&&58===s.charCodeAt(L-3)&&(A=_);case 8:111===R&&(A=R)}break;case 58:0===S+I+x&&(D=L);break;case 44:0===I+E+S+x&&(M=1,m+="\r");break;case 34:case 39:0===I&&(S=S===p?0:0===S?p:S);break;case 91:0===S+I+E&&x++;break;case 93:0===S+I+E&&x--;break;case 41:0===S+I+x&&E--;break;case 40:if(0===S+I+x){if(0===d)if(2*_+3*R===533);else d=1;E++}break;case 64:0===I+E+S+x+D+v&&(v=1);break;case 42:case 47:if(!(0<S+x+E))switch(I){case 0:switch(2*p+3*s.charCodeAt(L+1)){case 235:I=47;break;case 220:U=L,I=42}break;case 42:47===p&&42===_&&U+2!==L&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,L+1)),m="",I=0)}}0===I&&(z+=m)}R=_,_=p,L++}if(0<(U=q.length)){if(M=r,0<P&&(void 0!==(b=u(2,q,M,e,C,T,U,c,h,c))&&0===(q=b).length))return G+q+W;if(q=M.join(",")+"{"+q+"}",0!==O*A){switch(2!==O||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return G+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===O||2===O&&a(s,1)?"-webkit-"+s+s:s}if(0===O||2===O&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(_,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(I,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(I,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=R[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?O=1:(O=2,D=e):O=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(N,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,I=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,T=1,C=1,A=0,O=1,N=[],R=[],P=0,D=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:P=R.length=0;break;default:if("function"===typeof t)R[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},h={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var d=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},p=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,v=d((function(e){return p.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),m=n(110),y=n.n(m);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},b=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,s.typeOf)(e)},w=Object.freeze([]),x=Object.freeze({});function I(e){return"function"==typeof e}function E(e){return e.displayName||e.name||"Component"}function S(e){return e&&"string"==typeof e.styledComponentId}var _="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",T="undefined"!=typeof window&&"HTMLElement"in window,C=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),A={};function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var N=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&O(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),R=new Map,P=new Map,D=1,j=function(e){if(R.has(e))return R.get(e);for(;P.has(D);)D++;var t=D++;return R.set(e,t),P.set(t,e),t},L=function(e){return P.get(e)},M=function(e,t){t>=D&&(D=t+1),R.set(e,t),P.set(t,e)},F="style["+_+'][data-styled-version="5.3.3"]',U=new RegExp("^"+_+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),V=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},B=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(U);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(M(c,s),V(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},z=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},q=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(_))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(_,"active"),r.setAttribute("data-styled-version","5.3.3");var o=z();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},W=function(){function e(e){var t=this.element=q(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}O(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),G=function(){function e(e){var t=this.element=q(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),H=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),K=T,Q={isServer:!T,useCSSOMInjection:!C},Y=function(){function e(e,t,n){void 0===e&&(e=x),void 0===t&&(t={}),this.options=g({},Q,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&T&&K&&(K=!1,function(e){for(var t=document.querySelectorAll(F),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(_)&&(B(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return j(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(g({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new H(i):r?new W(i):new G(i),new N(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(j(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(j(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(j(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=L(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=_+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),J=/(a)(d)/gi,X=function(e){return String.fromCharCode(e+(e>25?39:97))};function Z(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=X(t%52)+n;return(X(t%52)+n).replace(J,"$1-$2")}var $=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ee=function(e){return $(5381,e)};function te(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(I(n)&&!S(n))return!1}return!0}var ne=ee("5.3.3"),re=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&te(e),this.componentId=t,this.baseHash=$(ne,t),this.baseStyle=n,Y.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=we(this.rules,e,t,n).join(""),o=Z($(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=$(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=we(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=$(c,p+f),l+=p}}if(l){var v=Z(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),ie=/^\s*\/\/.*$/gm,ae=[":","[",".","#"];function oe(e){var t,n,r,i,a=void 0===e?x:e,o=a.options,u=void 0===o?x:o,s=a.plugins,c=void 0===s?w:s,l=new f(u),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,a){return 0===r&&-1!==ae.indexOf(a[n.length])||a.match(i)?e:"."+t};function v(e,a,o,u){void 0===u&&(u="&");var s=e.replace(ie,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||O(15),$(e,t.name)}),5381).toString():"",v}var ue=t.createContext(),se=(ue.Consumer,t.createContext()),ce=(se.Consumer,new Y),le=oe();function fe(){return(0,t.useContext)(ue)||ce}function he(){return(0,t.useContext)(se)||le}function de(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=fe(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return oe({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){l()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(ue.Provider,{value:o},t.createElement(se.Provider,{value:u},e.children))}var pe=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=le);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return O(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=le),this.name+e.hash},e}(),ve=/([A-Z])/,me=/([A-Z])/g,ye=/^ms-/,ge=function(e){return"-"+e.toLowerCase()};function ke(e){return ve.test(e)?e.replace(me,ge).replace(ye,"-ms-"):e}var be=function(e){return null==e||!1===e||""===e};function we(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=we(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return be(e)?"":S(e)?"."+e.styledComponentId:I(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:we(e(t),t,n,r):e instanceof pe?n?(e.inject(n,r),e.getName(r)):e:b(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!be(t[o])&&(Array.isArray(t[o])&&t[o].isCss||I(t[o])?a.push(ke(o)+":",t[o],";"):b(t[o])?a.push.apply(a,e(t[o],o)):a.push(ke(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in h?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var xe=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return I(e)||b(e)?xe(we(k(w,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:xe(we(k(e,n)))}new Set;var Ee=function(e,t,n){return void 0===n&&(n=x),e.theme!==n.theme&&e.theme||t||n.theme},Se=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function Te(e){return e.replace(Se,"-").replace(_e,"")}var Ce=function(e){return Z(ee(e)>>>0)};function Ae(e){return"string"==typeof e&&!0}var Oe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ne=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Re(e,t,n){var r=e[n];Oe(t)&&Oe(r)?Pe(r,t):e[n]=t}function Pe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Oe(o))for(var u in o)Ne(u)&&Re(e,o[u],u)}return e}var De=t.createContext();De.Consumer;var je={};function Le(e,n,r){var i=S(e),a=!Ae(e),o=n.attrs,u=void 0===o?w:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Te(e);je[n]=(je[n]||0)+1;var r=n+"-"+Ce("5.3.3"+n+je[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return Ae(e)?"styled."+e:"Styled("+E(e)+")"}(e):l,h=n.displayName&&n.componentId?Te(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var m,k=new re(r,h,i?e.componentStyle:void 0),b=k.isStatic&&0===u.length,_=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=x);var r=g({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in I(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Ee(n,(0,t.useContext)(De),u)||x,n,a),d=h[0],p=h[1],m=function(e,t,n,r){var i=fe(),a=he();return t?e.generateAndInjectStyles(x,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,k=p.$as||n.$as||p.as||n.as||f,b=Ae(k),w=p!==n?g({},n,{},p):n,E={};for(var S in w)"$"!==S[0]&&"as"!==S&&("forwardedAs"===S?E.as=w[S]:(c?c(S,v,k):!b||v(S))&&(E[S]=w[S]));return n.style&&p.style!==n.style&&(E.style=g({},n.style,{},p.style)),E.className=Array.prototype.concat(s,l,m!==l?m:null,n.className,p.className).filter(Boolean).join(" "),E.ref=y,(0,t.createElement)(k,E)}(m,e,n,b)};return _.displayName=f,(m=t.forwardRef(_)).attrs=d,m.componentStyle=k,m.displayName=f,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):w,m.styledComponentId=h,m.target=i?e.target:e,m.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Ae(e)?e:Te(E(e)));return Le(e,g({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Pe({},e.defaultProps,t):t}}),m.toString=function(){return"."+m.styledComponentId},a&&y()(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var Me=function(e){return function e(t,n,r){if(void 0===r&&(r=x),!(0,s.isValidElementType)(n))return O(1,String(n));var i=function(){return t(n,r,Ie.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,g({},r,{},i))},i.attrs=function(i){return e(t,n,g({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Le,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Me[e]=Me(e)}));var Fe=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=te(e),Y.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(we(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Y.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=z();return"<style "+[n&&'nonce="'+n+'"',_+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?O(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return O(2);var r=((n={})[_]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=z();return i&&(r.nonce=i),[t.createElement("style",g({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Y({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?O(2):t.createElement(de,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return O(3)}}();var Ue,Ve,Be,ze,qe,We,Ge,He,Ke,Qe,Ye,Je=Me,Xe=Je.header(Ue||(Ue=u(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 60px;\n    border-bottom: 1px solid var(--border);\n    position: fixed;\n    width: 100%;\n    background-color: white;\n    z-index: 150;\n"]))),Ze=Je.div(Ve||(Ve=u(["\n    max-width: 975px;\n    width: 100%;\n    padding: 0 20px;\n    display: flex;\n    justify-content: space-between;\n    position: fixed;\n    z-index: 150;\n    a:first-child{\n        display: flex\n    }\n"]))),$e=Je.div(Be||(Be=u(["\n    display: flex;\n    align-items: end;\n    cursor: pointer;\n"]))),et=Je.div(ze||(ze=u(["\n    position: relative;\n    margin-left: 11em;\n    @media (max-width: 643px) {\n        display: none;\n    }\n\n    input {\n        background: var(--backgroundInput);\n        width: 268px;\n        height: 36px;\n        border-radius: 6px;\n        border: none;\n        outline: none;\n        padding-left: 16px;\n        ::placeholder{\n            color: var(--colorSecondary);\n            font-size: 0.9rem;\n            font-weight: 300;\n        }\n    },\n\n"]))),tt=Je.div(qe||(qe=u(["\n    display: flex;\n    align-items: center;\n    justify-content: end;\n    & > * {\n        margin: 0 12px;\n        cursor: pointer;\n    }\n"]))),nt=Je.div(We||(We=u(["\n     @media (max-width: 795px) {\n        display: none;\n    }\n"]))),rt=Je.div(Ge||(Ge=u(["\n\n"]))),it=Je.div(He||(He=u(["\n    @media (max-width: 795px) {\n        display: none;\n    }\n"]))),at=Je.div(Ke||(Ke=u(["\n  \n            display: flex;\n            align-items: center;\n            position: absolute;\n            left: 14px;\n            top: 9px;\n            span{\n                margin-left: 6px;\n                color: var(--colorSecondary);\n                font-size: 0.9rem;\n                font-weight: 300;\n            }\n    \n"]))),ot=Je.div(Qe||(Qe=u(["\n    position: relative;\n    &:nth-child(1) {\n        position: absolute;\n        right: 1vw;\n        top: 9px;\n        cursor: pointer\n    }\n"]))),ut=n(983),st=["title","titleId"];function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ft(e,n){var r=e.title,i=e.titleId,a=lt(e,st);return t.createElement("svg",ct({"aria-label":"Inicio",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:22,role:"img",viewBox:"0 0 48 48",width:22,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Ye||(Ye=t.createElement("path",{d:"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z"})))}var ht,dt=t.forwardRef(ft),pt=(n.p,["title","titleId"]);function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}function mt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yt(e,n){var r=e.title,i=e.titleId,a=mt(e,pt);return t.createElement("svg",vt({"aria-label":"Inicio",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,ht||(ht=t.createElement("path",{d:"M9.005 16.545a2.997 2.997 0 012.997-2.997h0A2.997 2.997 0 0115 16.545V22h7V11.543L12 2 2 11.543V22h7.005z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:2})))}var gt,kt=t.forwardRef(yt),bt=(n.p,["title","titleId"]);function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}function xt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function It(e,n){var r=e.title,i=e.titleId,a=xt(e,bt);return t.createElement("svg",wt({"aria-label":"Messenger",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:22,role:"img",viewBox:"0 0 48 48",width:22,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,gt||(gt=t.createElement("path",{d:"M36.2 16.7L29 22.2c-.5.4-1.2.4-1.7 0l-5.4-4c-1.6-1.2-3.9-.8-5 .9l-6.8 10.7c-.7 1 .6 2.2 1.6 1.5l7.3-5.5c.5-.4 1.2-.4 1.7 0l5.4 4c1.6 1.2 3.9.8 5-.9l6.8-10.7c.6-1.1-.7-2.2-1.7-1.5zM24 1C11 1 1 10.5 1 23.3 1 30 3.7 35.8 8.2 39.8c.4.3.6.8.6 1.3l.2 4.1c0 1 .9 1.8 1.8 1.8.2 0 .5 0 .7-.2l4.6-2c.2-.1.5-.2.7-.2.2 0 .3 0 .5.1 2.1.6 4.3.9 6.7.9 13 0 23-9.5 23-22.3S37 1 24 1zm0 41.6c-2 0-4-.3-5.9-.8-.4-.1-.8-.2-1.3-.2-.7 0-1.3.1-2 .4l-3 1.3V41c0-1.3-.6-2.5-1.6-3.4C6.2 34 4 28.9 4 23.3 4 12.3 12.6 4 24 4s20 8.3 20 19.3-8.6 19.3-20 19.3z"})))}var Et,St=t.forwardRef(It),_t=(n.p,["title","titleId"]);function Tt(){return Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}function Ct(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function At(e,n){var r=e.title,i=e.titleId,a=Ct(e,_t);return t.createElement("svg",Tt({"aria-label":"Messenger",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Et||(Et=t.createElement("path",{d:"M12.003 1.131a10.487 10.487 0 00-10.87 10.57 10.194 10.194 0 003.412 7.771l.054 1.78a1.67 1.67 0 002.342 1.476l1.935-.872a11.767 11.767 0 003.127.416 10.488 10.488 0 0010.87-10.57 10.487 10.487 0 00-10.87-10.57zm5.786 9.001l-2.566 3.983a1.577 1.577 0 01-2.278.42l-2.452-1.84a.63.63 0 00-.759.002l-2.556 2.049a.659.659 0 01-.96-.874L8.783 9.89a1.576 1.576 0 012.277-.42l2.453 1.84a.63.63 0 00.758-.003l2.556-2.05a.659.659 0 01.961.874z"})))}var Ot,Nt,Rt,Pt=t.forwardRef(At),Dt=(n.p,["title","titleId"]);function jt(){return jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jt.apply(this,arguments)}function Lt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mt(e,n){var r=e.title,i=e.titleId,a=Lt(e,Dt);return t.createElement("svg",jt({"aria-label":"Nueva publicaci\\xF3n",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:22,role:"img",viewBox:"0 0 48 48",width:22,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Ot||(Ot=t.createElement("path",{d:"M31.8 48H16.2c-6.6 0-9.6-1.6-12.1-4C1.6 41.4 0 38.4 0 31.8V16.2C0 9.6 1.6 6.6 4 4.1 6.6 1.6 9.6 0 16.2 0h15.6c6.6 0 9.6 1.6 12.1 4C46.4 6.6 48 9.6 48 16.2v15.6c0 6.6-1.6 9.6-4 12.1-2.6 2.5-5.6 4.1-12.2 4.1zM16.2 3C10 3 7.8 4.6 6.1 6.2 4.6 7.8 3 10 3 16.2v15.6c0 6.2 1.6 8.4 3.2 10.1 1.6 1.6 3.8 3.1 10 3.1h15.6c6.2 0 8.4-1.6 10.1-3.2 1.6-1.6 3.1-3.8 3.1-10V16.2c0-6.2-1.6-8.4-3.2-10.1C40.2 4.6 38 3 31.8 3H16.2z"})),Nt||(Nt=t.createElement("path",{d:"M36.3 25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h24.6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"})),Rt||(Rt=t.createElement("path",{d:"M24 37.8c-.8 0-1.5-.7-1.5-1.5V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v24.6c0 .8-.7 1.5-1.5 1.5z"})))}var Ft,Ut=t.forwardRef(Mt),Vt=(n.p,["title","titleId"]);function Bt(){return Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt.apply(this,arguments)}function zt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qt(e,n){var r=e.title,i=e.titleId,a=zt(e,Vt);return t.createElement("svg",Bt({"aria-label":"Buscar personas",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:22,role:"img",viewBox:"0 0 48 48",width:22,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Ft||(Ft=t.createElement("path",{clipRule:"evenodd",d:"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z",fillRule:"evenodd"})))}var Wt,Gt=t.forwardRef(qt),Ht=(n.p,["title","titleId"]);function Kt(){return Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kt.apply(this,arguments)}function Qt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yt(e,n){var r=e.title,i=e.titleId,a=Qt(e,Ht);return t.createElement("svg",Kt({"aria-label":"Secci\\xF3n de actividad",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:22,role:"img",viewBox:"0 0 48 48",width:22,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,Wt||(Wt=t.createElement("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})))}var Jt=t.forwardRef(Yt);n.p;function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xt(e)}function Zt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xt(e)););return e}function $t(){return $t="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$t.apply(this,arguments)}function en(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(e,t){return tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tn(e,t)}function nn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tn(e,t)}function rn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function on(e,t){if(t&&("object"===an(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function un(e){var t=rn();return function(){var n,r=Xt(e);if(t){var i=Xt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return on(this,n)}}function sn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function cn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ln(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){cn(a,r,i,o,u,"next",e)}function u(e){cn(a,r,i,o,u,"throw",e)}o(void 0)}))}}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t,n){return t&&hn(e.prototype,t),n&&hn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pn(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mn=n(757),yn=n.n(mn);function gn(e,t,n){return gn=rn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&tn(i,n.prototype),i},gn.apply(null,arguments)}function kn(e){var t="function"===typeof Map?new Map:void 0;return kn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return gn(e,arguments,Xt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),tn(n,e)},kn(e)}var bn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xn=function(e){return function(e){var t=bn(e);return wn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},In=function(e){try{return wn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function En(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=En(e[n],t[n]));return e}var Sn=function(){function e(){var t=this;fn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return dn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _n(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xn(JSON.stringify({alg:"none",type:"JWT"})),xn(JSON.stringify(a)),""].join(".")}function Tn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function An(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function On(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Nn(){var e=Tn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Rn(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pn(){return"object"===typeof indexedDB}var Dn=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(en(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(en(a),jn.prototype.create),a}return dn(n)}(kn(Error)),jn=function(){function e(t,n,r){fn(this,e),this.service=t,this.serviceName=n,this.errors=r}return dn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ln(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Dn(n,a,t);return o}}]),e}();function Ln(e,t){return e.replace(Mn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Mn=/\{\$([^}]+)}/g;function Fn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Un(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Vn(u)&&Vn(s)){if(!Un(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Vn(e){return null!==e&&"object"===typeof e}function Bn(e){for(var t=[],n=function(){var e=o(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function zn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=o(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function qn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Wn(e,t){var n=new Gn(e,t);return n.subscribe.bind(n)}var Gn=function(){function e(t,n){var r=this;fn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return dn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=sn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Hn),void 0===r.error&&(r.error=Hn),void 0===r.complete&&(r.complete=Hn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Hn(){}function Kn(e){return e&&e._delegate?e._delegate:e}function Qn(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Yn=function(){function e(t){fn(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return dn(e,[{key:"transaction",value:function(e,t){return new Jn(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Xn(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Jn=function(){function e(t){var n=this;fn(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return dn(e,[{key:"objectStore",value:function(e){return new Xn(this._transaction.objectStore(e))}}]),e}(),Xn=function(){function e(t){fn(this,e),this._store=t}return dn(e,[{key:"index",value:function(e){return new Zn(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Zn(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Qn(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Qn(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Qn(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Qn(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Zn=function(){function e(t){fn(this,e),this._index=t}return dn(e,[{key:"get",value:function(e){return Qn(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var $n=function(){function e(t,n,r){fn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return dn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),er="[DEFAULT]",tr=function(){function e(t,n){fn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return dn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Sn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch(c){}var t,n=sn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ln(mn.mark((function e(){var t;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(pn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),pn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=sn(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=o(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){u.e(h)}finally{u.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(_w){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===er?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(_w){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er;return this.component?this.component.multipleInstances?e:er:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var nr,rr,ir=function(){function e(t){fn(this,e),this.name=t,this.providers=new Map}return dn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new tr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ar=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rr||(rr={}));var or,ur,sr={debug:rr.DEBUG,verbose:rr.VERBOSE,info:rr.INFO,warn:rr.WARN,error:rr.ERROR,silent:rr.SILENT},cr=rr.INFO,lr=(vn(nr={},rr.DEBUG,"log"),vn(nr,rr.VERBOSE,"log"),vn(nr,rr.INFO,"info"),vn(nr,rr.WARN,"warn"),vn(nr,rr.ERROR,"error"),nr),fr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=lr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},hr=function(){function e(t){fn(this,e),this.name=t,this._logLevel=cr,this._logHandler=fr,this._userLogHandler=null,ar.push(this)}return dn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in rr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?sr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.DEBUG].concat(t)),this._logHandler.apply(this,[this,rr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,rr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.INFO].concat(t)),this._logHandler.apply(this,[this,rr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.WARN].concat(t)),this._logHandler.apply(this,[this,rr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,rr.ERROR].concat(t)),this._logHandler.apply(this,[this,rr.ERROR].concat(t))}}]),e}();var dr=function(){function e(t){fn(this,e),this.container=t}return dn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var pr="@firebase/app",vr="0.7.20",mr=new hr("@firebase/app"),yr="[DEFAULT]",gr=(vn(or={},pr,"fire-core"),vn(or,"@firebase/app-compat","fire-core-compat"),vn(or,"@firebase/analytics","fire-analytics"),vn(or,"@firebase/analytics-compat","fire-analytics-compat"),vn(or,"@firebase/app-check","fire-app-check"),vn(or,"@firebase/app-check-compat","fire-app-check-compat"),vn(or,"@firebase/auth","fire-auth"),vn(or,"@firebase/auth-compat","fire-auth-compat"),vn(or,"@firebase/database","fire-rtdb"),vn(or,"@firebase/database-compat","fire-rtdb-compat"),vn(or,"@firebase/functions","fire-fn"),vn(or,"@firebase/functions-compat","fire-fn-compat"),vn(or,"@firebase/installations","fire-iid"),vn(or,"@firebase/installations-compat","fire-iid-compat"),vn(or,"@firebase/messaging","fire-fcm"),vn(or,"@firebase/messaging-compat","fire-fcm-compat"),vn(or,"@firebase/performance","fire-perf"),vn(or,"@firebase/performance-compat","fire-perf-compat"),vn(or,"@firebase/remote-config","fire-rc"),vn(or,"@firebase/remote-config-compat","fire-rc-compat"),vn(or,"@firebase/storage","fire-gcs"),vn(or,"@firebase/storage-compat","fire-gcs-compat"),vn(or,"@firebase/firestore","fire-fst"),vn(or,"@firebase/firestore-compat","fire-fst-compat"),vn(or,"fire-js","fire-js"),vn(or,"firebase","fire-js-all"),or),kr=new Map,br=new Map;function wr(e,t){try{e.container.addComponent(t)}catch(n){mr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function xr(e,t){e.container.addOrOverwriteComponent(t)}function Ir(e){var t=e.name;if(br.has(t))return mr.debug("There were multiple attempts to register component ".concat(t,".")),!1;br.set(t,e);var n,r=sn(kr.values());try{for(r.s();!(n=r.n()).done;){wr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Er(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr;Er(e,t).clearInstance(n)}function _r(){br.clear()}var Tr=(vn(ur={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),vn(ur,"bad-app-name","Illegal App name: '{$appName}"),vn(ur,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),vn(ur,"app-deleted","Firebase App named '{$appName}' already deleted"),vn(ur,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vn(ur,"invalid-log-argument","First argument to `onLog` must be null or a function."),vn(ur,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),vn(ur,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),vn(ur,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),vn(ur,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ur),Cr=new jn("app","Firebase",Tr),Ar=function(){function e(t,n,r){var i=this;fn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $n("app",(function(){return i}),"PUBLIC"))}return dn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}]),e}(),Or="9.6.10";function Nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:yr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Cr.create("bad-app-name",{appName:String(i)});var a=kr.get(i);if(a){if(Un(e,a.options)&&Un(r,a.config))return a;throw Cr.create("duplicate-app",{appName:i})}var o,u=new ir(i),s=sn(br.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ar(e,r,u);return kr.set(i,l),l}function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=kr.get(e);if(!t)throw Cr.create("no-app",{appName:e});return t}function Pr(){return Array.from(kr.values())}function Dr(e){return jr.apply(this,arguments)}function jr(){return jr=ln(mn.mark((function e(t){var n;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!kr.has(n)){e.next=6;break}return kr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Lr(e,t,n){var r,i=null!==(r=gr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void mr.warn(u.join(" "))}Ir(new $n("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Mr(e,t){if(null!==e&&"function"!==typeof e)throw Cr.create("invalid-log-argument");!function(e,t){var n,r=sn(ar);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=sr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:rr[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Fr(e){var t;t=e,ar.forEach((function(e){e.setLogLevel(t)}))}var Ur="firebase-heartbeat-store",Vr=null;function Br(){var e,t,n;return Vr||(Vr=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ur)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Yn(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Yn(a.result),e.oldVersion,e.newVersion,new Jn(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Cr.create("storage-open",{originalErrorMessage:e.message})}))),Vr}function zr(e){return qr.apply(this,arguments)}function qr(){return qr=ln(mn.mark((function e(t){var n;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Br();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ur).objectStore(Ur).get(Hr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Cr.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),qr.apply(this,arguments)}function Wr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=ln(mn.mark((function e(t,n){var r,i,a;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Br();case 3:return r=e.sent,i=r.transaction(Ur,"readwrite"),a=i.objectStore(Ur),e.next=8,a.put(n,Hr(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Cr.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Gr.apply(this,arguments)}function Hr(e){return"".concat(e.name,"!").concat(e.options.appId)}var Kr=function(){function e(t){var n=this;fn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return dn(e,[{key:"triggerHeartbeat",value:function(){var e=ln(mn.mark((function e(){var t,n,r;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Qr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ln(mn.mark((function e(){var t,n,r,i,a;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Qr(),n=Yr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=xn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qr(){return(new Date).toISOString().substring(0,10)}function Yr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=sn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Zr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Zr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Jr,Xr=function(){function e(t){fn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return dn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ln(mn.mark((function e(){return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ln(mn.mark((function e(){var t;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,zr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ln(mn.mark((function e(t){var n,r;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ln(mn.mark((function e(t){var n,r;return mn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Wr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(pn(r.heartbeats),pn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Zr(e){return xn(JSON.stringify({version:2,heartbeats:e})).length}Jr="",Ir(new $n("platform-logger",(function(e){return new dr(e)}),"PRIVATE")),Ir(new $n("heartbeat",(function(e){return new Kr(e)}),"PRIVATE")),Lr(pr,vr,Jr),Lr(pr,vr,"esm2017"),Lr("fire-js","");function $r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ei;Object.create;function ti(){return vn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ni=ti,ri=new jn("auth","Firebase",ti()),ii=new hr("@firebase/auth");function ai(e){if(ii.logLevel<=rr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ii.error.apply(ii,["Auth (".concat(Or,"): ").concat(e)].concat(n))}}function oi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ci.apply(void 0,[e].concat(n))}function ui(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ci.apply(void 0,[e].concat(n))}function si(e,t,n){var r=Object.assign(Object.assign({},ni()),vn({},t,n));return new jn("auth","Firebase",r).create(t,{appName:e.name})}function ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=pn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(pn(o)))}return ri.create.apply(ri,[e].concat(n))}function li(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ci.apply(void 0,[t].concat(r))}}function fi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ai(t),new Error(t)}function hi(e,t){e||fi(t)}var di=new Map;function pi(e){hi(e instanceof Function,"Expected a class definition");var t=di.get(e);return t?(hi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,di.set(e,t),t)}function vi(e,t){var n=Er(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Un(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;oi(r,"already-initialized")}return n.initialize({options:t})}function mi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yi(){return"http:"===gi()||"https:"===gi()}function gi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ki=function(){function e(t,n){fn(this,e),this.shortDelay=t,this.longDelay=n,hi(n>t,"Short delay should be less than long delay!"),this.isMobile=Cn()||On()}return dn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yi()||An()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function bi(e,t){hi(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var wi=function(){function e(){fn(this,e)}return dn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),xi=(vn(ei={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),vn(ei,"MISSING_CUSTOM_TOKEN","internal-error"),vn(ei,"INVALID_IDENTIFIER","invalid-email"),vn(ei,"MISSING_CONTINUE_URI","internal-error"),vn(ei,"INVALID_PASSWORD","wrong-password"),vn(ei,"MISSING_PASSWORD","internal-error"),vn(ei,"EMAIL_EXISTS","email-already-in-use"),vn(ei,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),vn(ei,"INVALID_IDP_RESPONSE","invalid-credential"),vn(ei,"INVALID_PENDING_TOKEN","invalid-credential"),vn(ei,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),vn(ei,"MISSING_REQ_TYPE","internal-error"),vn(ei,"EMAIL_NOT_FOUND","user-not-found"),vn(ei,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),vn(ei,"EXPIRED_OOB_CODE","expired-action-code"),vn(ei,"INVALID_OOB_CODE","invalid-action-code"),vn(ei,"MISSING_OOB_CODE","internal-error"),vn(ei,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),vn(ei,"INVALID_ID_TOKEN","invalid-user-token"),vn(ei,"TOKEN_EXPIRED","user-token-expired"),vn(ei,"USER_NOT_FOUND","user-token-expired"),vn(ei,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),vn(ei,"INVALID_CODE","invalid-verification-code"),vn(ei,"INVALID_SESSION_INFO","invalid-verification-id"),vn(ei,"INVALID_TEMPORARY_PROOF","invalid-credential"),vn(ei,"MISSING_SESSION_INFO","missing-verification-id"),vn(ei,"SESSION_EXPIRED","code-expired"),vn(ei,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),vn(ei,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),vn(ei,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),vn(ei,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),vn(ei,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),vn(ei,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),vn(ei,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),vn(ei,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),vn(ei,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),vn(ei,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),vn(ei,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ei),Ii=new ki(3e4,6e4);function Ei(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Si(e,t,n,r){return _i.apply(this,arguments)}function _i(){return _i=ln(yn().mark((function e(t,n,r,i){var a,o=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ti(t,a,ln(yn().mark((function e(){var a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Bn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",wi.fetch()(Ni(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function Ti(e,t,n){return Ci.apply(this,arguments)}function Ci(){return Ci=ln(yn().mark((function e(t,n,r){var i,a,u,s,c,l,f,h,d,p;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},xi),n),e.prev=2,a=new Ri(t),e.next=6,Promise.race([r(),a.promise]);case 6:return u=e.sent,a.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Pi(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=o(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Pi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Pi(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw si(t,p,d);case 30:oi(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Dn)){e.next=37;break}throw e.t0;case 37:oi(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Ci.apply(this,arguments)}function Ai(e,t,n,r){return Oi.apply(this,arguments)}function Oi(){return Oi=ln(yn().mark((function e(t,n,r,i){var a,o,u=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Si(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&oi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Ni(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ri=function(){function e(t){var n=this;fn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ui(n.auth,"network-request-failed"))}),Ii.get())}))}return dn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Pi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ui(e,t,r);return i.customData._tokenResponse=n,i}function Di(e,t){return ji.apply(this,arguments)}function ji(){return ji=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Fi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ui(){return Ui=ln(yn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Kn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,li((a=Bi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Fi(Vi(a.auth_time)),issuedAtTime:Fi(Vi(a.iat)),expirationTime:Fi(Vi(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function Vi(e){return 1e3*Number(e)}function Bi(e){var t=o(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ai("JWT malformed, contained fewer than 3 sections"),null;try{var a=In(r);return a?JSON.parse(a):(ai("Failed to decode base64 JWT payload"),null)}catch(u){return ai("Caught error parsing JWT payload as JSON",u),null}}function zi(e,t){return qi.apply(this,arguments)}function qi(){return qi=ln(yn().mark((function e(t,n){var r=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Dn&&Wi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),qi.apply(this,arguments)}function Wi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Gi=function(){function e(t){fn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return dn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hi=function(){function e(t,n){fn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return dn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Fi(this.lastLoginAt),this.creationTime=Fi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ki(e){return Qi.apply(this,arguments)}function Qi(){return Qi=ln(yn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,zi(t,Li(r,{idToken:i}));case 6:li(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Xi(o.providerUserInfo):[],s=Ji(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Hi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(){return(Yi=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kn(t),e.next=3,Ki(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(pn(n),pn(t))}function Xi(e){return e.map((function(e){var t=e.providerId,n=$r(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Zi(e,t){return $i.apply(this,arguments)}function $i(){return $i=ln(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(t,{},ln(yn().mark((function e(){var r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ni(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",wi.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}var ea=function(){function e(){fn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return dn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){li(e.idToken,"internal-error"),li("undefined"!==typeof e.idToken,"internal-error"),li("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Bi(e);return li(t,"internal-error"),li("undefined"!==typeof t.exp,"internal-error"),li("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ln(yn().mark((function e(t){var n,r=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],li(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ln(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return fi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(li("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(li("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(li("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ta(e,t){li("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var na=function(){function e(t){fn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=$r(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?pn(a.providerData):[],this.metadata=new Hi(a.createdAt||void 0,a.lastLoginAt||void 0)}return dn(e,[{key:"getIdToken",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(li(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ui.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Yi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(li(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){li(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ln(yn().mark((function e(t){var n,r,i=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ki(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ln(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,zi(this,Di(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;li(k&&I,t,"internal-error");var E=ea.fromJSON(this.name,I);li("string"===typeof k,t,"internal-error"),ta(f,t.name),ta(h,t.name),li("boolean"===typeof b,t,"internal-error"),li("boolean"===typeof w,t,"internal-error"),ta(d,t.name),ta(p,t.name),ta(v,t.name),ta(m,t.name),ta(y,t.name),ta(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ln(yn().mark((function t(n,r){var i,a,o,u=arguments;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ea).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ki(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ra=function(){function e(){fn(this,e),this.type="NONE",this.storage={}}return dn(e,[{key:"_isAvailable",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ra.type="NONE";var ia=ra;function aa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var oa=function(){function e(t,n,r){fn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=aa(this.userKey,a.apiKey,o),this.fullPersistenceKey=aa("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return dn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ln(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?na._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ln(yn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(pi(ia),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||pi(ia),u=aa(i,n.config.apiKey,n.name),s=null,c=sn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=na._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ua(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fa(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(da(t))return"Blackberry";if(pa(t))return"Webos";if(ca(t))return"Safari";if((t.includes("chrome/")||la(t))&&!t.includes("edge/"))return"Chrome";if(ha(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/firefox\//i.test(e)}function ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function la(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/crios\//i.test(e)}function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iemobile/i.test(e)}function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/android/i.test(e)}function da(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/blackberry/i.test(e)}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/webos/i.test(e)}function va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return/iphone|ipad|ipod/i.test(e)}function ma(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return va(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ya(){return Nn()&&10===document.documentMode}function ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();return va(e)||ha(e)||pa(e)||da(e)||/windows phone/i.test(e)||fa(e)}function ka(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ua(Tn());break;case"Worker":t="".concat(ua(Tn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Or,"/").concat(r)}var ba=function(){function e(t,n,r){fn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xa(this),this.idTokenSubscription=new xa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ri,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return dn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=pi(t)),this._initializationPromise=this.queue(ln(yn().mark((function r(){var i,a;return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,oa.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ln(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ln(yn().mark((function e(t){var n,r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return li(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ki(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Kn(t):null)&&li(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ln(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&li(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ln(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(pi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new jn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ln(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return li(n=t&&pi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,oa.create(this,[pi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ln(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ln(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return li(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return li(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ka(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ln(yn().mark((function e(){var t,n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wa(e){return Kn(e)}var xa=function(){function e(t){var n=this;fn(this,e),this.auth=t,this.observer=null,this.addObserver=Wn((function(e){return n.observer=e}))}return dn(e,[{key:"next",get:function(){return li(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Ia=function(){function e(t,n){fn(this,e),this.providerId=t,this.signInMethod=n}return dn(e,[{key:"toJSON",value:function(){return fi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return fi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return fi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return fi("not implemented")}}]),e}();function Ea(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function _a(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ai(t,"POST","/v1/accounts:signInWithPassword",Ei(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ca(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ai(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,n)));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Oa(e,t){return Na.apply(this,arguments)}function Na(){return Na=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ai(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,n)));case 1:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}var Ra=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return fn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return dn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_a(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ca(t,{email:this._email,oobCode:this._password}));case 5:oi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ea(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Oa(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:oi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ia);function Pa(e,t){return Da.apply(this,arguments)}function Da(){return Da=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ai(t,"POST","/v1/accounts:signInWithIdp",Ei(t,n)));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}var ja=function(e){nn(n,e);var t=un(n);function n(){var e;return fn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return dn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=$r(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ia);function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:sendVerificationCode",Ei(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(){return Fa=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ai(t,"POST","/v1/accounts:signInWithPhoneNumber",Ei(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Ua(){return Ua=ln(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ai(t,"POST","/v1/accounts:signInWithPhoneNumber",Ei(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Pi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ua.apply(this,arguments)}var Va=vn({},"USER_NOT_FOUND","user-not-found");function Ba(){return Ba=ln(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ai(t,"POST","/v1/accounts:signInWithPhoneNumber",Ei(t,r),Va));case 2:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}var za=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return dn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Fa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ua.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ba.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ia);var qa=function(){function e(t){var n,r,i,a,o,u;fn(this,e);var s=zn(qn(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);li(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return dn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=zn(qn(e)).link,n=t?zn(qn(t)).deep_link_id:null,r=zn(qn(e)).deep_link_id;return(r?zn(qn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(_w){return null}}}]),e}();var Wa=function(){function e(){fn(this,e),this.providerId=e.PROVIDER_ID}return dn(e,null,[{key:"credential",value:function(e,t){return Ra._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qa.parseLink(t);return li(n,"argument-error"),Ra._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Wa.PROVIDER_ID="password",Wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ga=function(){function e(t){fn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return dn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ha=function(e){nn(n,e);var t=un(n);function n(){var e;return fn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return dn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return pn(this.scopes)}}]),n}(Ga),Ka=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.call(this,"facebook.com")}return dn(n,null,[{key:"credential",value:function(e){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_w){return null}}}]),n}(Ha);Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ka.PROVIDER_ID="facebook.com";var Qa=function(e){nn(n,e);var t=un(n);function n(){var e;return fn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return dn(n,null,[{key:"credential",value:function(e,t){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(_w){return null}}}]),n}(Ha);Qa.GOOGLE_SIGN_IN_METHOD="google.com",Qa.PROVIDER_ID="google.com";var Ya=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.call(this,"github.com")}return dn(n,null,[{key:"credential",value:function(e){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(_w){return null}}}]),n}(Ha);Ya.GITHUB_SIGN_IN_METHOD="github.com",Ya.PROVIDER_ID="github.com";var Ja=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.call(this,"twitter.com")}return dn(n,null,[{key:"credential",value:function(e,t){return ja._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(_w){return null}}}]),n}(Ha);function Xa(e,t){return Za.apply(this,arguments)}function Za(){return Za=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ai(t,"POST","/v1/accounts:signUp",Ei(t,n)));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}Ja.TWITTER_SIGN_IN_METHOD="twitter.com",Ja.PROVIDER_ID="twitter.com";var $a=function(){function e(t){fn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return dn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ln(yn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,na._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=eo(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ln(yn().mark((function t(n,r,i){var a;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=eo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function eo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function to(){return to=ln(yn().mark((function e(t){var n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wa(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new $a({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Xa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,$a._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no=function(e){nn(n,e);var t=un(n);function n(e,r,i,a){var o,u;return fn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(en(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return dn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Dn);function ro(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw no._fromErrorAndOperation(e,n,t,r);throw n}))}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=ln(yn().mark((function e(t,n){var r,i,a=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=zi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",$a._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=ln(yn().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,zi(t,ro(i,a,n,t),r);case 6:return li((o=e.sent).idToken,i,"internal-error"),li(u=Bi(o.idToken),i,"internal-error"),s=u.sub,li(t.uid===s,i,"user-mismatch"),e.abrupt("return",$a._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&oi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),uo.apply(this,arguments)}function so(e,t){return co.apply(this,arguments)}function co(){return co=ln(yn().mark((function e(t,n){var r,i,a,o,u=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ro(t,i,n);case 4:return a=e.sent,e.next=7,$a._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(wa(t),n));case 1:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(){return ho=ln(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wa(t),e.next=3,Xa(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,$a._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return(yo=ln(yn().mark((function e(t,n){var r,i,a,o,u,s,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Kn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,zi(a,po(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t){return Si(e,"POST","/v2/accounts/mfaEnrollment:start",Ei(e,t))}new WeakMap;var ko="__sak",bo=function(){function e(t,n){fn(this,e),this.storageRetriever=t,this.type=n}return dn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch(_w){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var wo=function(e){nn(n,e);var t=un(n);function n(){var e;return fn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Tn();return ca(e)||va(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ga(),e._shouldAllowMigration=!0,e}return dn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ya()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ln(yn().mark((function e(t,r){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(Xt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ln(yn().mark((function e(t){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(Xt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(Xt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(bo);wo.type="LOCAL";var xo=wo,Io=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return dn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(bo);Io.type="SESSION";var Eo=Io;function So(e){return Promise.all(e.map(function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var _o=function(){function e(t){fn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return dn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ln(yn().mark((function e(t){var n,r,i,a,o,u,s,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,So(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function To(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_o.receivers=[];var Co=function(){function e(t){fn(this,e),this.target=t,this.handlers=new Set}return dn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ln(yn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=To("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ao(){return window}function Oo(){return"undefined"!==typeof Ao().WorkerGlobalScope&&"function"===typeof Ao().importScripts}function No(){return Ro.apply(this,arguments)}function Ro(){return(Ro=ln(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Po(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Do="firebaseLocalStorageDb",jo="firebaseLocalStorage",Lo="fbase_key",Mo=function(){function e(t){fn(this,e),this.request=t}return dn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Fo(e,t){return e.transaction([jo],t?"readwrite":"readonly").objectStore(jo)}function Uo(){var e=indexedDB.deleteDatabase(Do);return new Mo(e).toPromise()}function Vo(){var e=indexedDB.open(Do,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(jo,{keyPath:Lo})}catch(r){n(r)}})),e.addEventListener("success",ln(yn().mark((function n(){var r;return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(jo)){n.next=12;break}return r.close(),n.next=5,Uo();case 5:return n.t0=t,n.next=8,Vo();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Bo(e,t,n){return zo.apply(this,arguments)}function zo(){return zo=ln(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fo(t,!0).put((vn(i={},Lo,n),vn(i,"value",r),i)),e.abrupt("return",new Mo(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function qo(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=ln(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fo(t,!1).get(n),e.next=3,new Mo(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Go(e,t){var n=Fo(e,!0).delete(t);return new Mo(n).toPromise()}var Ho=function(){function e(){fn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return dn(e,[{key:"_openDb",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Vo();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ln(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ln(yn().mark((function e(){var t=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=_o._getInstance(Oo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ln(yn().mark((function e(n,r){var i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ln(yn().mark((function e(){var t,n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Co(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Po()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ln(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Vo();case 5:return t=e.sent,e.next=8,Bo(t,ko,"1");case 8:return e.next=10,Go(t,ko);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ln(yn().mark((function e(t,n){var r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Bo(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return qo(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ln(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Go(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ln(yn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Fo(e,!1).getAll();return new Mo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=sn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ho.type="LOCAL";var Ko=Ho;function Qo(e,t){return Si(e,"POST","/v2/accounts/mfaSignIn:start",Ei(e,t))}function Yo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ui("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Jo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Jo("rcb"),new ki(3e4,6e4);var Xo="recaptcha";function Zo(e,t,n){return $o.apply(this,arguments)}function $o(){return $o=ln(yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,li("string"===typeof a,t,"argument-error"),li(r.type===Xo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return li("enroll"===u.type,t,"internal-error"),e.next=13,go(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return li("signin"===u.type,t,"internal-error"),li(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Qo(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,La(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),$o.apply(this,arguments)}var eu=function(){function e(t){fn(this,e),this.providerId=e.PROVIDER_ID,this.auth=wa(t)}return dn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Zo(this.auth,e,Kn(t))}}],[{key:"credential",value:function(e,t){return za._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?za._fromTokenResponse(n,r):null}}]),e}();function tu(e,t){return t?pi(t):(li(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}eu.PROVIDER_ID="phone",eu.PHONE_SIGN_IN_METHOD="phone";var nu=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return dn(n,[{key:"_getIdTokenResponse",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ia);function ru(e){return so(e.auth,new nu(e),e.bypassAuthState)}function iu(e){var t=e.auth,n=e.user;return li(n,t,"internal-error"),oo(n,new nu(e),e.bypassAuthState)}function au(e){return ou.apply(this,arguments)}function ou(){return ou=ln(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,li(r=t.user,n,"internal-error"),e.abrupt("return",io(r,new nu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}var uu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];fn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return dn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ln(yn().mark((function t(n,r){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ln(yn().mark((function e(t){var n,r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ru;case"linkViaPopup":case"linkViaRedirect":return au;case"reauthViaPopup":case"reauthViaRedirect":return iu;default:oi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),su=new ki(2e3,1e4);var cu=function(e){nn(n,e);var t=un(n);function n(e,r,i,a,o){var u;return fn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=en(u),u}return dn(n,[{key:"executeNotNull",value:function(){var e=ln(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return li(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ln(yn().mark((function e(){var t,n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hi(1===this.filter.length,"Popup operations only handle one event"),t=To(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ui(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ui(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ui(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,su.get())}()}}]),n}(uu);cu.currentPopupAction=null;var lu=new Map,fu=function(e){nn(n,e);var t=un(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return fn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return dn(n,[{key:"execute",value:function(){var e=ln(yn().mark((function e(){var t,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=lu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,hu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,$t(Xt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:lu.set(this.auth._key(),t);case 21:return this.bypassAuthState||lu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ln(yn().mark((function e(t){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",$t(Xt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",$t(Xt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(uu);function hu(e,t){return du.apply(this,arguments)}function du(){return du=ln(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vu(n),i=pu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e){return pi(e._redirectPersistence)}function vu(e){return aa("pendingRedirect",e.config.apiKey,e.name)}function mu(e,t){return yu.apply(this,arguments)}function yu(){return yu=ln(yn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=wa(t),a=tu(i,n),o=new fu(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}var gu=function(){function e(t){fn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return dn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ui(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ku(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ku(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ku(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function wu(e){return xu.apply(this,arguments)}function xu(){return xu=ln(yn().mark((function e(t){var n,r=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Si(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xu.apply(this,arguments)}var Iu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eu=/^https?/;function Su(){return Su=ln(yn().mark((function e(t){var n,r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wu(t);case 4:n=e.sent,r=n.authorizedDomains,i=sn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!_u(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:oi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Su.apply(this,arguments)}function _u(e){var t=mi(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Eu.test(r))return!1;if(Iu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Tu=new ki(3e4,6e4);function Cu(){var e=Ao().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=pn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Au=null;function Ou(e){return Au=Au||function(e){return new Promise((function(t,n){var r,i,a;function o(){Cu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cu(),n(ui(e,"network-request-failed"))},timeout:Tu.get()})}if(null===(i=null===(r=Ao().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ao().gapi)||void 0===a?void 0:a.load)){var u=Jo("iframefcb");return Ao()[u]=function(){gapi.load?o():n(ui(e,"network-request-failed"))},Yo("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Au=null,e}))}(e),Au}var Nu=new ki(5e3,15e3),Ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Du(e){var t=e.config;li(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Or},i=Pu.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Bn(r).slice(1))}function ju(e){return Lu.apply(this,arguments)}function Lu(){return Lu=ln(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ou(t);case 2:return n=e.sent,li(r=Ao().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Du(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ru,dontclear:!0},(function(e){return new Promise(function(){var n=ln(yn().mark((function n(r,i){var a,o,u;return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ao().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ui(t,"network-request-failed"),o=Ao().setTimeout((function(){i(a)}),Nu.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}var Mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fu="_blank",Uu="http://localhost",Vu=function(){function e(t){fn(this,e),this.window=t,this.associatedEvent=null}return dn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Bu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Mu),{width:r.toString(),height:i.toString(),top:a,left:u}),l=Tn().toLowerCase();n&&(s=la(l)?Fu:n),sa(l)&&(t=t||Uu,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=o(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ma(l)&&"_self"!==s)return zu(t||"",s),new Vu(null);var h=window.open(t||"",s,f);li(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Vu(h)}function zu(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qu="__/auth/handler",Wu="emulator/auth/handler";function Gu(e,t,n,r,i,a){li(e.config.authDomain,e,"auth-domain-config-required"),li(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Or,eventId:i};if(t instanceof Ga){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=o(c[s],2),f=l[0],h=l[1];u[f]=h}}if(t instanceof Ha){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(u.scopes=d.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qu);return bi(t,Wu)}(e),"?").concat(Bn(p).slice(1))}var Hu="webStorageSupport",Ku=function(){function e(){fn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eo,this._completeRedirectFn=mu}return dn(e,[{key:"_openPopup",value:function(){var e=ln(yn().mark((function e(t,n,r,i){var a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hi(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Gu(t,n,r,mi(),i),e.abrupt("return",Bu(t,o,To()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ln(yn().mark((function e(t,n,r,i){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Gu(t,n,r,mi(),i),Ao().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(hi(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ln(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju(t);case 2:return n=e.sent,r=new gu(t),n.register("authEvent",(function(e){return li(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Hu,{type:Hu},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),oi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Su.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ga()||ca()||va()}}]),e}(),Qu=Ku,Yu=function(){function e(t){fn(this,e),this.factorId=t}return dn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return fi("unexpected MultiFactorSessionType")}}}]),e}(),Ju=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this,"phone")).credential=e,r}return dn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Si(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ei(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Si(e,"POST","/v2/accounts/mfaSignIn:finalize",Ei(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Yu);(function(){function e(){fn(this,e)}return dn(e,null,[{key:"assertion",value:function(e){return Ju._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Xu,Zu="@firebase/auth",$u="0.19.11",es=function(){function e(t){fn(this,e),this.auth=t,this.internalListeners=new Map}return dn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){li(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Xu="Browser",Ir(new $n("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){li(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),li(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Xu,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ka(Xu)},i=new ba(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ir(new $n("auth-internal",(function(e){return function(e){return new es(e)}(wa(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Zu,$u,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Xu)),Lr(Zu,$u,"esm2017");var ts;Lr("firebase","9.6.10","app");var ns=function(){function e(t,n){var r=this;fn(this,e),this._delegate=t,this.firebase=n,wr(t,new $n("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return dn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Dr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){wr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){xr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),rs=(vn(ts={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),vn(ts,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ts),is=new jn("app-compat","Firebase",rs);var as=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Nr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Fn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Lr,setLogLevel:Fr,onLog:Mr,apps:null,SDK_VERSION:Or,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ir(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw is.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&En(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Fn(n,e=e||yr))throw is.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ns);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){En(n,e)},createSubscribe:Wn,ErrorFactory:jn,deepExtend:En}),n}(),os=new hr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){os.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var us=self.firebase.SDK_VERSION;us&&us.indexOf("LITE")>=0&&os.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ss=as;!function(e){Lr("@firebase/app-compat","0.1.21",e)}();ss.registerVersion("firebase","9.6.10","app-compat");var cs,ls="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},fs={},hs=hs||{},ds=ls||self;function ps(){}function vs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ms(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ys="closure_uid_"+(1e9*Math.random()>>>0),gs=0;function ks(e,t,n){return e.call.apply(e.bind,arguments)}function bs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ws(e,t,n){return(ws=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ks:bs).apply(null,arguments)}function xs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Is(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Es(){this.s=this.s,this.o=this.o}var Ss={};Es.prototype.s=!1,Es.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ys)&&e[ys]||(e[ys]=++gs)}(this);delete Ss[e]}},Es.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _s=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ts=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Cs(e){return Array.prototype.concat.apply([],arguments)}function As(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Os(e){return/^[\s\xa0]*$/.test(e)}var Ns,Rs=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ps(e,t){return-1!=e.indexOf(t)}function Ds(e,t){return e<t?-1:e>t?1:0}e:{var js=ds.navigator;if(js){var Ls=js.userAgent;if(Ls){Ns=Ls;break e}}Ns=""}function Ms(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Fs(e){var t={};for(var n in e)t[n]=e[n];return t}var Us="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Us.length;a++)n=Us[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bs(e){return Bs[" "](e),e}Bs[" "]=ps;var zs,qs=Ps(Ns,"Opera"),Ws=Ps(Ns,"Trident")||Ps(Ns,"MSIE"),Gs=Ps(Ns,"Edge"),Hs=Gs||Ws,Ks=Ps(Ns,"Gecko")&&!(Ps(Ns.toLowerCase(),"webkit")&&!Ps(Ns,"Edge"))&&!(Ps(Ns,"Trident")||Ps(Ns,"MSIE"))&&!Ps(Ns,"Edge"),Qs=Ps(Ns.toLowerCase(),"webkit")&&!Ps(Ns,"Edge");function Ys(){var e=ds.document;return e?e.documentMode:void 0}e:{var Js="",Xs=function(){var e=Ns;return Ks?/rv:([^\);]+)(\)|;)/.exec(e):Gs?/Edge\/([\d\.]+)/.exec(e):Ws?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qs?/WebKit\/(\S+)/.exec(e):qs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xs&&(Js=Xs?Xs[1]:""),Ws){var Zs=Ys();if(null!=Zs&&Zs>parseFloat(Js)){zs=String(Zs);break e}}zs=Js}var $s,ec={};function tc(){return function(e){var t=ec;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Rs(String(zs)).split("."),n=Rs("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ds(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ds(0==a[2].length,0==o[2].length)||Ds(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ds.document&&Ws){var nc=Ys();$s=nc||(parseInt(zs,10)||void 0)}else $s=void 0;var rc=$s,ic=function(){if(!ds.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ds.addEventListener("test",ps,t),ds.removeEventListener("test",ps,t)}catch(n){}return e}();function ac(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function oc(e,t){if(ac.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ks){e:{try{Bs(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:uc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&oc.Z.h.call(this)}}ac.prototype.h=function(){this.defaultPrevented=!0},Is(oc,ac);var uc={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),cc=0;function lc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++cc,this.ca=this.fa=!1}function fc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function hc(e){this.src=e,this.g={},this.h=0}function dc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_s(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(fc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}hc.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=pc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new lc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var vc="closure_lm_"+(1e6*Math.random()|0),mc={};function yc(e,t,n,r,i){if(r&&r.once)return kc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)yc(e,t[a],n,r,i);return null}return n=_c(n),e&&e[sc]?e.N(t,n,ms(r)?!!r.capture:!!r,i):gc(e,t,n,!1,r,i)}function gc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ms(i)?!!i.capture:!!i,u=Ec(e);if(u||(e[vc]=u=new hc(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ic;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ic||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function kc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)kc(e,t[a],n,r,i);return null}return n=_c(n),e&&e[sc]?e.O(t,n,ms(r)?!!r.capture:!!r,i):gc(e,t,n,!0,r,i)}function bc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)bc(e,t[a],n,r,i);else r=ms(r)?!!r.capture:!!r,n=_c(n),e&&e[sc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=pc(a=e.g[t],n,r,i))&&(fc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ec(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pc(t,n,r,i)),(n=-1<e?t[e]:null)&&wc(n))}function wc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[sc])dc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ec(t))?(dc(n,e),0==n.h&&(n.src=null,t[vc]=null)):fc(e)}}}function xc(e){return e in mc?mc[e]:mc[e]="on"+e}function Ic(e,t){if(e.ca)e=!0;else{t=new oc(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&wc(e),e=n.call(r,t)}return e}function Ec(e){return(e=e[vc])instanceof hc?e:null}var Sc="__closure_events_fn_"+(1e9*Math.random()>>>0);function _c(e){return"function"===typeof e?e:(e[Sc]||(e[Sc]=function(t){return e.handleEvent(t)}),e[Sc])}function Tc(){Es.call(this),this.i=new hc(this),this.P=this,this.I=null}function Cc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ac(t,e);else if(t instanceof ac)t.target=t.target||e;else{var i=t;Vs(t=new ac(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ac(o,r,!0,t)&&i}if(i=Ac(o=t.g=e,r,!0,t)&&i,i=Ac(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ac(o=t.g=n[a],r,!1,t)&&i}function Ac(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&dc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Is(Tc,Es),Tc.prototype[sc]=!0,Tc.prototype.removeEventListener=function(e,t,n,r){bc(this,e,t,n,r)},Tc.prototype.M=function(){if(Tc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fc(n[r]);delete t.g[e],t.h--}}this.I=null},Tc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Tc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oc=ds.JSON.stringify;function Nc(){var e=Uc,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rc,Pc=function(){function e(){fn(this,e),this.h=this.g=null}return dn(e,[{key:"add",value:function(e,t){var n=Dc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Dc=new(function(){function e(t,n){fn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return dn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new jc}),(function(e){return e.reset()})),jc=function(){function e(){fn(this,e),this.next=this.g=this.h=null}return dn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Lc(e){ds.setTimeout((function(){throw e}),0)}function Mc(e,t){Rc||function(){var e=ds.Promise.resolve(void 0);Rc=function(){e.then(Vc)}}(),Fc||(Rc(),Fc=!0),Uc.add(e,t)}var Fc=!1,Uc=new Pc;function Vc(){for(var e;e=Nc();){try{e.h.call(e.g)}catch(n){Lc(n)}var t=Dc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fc=!1}function Bc(e,t){Tc.call(this),this.h=e||1,this.g=t||ds,this.j=ws(this.kb,this),this.l=Date.now()}function zc(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qc(e,t,n){if("function"===typeof e)n&&(e=ws(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ws(e.handleEvent,e)}return 2147483647<Number(t)?-1:ds.setTimeout(e,t||0)}function Wc(e){e.g=qc((function(){e.g=null,e.i&&(e.i=!1,Wc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Is(Bc,Tc),(cs=Bc.prototype).da=!1,cs.S=null,cs.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cc(this,"tick"),this.da&&(zc(this),this.start()))}},cs.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},cs.M=function(){Bc.Z.M.call(this),zc(this),delete this.g};var Gc=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return dn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Wc(this)}},{key:"M",value:function(){$t(Xt(n.prototype),"M",this).call(this),this.g&&(ds.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Es);function Hc(e){Es.call(this),this.h=e,this.g={}}Is(Hc,Es);var Kc=[];function Qc(e,t,n,r){Array.isArray(n)||(n&&(Kc[0]=n.toString()),n=Kc);for(var i=0;i<n.length;i++){var a=yc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Yc(e){Ms(e.g,(function(e,t){this.g.hasOwnProperty(t)&&wc(e)}),e),e.g={}}function Jc(){this.g=!0}function Xc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Oc(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Hc.prototype.M=function(){Hc.Z.M.call(this),Yc(this)},Hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jc.prototype.Aa=function(){this.g=!1},Jc.prototype.info=function(){};var Zc={},$c=null;function el(){return $c=$c||new Tc}function tl(e){ac.call(this,Zc.Ma,e)}function nl(e){var t=el();Cc(t,new tl(t,e))}function rl(e,t){ac.call(this,Zc.STAT_EVENT,e),this.stat=t}function il(e){var t=el();Cc(t,new rl(t,e))}function al(e,t){ac.call(this,Zc.Na,e),this.size=t}function ol(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ds.setTimeout((function(){e()}),t)}Zc.Ma="serverreachability",Is(tl,ac),Zc.STAT_EVENT="statevent",Is(rl,ac),Zc.Na="timingevent",Is(al,ac);var ul={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cl(){}function ll(e){return e.h||(e.h=e.i())}function fl(){}cl.prototype.h=null;var hl,dl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pl(){ac.call(this,"d")}function vl(){ac.call(this,"c")}function ml(){}function yl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Hc(this),this.P=kl,e=Hs?125:void 0,this.W=new Bc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gl}function gl(){this.i=null,this.g="",this.h=!1}Is(pl,ac),Is(vl,ac),Is(ml,cl),ml.prototype.g=function(){return new XMLHttpRequest},ml.prototype.i=function(){return{}},hl=new ml;var kl=45e3,bl={},wl={};function xl(e,t,n){e.K=1,e.v=Gl(Ul(t)),e.s=n,e.U=!0,Il(e,null)}function Il(e,t){e.F=Date.now(),Tl(e),e.A=Ul(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),af(n.h,"t",r),e.C=0,n=e.l.H,e.h=new gl,e.g=uh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gc(ws(e.Ia,e,e.g),e.O)),Qc(e.V,e.g,"readystatechange",e.gb),t=e.H?Fs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),nl(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function El(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Sl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=_l(e,n))==wl){4==t&&(e.o=4,il(14),i=!1),Xc(e.j,e.m,null,"[Incomplete Response]");break}if(r==bl){e.o=4,il(15),Xc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xc(e.j,e.m,r,null),Rl(e,r)}El(e)&&r!=wl&&r!=bl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,il(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$f(t),t.L=!0,il(11))):(Xc(e.j,e.m,n,"[Invalid Chunked Response]"),Nl(e),Ol(e))}function _l(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wl:(n=Number(t.substring(n,r)),isNaN(n)?bl:(r+=1)+n>t.length?wl:(t=t.substr(r,n),e.C=r+n,t))}function Tl(e){e.Y=Date.now()+e.P,Cl(e,e.P)}function Cl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ol(ws(e.eb,e),t)}function Al(e){e.B&&(ds.clearTimeout(e.B),e.B=null)}function Ol(e){0==e.l.G||e.I||nh(e.l,e)}function Nl(e){Al(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zc(e.W),Yc(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Rl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||df(n.i,e)))if(n.I=e.N,!e.J&&df(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;th(n),Wf(n)}Zf(n),il(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ol(ws(n.ab,n),6e3));if(1>=hf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ih(n,11)}else if((e.J||n.g==e)&&th(n),!Os(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ps(l,"spdy")||Ps(l,"quic")||Ps(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(pf(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Wl(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=oh(r,r.H?r.la:null,r.W),d.J){vf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Al(p),Tl(p)),r.g=d}else Xf(r);0<n.l.length&&Kf(n)}else"stop"!=a[0]&&"close"!=a[0]||ih(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ih(n,7):qf(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}nl(4)}catch(a){}}function Pl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vs(e)||"string"===typeof e)Ts(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(vs(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(vs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Dl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function jl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ll(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ll(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ll(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(cs=yl.prototype).setTimeout=function(e){this.P=e},cs.gb=function(e){e=e.target;var t=this.L;t&&3==Ff(e)?t.l():this.Ia(e)},cs.Ia=function(e){try{if(e==this.g)e:{var t=Ff(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Hs||this.g&&(this.h.h||this.g.ga()||Uf(this.g)))){this.I||4!=t||7==n||nl(8==n||0>=r?3:2),Al(this);var i=this.g.ba();this.N=i;t:if(El(this)){var a=Uf(this.g);e="";var o=a.length,u=4==Ff(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Nl(this),Ol(this);var s="";break t}this.h.i=new ds.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Os(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,il(12),Nl(this),Ol(this);break e}Xc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rl(this,i)}this.U?(Sl(this,t,s),Hs&&this.i&&3==t&&(Qc(this.V,this.W,"tick",this.fb),this.W.start())):(Xc(this.j,this.m,s,null),Rl(this,s)),4==t&&Nl(this),this.i&&!this.I&&(4==t?nh(this.l,this):(this.i=!1,Tl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,il(12)):(this.o=0,il(13)),Nl(this),Ol(this)}}}catch(t){}},cs.fb=function(){if(this.g){var e=Ff(this.g),t=this.g.ga();this.C<t.length&&(Al(this),Sl(this,e,t),this.i&&4!=e&&Tl(this))}},cs.cancel=function(){this.I=!0,Nl(this)},cs.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(nl(3),il(17)),Nl(this),this.o=2,Ol(this)):Cl(this,this.Y-e)},(cs=Dl.prototype).R=function(){jl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},cs.T=function(){return jl(this),this.g.concat()},cs.get=function(e,t){return Ll(this.h,e)?this.h[e]:t},cs.set=function(e,t){Ll(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},cs.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ml=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fl){this.g=void 0!==t?t:e.g,Vl(this,e.j),this.s=e.s,Bl(this,e.i),zl(this,e.m),this.l=e.l,t=e.h;var n=new ef;n.i=t.i,t.g&&(n.g=new Dl(t.g),n.h=t.h),ql(this,n),this.o=e.o}else e&&(n=String(e).match(Ml))?(this.g=!!t,Vl(this,n[1]||"",!0),this.s=Hl(n[2]||""),Bl(this,n[3]||"",!0),zl(this,n[4]),this.l=Hl(n[5]||"",!0),ql(this,n[6]||"",!0),this.o=Hl(n[7]||"")):(this.g=!!t,this.h=new ef(null,this.g))}function Ul(e){return new Fl(e)}function Vl(e,t,n){e.j=n?Hl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bl(e,t,n){e.i=n?Hl(t,!0):t}function zl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ql(e,t,n){t instanceof ef?(e.h=t,function(e,t){t&&!e.j&&(tf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nf(this,t),af(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Kl(t,Zl)),e.h=new ef(t,e.g))}function Wl(e,t,n){e.h.set(t,n)}function Gl(e){return Wl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ql),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ql(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kl(t,Yl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kl(t,Yl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kl(n,"/"==n.charAt(0)?Xl:Jl,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kl(n,$l)),e.join("")};var Yl=/[#\/\?@]/g,Jl=/[#\?:]/g,Xl=/[#\?]/g,Zl=/[#\?@]/g,$l=/#/g;function ef(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tf(e){e.g||(e.g=new Dl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nf(e,t){tf(e),t=of(e,t),Ll(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ll((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&jl(e)))}function rf(e,t){return tf(e),t=of(e,t),Ll(e.g.h,t)}function af(e,t,n){nf(e,t),0<n.length&&(e.i=null,e.g.set(of(e,t),As(n)),e.h+=n.length)}function of(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(cs=ef.prototype).add=function(e,t){tf(this),this.i=null,e=of(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},cs.forEach=function(e,t){tf(this),this.g.forEach((function(n,r){Ts(n,(function(n){e.call(t,n,r,this)}),this)}),this)},cs.T=function(){tf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},cs.R=function(e){tf(this);var t=[];if("string"===typeof e)rf(this,e)&&(t=Cs(t,this.g.get(of(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Cs(t,e[n])}return t},cs.set=function(e,t){return tf(this),this.i=null,rf(this,e=of(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},cs.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},cs.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var uf=dn((function e(t,n){fn(this,e),this.h=t,this.g=n}));function sf(e){this.l=e||lf,ds.PerformanceNavigationTiming?e=0<(e=ds.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ds.g&&ds.g.Ea&&ds.g.Ea()&&ds.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cf,lf=10;function ff(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hf(e){return e.h?1:e.g?e.g.size:0}function df(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pf(e,t){e.g?e.g.add(t):e.h=t}function vf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=sn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return As(e.i)}function yf(){}function gf(){this.g=new yf}function kf(e,t,n){var r=n||"";try{Pl(e,(function(e,n){var i=e;ms(e)&&(i=Oc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function wf(e){this.l=e.$b||null,this.j=e.ib||!1}function xf(e,t){Tc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=If,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sf.prototype.cancel=function(){if(this.i=mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=sn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yf.prototype.stringify=function(e){return ds.JSON.stringify(e,void 0)},yf.prototype.parse=function(e){return ds.JSON.parse(e,void 0)},Is(wf,cl),wf.prototype.g=function(){return new xf(this.l,this.j)},wf.prototype.i=(cf={},function(){return cf}),Is(xf,Tc);var If=0;function Ef(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Sf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_f(e)}function _f(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(cs=xf.prototype).open=function(e,t){if(this.readyState!=If)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_f(this)},cs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ds).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},cs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sf(this)),this.readyState=If},cs.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_f(this)),this.g&&(this.readyState=3,_f(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ds.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ef(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},cs.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sf(this):_f(this),3==this.readyState&&Ef(this)}},cs.Ua=function(e){this.g&&(this.response=this.responseText=e,Sf(this))},cs.Ta=function(e){this.g&&(this.response=e,Sf(this))},cs.ha=function(){this.g&&Sf(this)},cs.setRequestHeader=function(e,t){this.v.append(e,t)},cs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},cs.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tf=ds.JSON.parse;function Cf(e){Tc.call(this),this.headers=new Dl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Af,this.K=this.L=!1}Is(Cf,Tc);var Af="",Of=/^https?$/i,Nf=["POST","PUT"];function Rf(e){return"content-type"==e.toLowerCase()}function Pf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Df(e),Lf(e)}function Df(e){e.D||(e.D=!0,Cc(e,"complete"),Cc(e,"error"))}function jf(e){if(e.h&&"undefined"!=typeof hs&&(!e.C[1]||4!=Ff(e)||2!=e.ba()))if(e.v&&4==Ff(e))qc(e.Fa,0,e);else if(Cc(e,"readystatechange"),4==Ff(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ml)[1]||null;if(!a&&ds.self&&ds.self.location){var o=ds.self.location.protocol;a=o.substr(0,o.length-1)}i=!Of.test(a?a.toLowerCase():"")}t=i}if(t)Cc(e,"complete"),Cc(e,"success");else{e.m=6;try{var u=2<Ff(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Df(e)}}finally{Lf(e)}}}function Lf(e,t){if(e.g){Mf(e);var n=e.g,r=e.C[0]?ps:null;e.g=null,e.C=null,t||Cc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Mf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ds.clearTimeout(e.A),e.A=null)}function Ff(e){return e.g?e.g.readyState:0}function Uf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Af:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(I){return null}}function Vf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ms(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wl(e,t,n))}function Bf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zf(e){this.za=0,this.l=[],this.h=new Jc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bf("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bf("baseRetryDelayMs",5e3,e),this.$a=Bf("retryDelaySeedMs",1e4,e),this.Ya=Bf("forwardChannelMaxRetries",2,e),this.ra=Bf("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sf(e&&e.concurrentRequestLimit),this.Ca=new gf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function qf(e){if(Gf(e),3==e.G){var t=e.V++,n=Ul(e.F);Wl(n,"SID",e.J),Wl(n,"RID",t),Wl(n,"TYPE","terminate"),Yf(e,n),(t=new yl(e,e.h,t,void 0)).K=2,t.v=Gl(Ul(n)),n=!1,ds.navigator&&ds.navigator.sendBeacon&&(n=ds.navigator.sendBeacon(t.v.toString(),"")),!n&&ds.Image&&((new Image).src=t.v,n=!0),n||(t.g=uh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tl(t)}ah(e)}function Wf(e){e.g&&($f(e),e.g.cancel(),e.g=null)}function Gf(e){Wf(e),e.u&&(ds.clearTimeout(e.u),e.u=null),th(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ds.clearTimeout(e.m),e.m=null)}function Hf(e,t){e.l.push(new uf(e.Za++,t)),3==e.G&&Kf(e)}function Kf(e){ff(e.i)||e.m||(e.m=!0,Mc(e.Ha,e),e.C=0)}function Qf(e,t){var n;n=t?t.m:e.V++;var r=Ul(e.F);Wl(r,"SID",e.J),Wl(r,"RID",n),Wl(r,"AID",e.U),Yf(e,r),e.o&&e.s&&Vf(r,e.o,e.s),n=new yl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Jf(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pf(e.i,n),xl(n,r,t)}function Yf(e,t){e.j&&Pl({},(function(e,n){Wl(t,n,e)}))}function Jf(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ws(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{kf(l,o,"req"+c+"_")}catch(F){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Xf(e){e.g||e.u||(e.Y=1,Mc(e.Ga,e),e.A=0)}function Zf(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ol(ws(e.Ga,e),rh(e,e.A)),e.A++,!0)}function $f(e){null!=e.B&&(ds.clearTimeout(e.B),e.B=null)}function eh(e){e.g=new yl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ul(e.oa);Wl(t,"RID","rpc"),Wl(t,"SID",e.J),Wl(t,"CI",e.N?"0":"1"),Wl(t,"AID",e.U),Yf(e,t),Wl(t,"TYPE","xmlhttp"),e.o&&e.s&&Vf(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gl(Ul(t)),n.s=null,n.U=!0,Il(n,e)}function th(e){null!=e.v&&(ds.clearTimeout(e.v),e.v=null)}function nh(e,t){var n=null;if(e.g==t){th(e),$f(e),e.g=null;var r=2}else{if(!df(e.i,t))return;n=t.D,vf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Cc(r=el(),new al(r,n,t,i)),Kf(e)}else Xf(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ol(ws(e.Ha,e,t),rh(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ih(e,5);break;case 4:ih(e,10);break;case 3:ih(e,6);break;default:ih(e,2)}}function rh(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ih(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ws(e.jb,e);n||(n=new Fl("//www.google.com/images/cleardot.gif"),ds.location&&"http"==ds.location.protocol||Vl(n,"https"),Gl(n)),function(e,t){var n=new Jc;if(ds.Image){var r=new Image;r.onload=xs(bf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xs(bf,n,r,"TestLoadImage: error",!1,t),r.onabort=xs(bf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xs(bf,n,r,"TestLoadImage: timeout",!1,t),ds.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else il(2);e.G=0,e.j&&e.j.va(t),ah(e),Gf(e)}function ah(e){e.G=0,e.I=-1,e.j&&(0==mf(e.i).length&&0==e.l.length||(e.i.i.length=0,As(e.l),e.l.length=0),e.j.ua())}function oh(e,t,n){var r=function(e){return e instanceof Fl?Ul(e):new Fl(e,void 0)}(n);if(""!=r.i)t&&Bl(r,t+"."+r.i),zl(r,r.m);else{var i=ds.location;r=function(e,t,n,r){var i=new Fl(null,void 0);return e&&Vl(i,e),t&&Bl(i,t),n&&zl(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ms(e.aa,(function(e,t){Wl(r,t,e)})),t=e.D,n=e.sa,t&&n&&Wl(r,t,n),Wl(r,"VER",e.ma),Yf(e,r),r}function uh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Cf(new wf({ib:!0})):new Cf(e.qa)).L=e.H,t}function sh(){}function ch(){if(Ws&&!(10<=Number(rc)))throw Error("Environmental error: no available transport.")}function lh(e,t){Tc.call(this),this.g=new zf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Os(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Os(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dh(this)}function fh(e){pl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hh(){vl.call(this),this.status=1}function dh(e){this.g=e}(cs=Cf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hl.g(),this.C=this.u?ll(this.u):ll(hl),this.g.onreadystatechange=ws(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Pf(this,a)}e=n||"";var i=new Dl(this.headers);r&&Pl(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Rf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ds.FormData&&e instanceof ds.FormData,!(0<=_s(Nf,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mf(this),0<this.B&&((this.K=function(e){return Ws&&tc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ws(this.pa,this)):this.A=qc(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pf(this,a)}},cs.pa=function(){"undefined"!=typeof hs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cc(this,"timeout"),this.abort(8))},cs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Cc(this,"complete"),Cc(this,"abort"),Lf(this))},cs.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lf(this,!0)),Cf.Z.M.call(this)},cs.Fa=function(){this.s||(this.F||this.v||this.l?jf(this):this.cb())},cs.cb=function(){jf(this)},cs.ba=function(){try{return 2<Ff(this)?this.g.status:-1}catch(cf){return-1}},cs.ga=function(){try{return this.g?this.g.responseText:""}catch(cf){return""}},cs.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tf(t)}},cs.Da=function(){return this.m},cs.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(cs=zf.prototype).ma=8,cs.G=1,cs.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(I){}},cs.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yl(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Vs(n=Fs(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jf(this,t,r),Wl(i=Ul(this.F),"RID",e),Wl(i,"CVER",22),this.D&&Wl(i,"X-HTTP-Session-Id",this.D),Yf(this,i),this.o&&n&&Vf(i,this.o,n),pf(this.i,t),this.Ra&&Wl(i,"TYPE","init"),this.ja?(Wl(i,"$req",r),Wl(i,"SID","null"),t.$=!0,xl(t,i,null)):xl(t,i,r),this.G=2}}else 3==this.G&&(e?Qf(this,e):0==this.l.length||ff(this.i)||Qf(this))},cs.Ga=function(){if(this.u=null,eh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ol(ws(this.bb,this),e)}},cs.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,il(10),Wf(this),eh(this))},cs.ab=function(){null!=this.v&&(this.v=null,Wf(this),Zf(this),il(19))},cs.jb=function(e){e?(this.h.info("Successfully pinged google.com"),il(2)):(this.h.info("Failed to ping google.com"),il(1))},(cs=sh.prototype).xa=function(){},cs.wa=function(){},cs.va=function(){},cs.ua=function(){},cs.Oa=function(){},ch.prototype.g=function(e,t){return new lh(e,t)},Is(lh,Tc),lh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Mc(ws(e.hb,e,t))),il(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=oh(e,null,e.W),Kf(e)},lh.prototype.close=function(){qf(this.g)},lh.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hf(this.g,t)}else this.v?((t={}).__data__=Oc(e),Hf(this.g,t)):Hf(this.g,e)},lh.prototype.M=function(){this.g.j=null,delete this.j,qf(this.g),delete this.g,lh.Z.M.call(this)},Is(fh,pl),Is(hh,vl),Is(dh,sh),dh.prototype.xa=function(){Cc(this.g,"a")},dh.prototype.wa=function(e){Cc(this.g,new fh(e))},dh.prototype.va=function(e){Cc(this.g,new hh(e))},dh.prototype.ua=function(){Cc(this.g,"b")},ch.prototype.createWebChannel=ch.prototype.g,lh.prototype.send=lh.prototype.u,lh.prototype.open=lh.prototype.m,lh.prototype.close=lh.prototype.close,ul.NO_ERROR=0,ul.TIMEOUT=8,ul.HTTP_ERROR=6,sl.COMPLETE="complete",fl.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",Tc.prototype.listen=Tc.prototype.N,Cf.prototype.listenOnce=Cf.prototype.O,Cf.prototype.getLastError=Cf.prototype.La,Cf.prototype.getLastErrorCode=Cf.prototype.Da,Cf.prototype.getStatus=Cf.prototype.ba,Cf.prototype.getResponseJson=Cf.prototype.Qa,Cf.prototype.getResponseText=Cf.prototype.ga,Cf.prototype.send=Cf.prototype.ea;var ph=fs.createWebChannelTransport=function(){return new ch},vh=fs.getStatEventTarget=function(){return el()},mh=fs.ErrorCode=ul,yh=fs.EventType=sl,gh=fs.Event=Zc,kh=fs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bh=fs.FetchXmlHttpFactory=wf,wh=fs.WebChannel=fl,xh=fs.XhrIo=Cf,Ih="@firebase/firestore",Eh=function(){function e(t){fn(this,e),this.uid=t}return dn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Eh.UNAUTHENTICATED=new Eh(null),Eh.GOOGLE_CREDENTIALS=new Eh("google-credentials-uid"),Eh.FIRST_PARTY=new Eh("first-party-uid"),Eh.MOCK_USER=new Eh("mock-user");var Sh="9.6.10",_h=new hr("@firebase/firestore");function Th(){return _h.logLevel}function Ch(e){if(_h.logLevel<=rr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nh);_h.debug.apply(_h,["Firestore (".concat(Sh,"): ").concat(e)].concat(pn(i)))}}function Ah(e){if(_h.logLevel<=rr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nh);_h.error.apply(_h,["Firestore (".concat(Sh,"): ").concat(e)].concat(pn(i)))}}function Oh(e){if(_h.logLevel<=rr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Nh);_h.warn.apply(_h,["Firestore (".concat(Sh,"): ").concat(e)].concat(pn(i)))}}function Nh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Rh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Sh,") INTERNAL ASSERTION FAILED: ")+e;throw Ah(t),new Error(t)}function Ph(e,t){e||Rh()}function Dh(e,t){return e}var jh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lh=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return dn(n)}(Dn),Mh=dn((function e(){var t=this;fn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Fh=dn((function e(t,n){fn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Uh=function(){function e(){fn(this,e)}return dn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Eh.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Vh=function(){function e(t){fn(this,e),this.token=t,this.changeListener=null}return dn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Bh=function(){function e(t){fn(this,e),this.t=t,this.currentUser=Eh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return dn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Mh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Mh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ch("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ch("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ch("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ph("string"==typeof n.accessToken),new Fh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ph(null===e||"string"==typeof e),new Eh(e)}}]),e}(),zh=dn((function e(t,n,r){fn(this,e),this.type="FirstParty",this.user=Eh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),qh=function(){function e(t,n,r){fn(this,e),this.h=t,this.l=n,this.m=r}return dn(e,[{key:"getToken",value:function(){return Promise.resolve(new zh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Eh.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Wh=dn((function e(t){fn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Gh=function(){function e(t){fn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return dn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ch("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ch("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ch("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ch("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ph("string"==typeof t.token),e.p=t.token,new Wh(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Hh=function(){function e(t,n){var r=this;fn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return dn(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Kh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Hh.A=-1;var Qh=function(){function e(){fn(this,e)}return dn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Kh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Yh(e,t){return e<t?-1:e>t?1:0}function Jh(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Xh(e){return e+"\0"}var Zh=function(){function e(t,n){if(fn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Lh(jh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lh(jh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Lh(jh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lh(jh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return dn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Yh(this.nanoseconds,e.nanoseconds):Yh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$h=function(){function e(t){fn(this,e),this.timestamp=t}return dn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zh(0,0))}},{key:"max",value:function(){return new e(new Zh(253402300799,999999999))}}]),e}();function ed(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function td(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var rd=function(){function e(t,n,r){fn(this,e),void 0===n?n=0:n>t.length&&Rh(),void 0===r?r=t.length-n:r>t.length-n&&Rh(),this.segments=t,this.offset=n,this.len=r}return dn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),id=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Lh(jh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,pn(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rd),ad=/^[_a-zA-Z][_a-zA-Z0-9]*$/,od=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ad.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Lh(jh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Lh(jh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Lh(jh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Lh(jh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(rd),ud=function(){function e(t){fn(this,e),this.fields=t,t.sort(od.comparator)}return dn(e,[{key:"covers",value:function(e){var t,n=sn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jh(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var sd=function(e){function t(e){fn(this,t),this.binaryString=e}return dn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Yh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();sd.EMPTY_BYTE_STRING=new sd("");var cd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ld(e){if(Ph(!!e),"string"==typeof e){var t=0,n=cd.exec(e);if(Ph(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fd(e.seconds),nanos:fd(e.nanos)}}function fd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hd(e){return"string"==typeof e?sd.fromBase64String(e):sd.fromUint8Array(e)}function dd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pd(e){var t=e.mapValue.fields.__previous_value__;return dd(t)?pd(t):t}function vd(e){var t=ld(e.mapValue.fields.__local_write_time__.timestampValue);return new Zh(t.seconds,t.nanos)}var md=dn((function e(t,n,r,i,a,o,u,s){fn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),yd=function(){function e(t,n){fn(this,e),this.projectId=t,this.database=n||"(default)"}return dn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gd(e){return null==e}function kd(e){return 0===e&&1/e==-1/0}function bd(e){return"number"==typeof e&&Number.isInteger(e)&&!kd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wd=function(){function e(t){fn(this,e),this.path=t}return dn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===id.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(id.fromString(t))}},{key:"fromName",value:function(t){return new e(id.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(id.emptyPath())}},{key:"comparator",value:function(e,t){return id.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new id(t.slice()))}}]),e}(),xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Id={nullValue:"NULL_VALUE"};function Ed(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dd(e)?4:Fd(e)?9:10:Rh()}function Sd(e,t){if(e===t)return!0;var n=Ed(e);if(n!==Ed(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vd(e).isEqual(vd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ld(e.timestampValue),r=ld(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hd(e.bytesValue).isEqual(hd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fd(e.geoPointValue.latitude)===fd(t.geoPointValue.latitude)&&fd(e.geoPointValue.longitude)===fd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fd(e.integerValue)===fd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fd(e.doubleValue),r=fd(t.doubleValue);return n===r?kd(n)===kd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jh(e.arrayValue.values||[],t.arrayValue.values||[],Sd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ed(n)!==ed(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sd(n[i],r[i])))return!1;return!0}(e,t);default:return Rh()}}function _d(e,t){return void 0!==(e.values||[]).find((function(e){return Sd(e,t)}))}function Td(e,t){if(e===t)return 0;var n=Ed(e),r=Ed(t);if(n!==r)return Yh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fd(e.integerValue||e.doubleValue),r=fd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cd(e.timestampValue,t.timestampValue);case 4:return Cd(vd(e),vd(t));case 5:return Yh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hd(e),r=hd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Yh(n[i],r[i]);if(0!==a)return a}return Yh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yh(fd(e.latitude),fd(t.latitude));return 0!==n?n:Yh(fd(e.longitude),fd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Td(n[i],r[i]);if(a)return a}return Yh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Yh(r[o],a[o]);if(0!==u)return u;var s=Td(n[r[o]],i[a[o]]);if(0!==s)return s}return Yh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Rh()}}function Cd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yh(e,t);var n=ld(e),r=ld(t),i=Yh(n.seconds,r.seconds);return 0!==i?i:Yh(n.nanos,r.nanos)}function Ad(e){return Od(e)}function Od(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ld(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hd(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,wd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=sn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Od(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=sn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Od(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Rh();var t,n}function Nd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Rd(e){return!!e&&"integerValue"in e}function Pd(e){return!!e&&"arrayValue"in e}function Dd(e){return!!e&&"nullValue"in e}function jd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ld(e){return!!e&&"mapValue"in e}function Md(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return td(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Md(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Md(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Fd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ud(e,t){return void 0===e?t:void 0===t||Td(e,t)>0?e:t}function Vd(e,t){return void 0===e?t:void 0===t||Td(e,t)<0?e:t}var Bd=function(){function e(t){fn(this,e),this.value=t}return dn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ld(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(t)}},{key:"setAll",value:function(e){var t=this,n=od.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Md(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Sd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ld(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){td(t,(function(t,n){return e[t]=n}));var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Md(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zd(e){var t=[];return td(e.fields,(function(e,n){var r=new od([e]);if(Ld(n)){var i=zd(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=sn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ud(t)}var qd=function(){function e(t,n,r,i,a,o){fn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return dn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Bd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Bd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$h.min(),$h.min(),Bd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,$h.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$h.min(),Bd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$h.min(),Bd.empty(),2)}}]),e}(),Wd=dn((function e(t,n,r,i){fn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Gd(e){return e.fields.find((function(e){return 2===e.kind}))}function Hd(e){return e.fields.filter((function(e){return 2!==e.kind}))}Wd.UNKNOWN_ID=-1;var Kd=dn((function e(t,n){fn(this,e),this.fieldPath=t,this.kind=n})),Qd=function(){function e(t,n){fn(this,e),this.sequenceNumber=t,this.offset=n}return dn(e,null,[{key:"empty",value:function(){return new e(0,Xd.min())}}]),e}();function Yd(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$h.fromTimestamp(1e9===r?new Zh(n+1,0):new Zh(n,r));return new Xd(i,wd.empty(),t)}function Jd(e){return new Xd(e.readTime,e.key,-1)}var Xd=function(){function e(t,n,r){fn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return dn(e,null,[{key:"min",value:function(){return new e($h.min(),wd.empty(),-1)}},{key:"max",value:function(){return new e($h.max(),wd.empty(),-1)}}]),e}();function Zd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=wd.comparator(e.documentKey,t.documentKey))?n:Yh(e.largestBatchId,t.largestBatchId)}var $d=dn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;fn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function ep(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new $d(e,t,n,r,i,a,o)}function tp(e){var t=Dh(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ad(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ad(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ad(e)})).join(",")),t.P=n}return t.P}function np(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Sd(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gp(e.startAt,t.startAt)&&gp(e.endAt,t.endAt)}function rp(e){return wd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ip(e,t){return e.filters.filter((function(e){return e instanceof ap&&e.field.isEqual(t)}))}var ap=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return dn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Td(t,this.value)):null!==t&&Ed(this.value)===Ed(t)&&this.v(Td(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rh()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new op(e,t,r):"array-contains"===t?new lp(e,r):"in"===t?new fp(e,r):"not-in"===t?new hp(e,r):"array-contains-any"===t?new dp(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new up(e,n):new sp(e,n)}}]),n}(function(){return dn((function e(){fn(this,e)}))}()),op=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,e,r,i)).key=wd.fromName(i.referenceValue),a}return dn(n,[{key:"matches",value:function(e){var t=wd.comparator(e.key,this.key);return this.v(t)}}]),n}(ap),up=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,"in",r)).keys=cp("in",r),i}return dn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ap),sp=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,"not-in",r)).keys=cp("not-in",r),i}return dn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ap);function cp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return wd.fromName(e.referenceValue)}))}var lp=function(e){nn(n,e);var t=un(n);function n(e,r){return fn(this,n),t.call(this,e,"array-contains",r)}return dn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Pd(t)&&_d(t.arrayValue,this.value)}}]),n}(ap),fp=function(e){nn(n,e);var t=un(n);function n(e,r){return fn(this,n),t.call(this,e,"in",r)}return dn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_d(this.value.arrayValue,t)}}]),n}(ap),hp=function(e){nn(n,e);var t=un(n);function n(e,r){return fn(this,n),t.call(this,e,"not-in",r)}return dn(n,[{key:"matches",value:function(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_d(this.value.arrayValue,t)}}]),n}(ap),dp=function(e){nn(n,e);var t=un(n);function n(e,r){return fn(this,n),t.call(this,e,"array-contains-any",r)}return dn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Pd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _d(t.value.arrayValue,e)}))}}]),n}(ap),pp=dn((function e(t,n){fn(this,e),this.position=t,this.inclusive=n})),vp=dn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";fn(this,e),this.field=t,this.dir=n}));function mp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yp(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?wd.comparator(wd.fromName(o.referenceValue),n.key):Td(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function gp(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Sd(e.position[n],t.position[n]))return!1;return!0}var kp=dn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;fn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function bp(e,t,n,r,i,a,o,u){return new kp(e,t,n,r,i,a,o,u)}function wp(e){return new kp(e)}function xp(e){return!gd(e.limit)&&"F"===e.limitType}function Ip(e){return!gd(e.limit)&&"L"===e.limitType}function Ep(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Sp(e){var t,n=sn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function _p(e){return null!==e.collectionGroup}function Tp(e){var t=Dh(e);if(null===t.D){t.D=[];var n=Sp(t),r=Ep(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new vp(n)),t.D.push(new vp(od.keyField(),"asc"));else{var i,a=!1,o=sn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new vp(od.keyField(),s))}}}return t.D}function Cp(e){var t=Dh(e);if(!t.C)if("F"===t.limitType)t.C=ep(t.path,t.collectionGroup,Tp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=sn(Tp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new vp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new pp(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new pp(t.startAt.position,!t.startAt.inclusive):null;t.C=ep(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Ap(e,t,n){return new kp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Op(e,t){return np(Cp(e),Cp(t))&&e.limitType===t.limitType}function Np(e){return"".concat(tp(Cp(e)),"|lt:").concat(e.limitType)}function Rp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ad(t.value));var t})).join(", "),"]")),gd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ad(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ad(e)})).join(",")),"Target(".concat(t,")")}(Cp(e)),"; limitType=").concat(e.limitType,")")}function Pp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=sn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=sn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=yp(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Tp(e),t))&&!(e.endAt&&!function(e,t,n){var r=yp(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Tp(e),t))}(e,t)}function Dp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jp(e){return function(t,n){var r,i=!1,a=sn(Tp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Lp(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Lp(e,t,n){var r=e.field.isKeyField()?wd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Td(r,i):Rh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Rh()}}function Mp(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(t)?"-0":t}}function Fp(e){return{integerValue:""+e}}function Up(e,t){return bd(t)?Fp(t):Mp(e,t)}var Vp=dn((function e(){fn(this,e),this._=void 0}));function Bp(e,t,n){return e instanceof Wp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gp?Hp(e,t):e instanceof Kp?Qp(e,t):function(e,t){var n=qp(e,t),r=Jp(n)+Jp(e.k);return Rd(n)&&Rd(e.k)?Fp(r):Mp(e.M,r)}(e,t)}function zp(e,t,n){return e instanceof Gp?Hp(e,t):e instanceof Kp?Qp(e,t):n}function qp(e,t){return e instanceof Yp?Rd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Wp=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n)}(Vp),Gp=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this)).elements=e,r}return dn(n)}(Vp);function Hp(e,t){var n,r=Xp(t),i=sn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Sd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Kp=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this)).elements=e,r}return dn(n)}(Vp);function Qp(e,t){var n,r=Xp(t),i=sn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Sd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yp=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).M=e,i.k=r,i}return dn(n)}(Vp);function Jp(e){return fd(e.integerValue||e.doubleValue)}function Xp(e){return Pd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Zp=dn((function e(t,n){fn(this,e),this.field=t,this.transform=n}));var $p=dn((function e(t,n){fn(this,e),this.version=t,this.transformResults=n})),ev=function(){function e(t,n){fn(this,e),this.updateTime=t,this.exists=n}return dn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function tv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var nv=dn((function e(){fn(this,e)}));function rv(e,t,n){e instanceof sv?function(e,t,n){var r=e.value.clone(),i=fv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cv?function(e,t,n){if(tv(e.precondition,t)){var r=fv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function iv(e,t,n){e instanceof sv?function(e,t,n){if(tv(e.precondition,t)){var r=e.value.clone(),i=hv(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(uv(t),r).setHasLocalMutations()}}(e,t,n):e instanceof cv?function(e,t,n){if(tv(e.precondition,t)){var r=hv(e.fieldTransforms,n,t),i=t.data;i.setAll(lv(e)),i.setAll(r),t.convertToFoundDocument(uv(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){tv(e.precondition,t)&&t.convertToNoDocument($h.min())}(e,t)}function av(e,t){var n,r=null,i=sn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=qp(a.transform,o||null);null!=u&&(null==r&&(r=Bd.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ov(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jh(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gp&&t instanceof Gp||e instanceof Kp&&t instanceof Kp?Jh(e.elements,t.elements,Sd):e instanceof Yp&&t instanceof Yp?Sd(e.k,t.k):e instanceof Wp&&t instanceof Wp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function uv(e){return e.isFoundDocument()?e.version:$h.min()}var sv=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return fn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return dn(n)}(nv),cv=function(e){nn(n,e);var t=un(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return fn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return dn(n)}(nv);function lv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function fv(e,t,n){var r=new Map;Ph(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,zp(o,u,n[i]))}return r}function hv(e,t,n){var r,i=new Map,a=sn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Bp(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var dv,pv,vv=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return dn(n)}(nv),mv=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return dn(n)}(nv),yv=dn((function e(t){fn(this,e),this.count=t}));function gv(e){switch(e){default:return Rh();case jh.CANCELLED:case jh.UNKNOWN:case jh.DEADLINE_EXCEEDED:case jh.RESOURCE_EXHAUSTED:case jh.INTERNAL:case jh.UNAVAILABLE:case jh.UNAUTHENTICATED:return!1;case jh.INVALID_ARGUMENT:case jh.NOT_FOUND:case jh.ALREADY_EXISTS:case jh.PERMISSION_DENIED:case jh.FAILED_PRECONDITION:case jh.ABORTED:case jh.OUT_OF_RANGE:case jh.UNIMPLEMENTED:case jh.DATA_LOSS:return!0}}function kv(e){if(void 0===e)return Ah("GRPC error has no .code"),jh.UNKNOWN;switch(e){case dv.OK:return jh.OK;case dv.CANCELLED:return jh.CANCELLED;case dv.UNKNOWN:return jh.UNKNOWN;case dv.DEADLINE_EXCEEDED:return jh.DEADLINE_EXCEEDED;case dv.RESOURCE_EXHAUSTED:return jh.RESOURCE_EXHAUSTED;case dv.INTERNAL:return jh.INTERNAL;case dv.UNAVAILABLE:return jh.UNAVAILABLE;case dv.UNAUTHENTICATED:return jh.UNAUTHENTICATED;case dv.INVALID_ARGUMENT:return jh.INVALID_ARGUMENT;case dv.NOT_FOUND:return jh.NOT_FOUND;case dv.ALREADY_EXISTS:return jh.ALREADY_EXISTS;case dv.PERMISSION_DENIED:return jh.PERMISSION_DENIED;case dv.FAILED_PRECONDITION:return jh.FAILED_PRECONDITION;case dv.ABORTED:return jh.ABORTED;case dv.OUT_OF_RANGE:return jh.OUT_OF_RANGE;case dv.UNIMPLEMENTED:return jh.UNIMPLEMENTED;case dv.DATA_LOSS:return jh.DATA_LOSS;default:return Rh()}}(pv=dv||(dv={}))[pv.OK=0]="OK",pv[pv.CANCELLED=1]="CANCELLED",pv[pv.UNKNOWN=2]="UNKNOWN",pv[pv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pv[pv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pv[pv.NOT_FOUND=5]="NOT_FOUND",pv[pv.ALREADY_EXISTS=6]="ALREADY_EXISTS",pv[pv.PERMISSION_DENIED=7]="PERMISSION_DENIED",pv[pv.UNAUTHENTICATED=16]="UNAUTHENTICATED",pv[pv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pv[pv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pv[pv.ABORTED=10]="ABORTED",pv[pv.OUT_OF_RANGE=11]="OUT_OF_RANGE",pv[pv.UNIMPLEMENTED=12]="UNIMPLEMENTED",pv[pv.INTERNAL=13]="INTERNAL",pv[pv.UNAVAILABLE=14]="UNAVAILABLE",pv[pv.DATA_LOSS=15]="DATA_LOSS";var bv=function(){function e(t,n){fn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return dn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){td(this.inner,(function(t,n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return nd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),wv=function(){function e(t,n){fn(this,e),this.comparator=t,this.root=n||Iv.EMPTY}return dn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Iv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Iv.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xv(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xv(this.root,e,this.comparator,!0)}}]),e}(),xv=function(){function e(t,n,r,i){fn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return dn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Iv=function(){function e(t,n,r,i,a){fn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return dn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Rh();if(this.right.isRed())throw Rh();var e=this.left.check();if(e!==this.right.check())throw Rh();return e+(this.isRed()?0:1)}}]),e}();Iv.EMPTY=null,Iv.RED=!0,Iv.BLACK=!1,Iv.EMPTY=new(function(){function e(){fn(this,e),this.size=0}return dn(e,[{key:"key",get:function(){throw Rh()}},{key:"value",get:function(){throw Rh()}},{key:"color",get:function(){throw Rh()}},{key:"left",get:function(){throw Rh()}},{key:"right",get:function(){throw Rh()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Iv(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ev=function(){function e(t){fn(this,e),this.comparator=t,this.data=new wv(this.comparator)}return dn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sv=function(){function e(t){fn(this,e),this.iter=t}return dn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function _v(e){return e.hasNext()?e.getNext():void 0}var Tv=new wv(wd.comparator);function Cv(){return Tv}var Av=new wv(wd.comparator);function Ov(){return Av}function Nv(){return new bv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Rv=new wv(wd.comparator),Pv=new Ev(wd.comparator);function Dv(){for(var e=Pv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jv=new Ev(Yh);function Lv(){return jv}var Mv=function(){function e(t,n,r,i,a){fn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return dn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Fv.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($h.min(),r,Lv(),Cv(),Dv())}}]),e}(),Fv=function(){function e(t,n,r,i,a){fn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return dn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(sd.EMPTY_BYTE_STRING,n,Dv(),Dv(),Dv())}}]),e}(),Uv=dn((function e(t,n,r,i){fn(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Vv=dn((function e(t,n){fn(this,e),this.targetId=t,this.$=n})),Bv=dn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;fn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zv=function(){function e(){fn(this,e),this.B=0,this.L=Gv(),this.U=sd.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return dn(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=Dv(),t=Dv(),n=Dv();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Rh()}})),new Fv(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=Gv()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),qv=function(){function e(t){fn(this,e),this.nt=t,this.st=new Map,this.it=Cv(),this.rt=Wv(),this.ot=new Ev(Yh)}return dn(e,[{key:"ut",value:function(e){var t,n=sn(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=sn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Rh()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(rp(i))if(0===n){var a=new wd(i.path);this.ct(t,a,qd.newNoDocument(a,$h.min()))}else Ph(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&rp(a.target)){var o=new wd(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,qd.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Dv();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Mv(e,n,this.ot,this.it,r);return this.it=Cv(),this.rt=Wv(),this.ot=new Ev(Yh),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new zv,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Ev(Yh),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ch("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new zv),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wv(){return new wv(wd.comparator)}function Gv(){return new wv(wd.comparator)}var Hv={asc:"ASCENDING",desc:"DESCENDING"},Kv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qv=dn((function e(t,n){fn(this,e),this.databaseId=t,this.N=n}));function Yv(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jv(e,t){return e.N?t.toBase64():t.toUint8Array()}function Xv(e,t){return Yv(e,t.toTimestamp())}function Zv(e){return Ph(!!e),$h.fromTimestamp(function(e){var t=ld(e);return new Zh(t.seconds,t.nanos)}(e))}function $v(e,t){return function(e){return new id(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function em(e){var t=id.fromString(e);return Ph(Im(t)),t}function tm(e,t){return $v(e.databaseId,t.path)}function nm(e,t){var n=em(t);if(n.get(1)!==e.databaseId.projectId)throw new Lh(jh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lh(jh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wd(om(n))}function rm(e,t){return $v(e.databaseId,t)}function im(e){var t=em(e);return 4===t.length?id.emptyPath():om(t)}function am(e){return new id(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function om(e){return Ph(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function um(e,t,n){return{name:tm(e,t),fields:n.value.mapValue.fields}}function sm(e,t,n){var r=nm(e,t.name),i=Zv(t.updateTime),a=new Bd({mapValue:{fields:t.fields}}),o=qd.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function cm(e,t){return"found"in t?function(e,t){Ph(!!t.found),t.found.name,t.found.updateTime;var n=nm(e,t.found.name),r=Zv(t.found.updateTime),i=new Bd({mapValue:{fields:t.found.fields}});return qd.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ph(!!t.missing),Ph(!!t.readTime);var n=nm(e,t.missing),r=Zv(t.readTime);return qd.newNoDocument(n,r)}(e,t):Rh()}function lm(e,t){var n;if(t instanceof sv)n={update:um(e,t.key,t.value)};else if(t instanceof vv)n={delete:tm(e,t.key)};else if(t instanceof cv)n={update:um(e,t.key,t.data),updateMask:xm(t.fieldMask)};else{if(!(t instanceof mv))return Rh();n={verify:tm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Kp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yp)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Rh()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Rh()}(e,t.precondition)),n}function fm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ev.updateTime(Zv(e.updateTime)):void 0!==e.exists?ev.exists(e.exists):ev.none()}(t.currentDocument):ev.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ph("REQUEST_TIME"===t.setToServerValue),n=new Wp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Gp(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Kp(i)}else"increment"in t?n=new Yp(e,t.increment):Rh();var a=od.fromServerFormat(t.fieldPath);return new Zp(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=nm(e,t.update.name),a=new Bd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ud(t.map((function(e){return od.fromServerFormat(e)})))}(t.updateMask);return new cv(i,a,o,n,r)}return new sv(i,a,n,r)}if(t.delete){var u=nm(e,t.delete);return new vv(u,n)}if(t.verify){var s=nm(e,t.verify);return new mv(s,n)}return Rh()}function hm(e,t){return{documents:[rm(e,t.path)]}}function dm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(jd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NAN"}};if(Dd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NOT_NAN"}};if(Dd(e.value))return{unaryFilter:{field:gm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gm(e.field),op:ym(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gm(e.field),direction:mm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||gd(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pm(e){var t=im(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ph(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=vm(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new vp(km(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return gd(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new pp(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new pp(n,t)}(n.endAt)),bp(t,i,u,o,s,"F",c,l)}function vm(e){return e?void 0!==e.unaryFilter?[wm(e)]:void 0!==e.fieldFilter?[bm(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return vm(e)})).reduce((function(e,t){return e.concat(t)})):Rh():[]}function mm(e){return Hv[e]}function ym(e){return Kv[e]}function gm(e){return{fieldPath:e.canonicalString()}}function km(e){return od.fromServerFormat(e.fieldPath)}function bm(e){return ap.create(km(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rh()}}(e.fieldFilter.op),e.fieldFilter.value)}function wm(e){switch(e.unaryFilter.op){case"IS_NAN":var t=km(e.unaryFilter.field);return ap.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=km(e.unaryFilter.field);return ap.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=km(e.unaryFilter.field);return ap.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=km(e.unaryFilter.field);return ap.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Rh()}}function xm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Im(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Em(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=_m(t)),t=Sm(e.get(n),t);return _m(t)}function Sm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function _m(e){return e+"\x01\x01"}function Tm(e){var t=e.length;if(Ph(t>=2),2===t)return Ph("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),id.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Rh(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Rh()}a=o+2}return new id(r)}var Cm=["userId","batchId"];function Am(e,t){return[e,Em(t)]}function Om(e,t,n){return[e,Em(t),n]}var Nm={},Rm=["prefixPath","collectionGroup","readTime","documentId"],Pm=["prefixPath","collectionGroup","documentId"],Dm=["collectionGroup","readTime","prefixPath","documentId"],jm=["canonicalId","targetId"],Lm=["targetId","path"],Mm=["path","targetId"],Fm=["collectionId","parent"],Um=["indexId","uid"],Vm=["uid","sequenceNumber"],Bm=["indexId","uid","arrayValue","directionalValue","documentKey"],zm=["indexId","uid","documentKey"],qm=["userId","collectionPath","documentId"],Wm=["userId","collectionPath","largestBatchId"],Gm=["userId","collectionGroup","largestBatchId"],Hm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Km=[].concat(pn(Hm),["documentOverlays"]),Qm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ym=[].concat(Qm,["indexConfiguration","indexState","indexEntries"]),Jm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xm=function(){function e(){fn(this,e),this.onCommittedListeners=[]}return dn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Zm=function(){function e(t){var n=this;fn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return dn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Rh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=sn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),$m=function(){function e(t,n){var r=this;fn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Mh,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new ny(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=uy(e.target.error);r.At.reject(new ny(t,n))}}return dn(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ch("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new iy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ny(n,t)}}}]),e}(),ey=function(){function e(t,n,r){fn(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Tn())&&Ah("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return dn(e,[{key:"Nt",value:function(){var e=ln(yn().mark((function e(t){var n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ch("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ny(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Lh(jh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Lh(jh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ny(t,n))},i.onupgradeneeded=function(e){Ch("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ch("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ln(yn().mark((function e(t,n,r,i){var a,o,u,s,c=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(yn().mark((function e(){var n,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=$m.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Zm.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ch("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ch("SimpleDb","Removing database:",e),ay(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Pn())return!1;if(e.St())return!0;var t=Tn(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/clon-instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ty=function(){function e(t){fn(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return dn(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return ay(this.Ft.delete())}}]),e}(),ny=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,jh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return dn(n)}(Lh);function ry(e){return"IndexedDbTransactionError"===e.name}var iy=function(){function e(t){fn(this,e),this.store=t}return dn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ch("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ch("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ay(n)}},{key:"add",value:function(e){return Ch("SimpleDb","ADD",this.store.name,e,e),ay(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ay(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ch("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ch("SimpleDb","DELETE",this.store.name,e),ay(this.store.delete(e))}},{key:"count",value:function(){return Ch("SimpleDb","COUNT",this.store.name),ay(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Zm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Zm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Ch("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Zm((function(n,r){t.onerror=function(e){var t=uy(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new Zm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ty(i),o=t(i.primaryKey,i.value,a);if(o instanceof Zm){var u=o.catch((function(e){return a.done(),Zm.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Zm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ay(e){return new Zm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=uy(e.target.error);n(t)}}))}var oy=!1;function uy(e){var t=ey.Vt(Tn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Lh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return oy||(oy=!0,setTimeout((function(){throw r}),0)),r}}return e}var sy=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return dn(n)}(Xm);function cy(e,t){var n=Dh(e);return ey.xt(n.Ht,t)}var ly=function(){function e(t,n,r,i){fn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return dn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&rv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=sn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&iv(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=sn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&iv(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($h.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Dv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jh(this.mutations,e.mutations,(function(e,t){return ov(e,t)}))&&Jh(this.baseMutations,e.baseMutations,(function(e,t){return ov(e,t)}))}}]),e}(),fy=function(){function e(t,n,r,i){fn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return dn(e,null,[{key:"from",value:function(t,n,r){Ph(t.mutations.length===r.length);for(var i=Rv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),hy=function(){function e(t,n){fn(this,e),this.largestBatchId=t,this.mutation=n}return dn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),dy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$h.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$h.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sd.EMPTY_BYTE_STRING;fn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return dn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),py=dn((function e(t){fn(this,e),this.Jt=t}));function vy(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:my(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:tm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yv(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yy(t.version)};else{if(!t.isUnknownDocument())return Rh();r.unknownDocument={path:n.path.toArray(),version:yy(t.version)}}return r}function my(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function yy(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gy(e){var t=new Zh(e.seconds,e.nanoseconds);return $h.fromTimestamp(t)}function ky(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fm(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fm(e.Jt,t)})),u=Zh.fromMillis(t.localWriteTimeMs);return new ly(t.batchId,u,n,o)}function by(e){var t,n,r=gy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?gy(e.lastLimboFreeSnapshotVersion):$h.min();return void 0!==e.query.documents?(Ph(1===(n=e.query).documents.length),t=Cp(wp(im(n.documents[0])))):t=function(e){return Cp(pm(e))}(e.query),new dy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,sd.fromBase64String(e.resumeToken))}function wy(e,t){var n,r=yy(t.snapshotVersion),i=yy(t.lastLimboFreeSnapshotVersion);n=rp(t.target)?hm(e.Jt,t.target):dm(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function xy(e){var t=pm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ap(t,t.limit,"L"):t}function Iy(e,t){return new hy(t.largestBatchId,fm(e.Jt,t.overlayMutation))}function Ey(e,t){var n=t.path.lastSegment();return[e,Em(t.path.popLast()),n]}var Sy=function(){function e(){fn(this,e)}return dn(e,[{key:"getBundleMetadata",value:function(e,t){return _y(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:gy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return _y(e).put({bundleId:(n=t).id,createTime:yy(Zv(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ty(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:xy(t.bundledQuery),readTime:gy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ty(e).put(function(e){return{name:e.name,readTime:yy(Zv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function _y(e){return cy(e,"bundles")}function Ty(e){return cy(e,"namedQueries")}var Cy=function(){function e(t,n){fn(this,e),this.M=t,this.userId=n}return dn(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ay(e).get(Ey(this.userId,t)).next((function(e){return e?Iy(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new hy(t,a);i.push(r.Xt(e,o))})),Zm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Em(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ay(e).Qt("collectionPathOverlayIndex",i))})),Zm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Nv(),a=Em(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ay(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Iy(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Nv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ay(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Iy(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Ay(e).put(function(e,t,n){var r=o(Ey(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:lm(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ay(e){return cy(e,"documentOverlays")}var Oy=function(){function e(){fn(this,e)}return dn(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(fd(e.integerValue));else if("doubleValue"in e){var n=fd(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),kd(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(hd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Fd(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Rh()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),wd.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Ny(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ry(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Ny(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Oy.fe=new Oy;var Py=function(){function e(){fn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return dn(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Ry(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Ry(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Dy=function(){function e(t){fn(this,e),this.De=t}return dn(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),jy=function(){function e(t){fn(this,e),this.De=t}return dn(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Ly=function(){function e(){fn(this,e),this.De=new Py,this.Ce=new Dy(this.De),this.xe=new jy(this.De)}return dn(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),My=function(){function e(t,n,r,i){fn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return dn(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Fy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Uy(e.arrayValue,t.arrayValue))?n:0!==(n=Uy(e.directionalValue,t.directionalValue))?n:wd.comparator(e.documentKey,t.documentKey)}function Uy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Vy=function(){function e(t){fn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=sn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return dn(e,[{key:"$e",value:function(e){var t=Gd(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Hd(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=sn(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),By=function(){function e(){fn(this,e),this.qe=new zy}return dn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Zm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Zm.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Zm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Zm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Zm.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return Zm.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Zm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Zm.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Zm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Zm.resolve()}}]),e}(),zy=function(){function e(){fn(this,e),this.index={}}return dn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ev(id.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ev(id.comparator)).toArray()}}]),e}(),qy=new Uint8Array(0),Wy=function(){function e(t){fn(this,e),this.user=t,this.Ge=new zy,this.Ke=new bv((function(e){return tp(e)}),(function(e,t){return np(e,t)})),this.uid=t.uid||""}return dn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:Em(i)};return Gy(e).put(a)}return Zm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Xh(t),""],!1,!0);return Gy(e).qt(r).next((function(e){var r,i=sn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Tm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Ky(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Ky(e),r=Qy(e),i=Hy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Hy(e),i=!0,a=new Map;return Zm.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Dv();return Zm.forEach(a,(function(i,a){var o;Ch("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(tp(t)));var u=function(e,t){var n=Gd(t);if(void 0===n)return null;var r,i=sn(ip(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=sn(Hd(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=sn(ip(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=sn(Hd(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=sn(ip(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?Id:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Nd(yd.empty(),wd.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Rh();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=Id}Ud(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Ud(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new pp(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=sn(Hd(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=sn(ip(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Nd(yd.empty(),wd.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?xd:Rh(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=xd}Vd(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Vd(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new pp(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return Zm.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new wd(Tm(t.documentKey)))}))}))}))})).next((function(){return e}))}return Zm.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):qy,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,pn(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new My(e,wd.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new My(e,wd.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new My(e,wd.empty(),qy,qy)}},{key:"getFieldIndex",value:function(e,t){var n=new Vy(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Ly,i=sn(Hd(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Oy.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Ly;return Oy.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Ly);var i,a=0,o=sn(Hd(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=sn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Pd(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);Oy.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=pn(e),a=[],o=sn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=sn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Ly;f.seed(l.Se()),Oy.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ap&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Ky(e),i=Qy(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Zm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Qd(t.sequenceNumber,new Xd(gy(t.readTime),new wd(Tm(t.documentKey)),t.largestBatchId)):Qd.empty(),r=e.fields.map((function(e){var t=o(e,2),n=t[0],r=t[1];return new Kd(od.fromServerFormat(n),r)}));return new Wd(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Yh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Ky(e),a=Qy(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Zm.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:yy(r.readTime),documentKey:Em(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Zm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Zm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Zm.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?Zm.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return Hy(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Em(t.key.path)})}},{key:"cn",value:function(e,t,n){return Hy(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Em(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=Hy(e),i=new Ev(Fy);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Em(t.path)])},(function(e,r){i=i.add(new My(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Ev(Fy),r=this.Ze(t,e);if(null==r)return n;var i=Gd(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Pd(a)){var o,u=sn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new My(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new My(t.indexId,e.key,qy,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Ch("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=_v(a),s=_v(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=_v(o)):l?(i(u),u=_v(a)):(u=_v(a),s=_v(o))}}(n,r,Fy,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),Zm.waitFor(a)}},{key:"sn",value:function(e){var t=1;return Qy(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Fy(e,t)})).filter((function(e,t,n){return!t||0!==Fy(e,n[t-1])}));var r=[];r.push(e);var i,a=sn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Fy(o,e),s=Fy(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function Gy(e){return cy(e,"collectionParents")}function Hy(e){return cy(e,"indexEntries")}function Ky(e){return cy(e,"indexConfiguration")}function Qy(e){return cy(e,"indexState")}var Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jy=function(){function e(t,n,r){fn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return dn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Xy(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ph(1===u)})));var c,l=[],f=sn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Om(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Zm.waitFor(a).next((function(){return l}))}function Zy(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Rh();t=e.noDocument}return JSON.stringify(t).length}Jy.DEFAULT_COLLECTION_PERCENTILE=10,Jy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jy.DEFAULT=new Jy(41943040,Jy.DEFAULT_COLLECTION_PERCENTILE,Jy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jy.DISABLED=new Jy(-1,0,0);var $y=function(){function e(t,n,r,i){fn(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return dn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tg(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ng(e),o=tg(e);return o.add({}).next((function(u){Ph("number"==typeof u);var s,c=new ly(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return lm(e.Jt,t)})),i=n.mutations.map((function(t){return lm(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Ev((function(e,t){return Yh(e.canonicalString(),t.canonicalString())})),d=sn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Om(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Nm))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),Zm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return tg(e).get(t).next((function(e){return e?(Ph(e.userId===n.userId),ky(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?Zm.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return tg(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ph(t.batchId>=r),a=ky(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return tg(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tg(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return ky(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Am(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ng(e).Wt({range:i},(function(r,i,u){var s=o(r,3),c=s[0],l=s[1],f=s[2],h=Tm(l);if(c===n.userId&&t.path.isEqual(h))return tg(e).get(f).next((function(e){if(!e)throw Rh();Ph(e.userId===n.userId),a.push(ky(n.M,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ev(Yh),i=[];return t.forEach((function(t){var a=Am(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=ng(e).Wt({range:u},(function(e,i,a){var u=o(e,3),s=u[0],c=u[1],l=u[2],f=Tm(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),Zm.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Am(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new Ev(Yh);return ng(e).Wt({range:u},(function(e,t,a){var u=o(e,3),c=u[0],l=u[1],f=u[2],h=Tm(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.fn(e,s)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(tg(e).get(t).next((function(e){if(null===e)throw Rh();Ph(e.userId===n.userId),r.push(ky(n.M,e))})))})),Zm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Xy(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),Zm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Zm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ng(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Tm(e[1]);i.push(a)}else r.done()})).next((function(){Ph(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return eg(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return rg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Ph(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function eg(e,t,n){var r=Am(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return ng(e).Wt({range:a,jt:!0},(function(e,n,r){var a=o(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function tg(e){return cy(e,"mutations")}function ng(e){return cy(e,"documentMutations")}function rg(e){return cy(e,"mutationQueues")}var ig=function(){function e(t){fn(this,e),this.wn=t}return dn(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),ag=function(){function e(t,n){fn(this,e),this.referenceDelegate=t,this.M=n}return dn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new ig(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return $h.fromTimestamp(new Zh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return og(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return Ph(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return og(e).Wt((function(o,u){var s=by(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Zm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return og(e).Wt((function(e,n){var r=by(n);t(r)}))}},{key:"yn",value:function(e){return ug(e).get("targetGlobalKey").next((function(e){return Ph(null!==e),e}))}},{key:"pn",value:function(e,t){return ug(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return og(e).put(wy(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=tp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return og(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=by(n);np(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=sg(e);return t.forEach((function(t){var o=Em(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Zm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=sg(e);return Zm.forEach(t,(function(t){var a=Em(t.path);return Zm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=sg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=sg(e),i=Dv();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Tm(e[1]),a=new wd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Em(t.path),r=IDBKeyRange.bound([n],[Xh(n)],!1,!0),i=0;return sg(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=o(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return og(e).get(t).next((function(e){return e?by(e):null}))}}]),e}();function og(e){return cy(e,"targets")}function ug(e){return cy(e,"targetGlobal")}function sg(e){return cy(e,"targetDocuments")}function cg(e){return lg.apply(this,arguments)}function lg(){return lg=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===jh.FAILED_PRECONDITION&&t.message===Jm){e.next=2;break}throw t;case 2:Ch("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){var n=o(e,2),r=n[0],i=n[1],a=o(t,2),u=a[0],s=a[1],c=Yh(r,u);return 0===c?Yh(i,s):c}var hg=function(){function e(t){fn(this,e),this.En=t,this.buffer=new Ev(fg),this.An=0}return dn(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();fg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),dg=function(){function e(t,n){fn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return dn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Ch("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ln(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!ry(n.t0)){n.next=12;break}Ch("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,cg(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),pg=function(){function e(t,n){fn(this,e),this.Sn=t,this.params=n}return dn(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Zm.resolve(Hh.A);var r=new hg(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ch("LruGarbageCollector","Garbage collection skipped; disabled"),Zm.resolve(Yy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ch("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Yy):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ch("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Th()<=rr.DEBUG&&Ch("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Zm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),vg=function(){function e(t,n){fn(this,e),this.db=t,this.garbageCollector=function(e,t){return new pg(e,t)}(this,n)}return dn(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return mg(e,n)}},{key:"removeReference",value:function(e,t,n){return mg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return mg(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return rg(e).zt((function(r){return eg(e,r,t).next((function(e){return e&&(n=!0),Zm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,$h.min()),sg(e).delete([0,Em(o.path)])}))}));i.push(s)}})).next((function(){return Zm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return mg(e,t)}},{key:"kn",value:function(e,t){var n,r=sg(e),i=Hh.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=o(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==Hh.A&&t(new wd(Tm(n)),i),i=c,n=s):i=Hh.A})).next((function(){i!==Hh.A&&t(new wd(Tm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function mg(e,t){return sg(e).put(function(e,t){return{targetId:0,path:Em(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var yg=function(){function e(){fn(this,e),this.changes=new bv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return dn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,qd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Zm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gg=function(){function e(t){fn(this,e),this.M=t}return dn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return wg(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return wg(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],my(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=qd.newInvalidDocument(t);return wg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xg(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:qd.newInvalidDocument(t)};return wg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(xg(t))},(function(e,i){r={document:n.Fn(t,i),size:Zy(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Cv();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Cv(),i=new wv(wd.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,Zy(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return Zm.resolve();var r=new Ev(Eg);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(xg(r.first()),xg(r.last())),a=r.getIterator(),o=a.getNext();return wg(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=wd.fromSegments([].concat(pn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Eg(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(xg(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),my(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wg(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Cv(),i=sn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(wd.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Cv(),o=Ig(t,n),u=Ig(t,Xd.max());return wg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(wd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new kg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return bg(e).get("remoteDocumentGlobalKey").next((function(e){return Ph(!!e),e}))}},{key:"On",value:function(e,t){return bg(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=sm(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=wd.fromSegments(t.noDocument.path),i=gy(t.noDocument.readTime);n=qd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Rh();var a=wd.fromSegments(t.unknownDocument.path),o=gy(t.unknownDocument.version);n=qd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Zh(e[0],e[1]);return $h.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual($h.min()))return n}return qd.newInvalidDocument(e)}}]),e}(),kg=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new bv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return dn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ev((function(e,t){return Yh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=vy(t.qn.M,o);i=i.add(a.path.popLast());var c=Zy(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=vy(t.qn.M,o.convertToNoDocument($h.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),Zm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(yg);function bg(e){return cy(e,"remoteDocumentGlobal")}function wg(e){return cy(e,"remoteDocumentsV14")}function xg(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ig(e,t){var n=t.documentKey.path.toArray();return[e,my(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Eg(e,t){var n=e.path.length-t.path.length;return 0!==n?n:wd.comparator(e,t)}var Sg=function(){function e(t){fn(this,e),this.M=t}return dn(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new $m("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cm,{unique:!0}),e.createObjectStore("documentMutations")}(e),_g(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Zm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),_g(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$h.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Cm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Zm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:qm});t.createIndex("collectionPathOverlayIndex",Wm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Gm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Rm});t.createIndex("documentKeyIndex",Pm),t.createIndex("collectionGroupIndex",Dm)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Um}).createIndex("sequenceNumberIndex",Vm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Bm}).createIndex("documentKeyIndex",zm,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Zy(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return Zm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return Zm.forEach(r,(function(r){Ph(r.userId===n.userId);var i=ky(t.M,r);return Xy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new id(n),o=function(e){return[0,Em(e)]}(a);r.push(t.get(o).next((function(n){return n?Zm.resolve():function(n){return t.put({targetId:0,path:Em(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Zm.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Fm});var n=t.store("collectionParents"),r=new zy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Em(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new id(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=o(e,3),r=(n[0],n[1]),a=(n[2],Tm(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=by(r),a=wy(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new wd(id.fromString(i.document.name).popFirst(5)):i.noDocument?wd.fromSegments(i.noDocument.path):i.unknownDocument?wd.fromSegments(i.unknownDocument.path):Rh()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Zm.waitFor(r)}))}}]),e}();function _g(e){e.createObjectStore("targetDocuments",{keyPath:Lm}).createIndex("documentTargetsIndex",Mm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jm,{unique:!0}),e.createObjectStore("targetGlobal")}var Tg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cg=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(fn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Lh(jh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vg(this,i),this.cs=n+"main",this.M=new py(s),this.hs=new ey(this.cs,this.Zn,new Sg(this.M)),this.ls=new ag(this.referenceDelegate,this.M),this.fs=function(e){return new gg(e)}(this.M),this.ds=new Sy,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Ah("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return dn(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Lh(jh.FAILED_PRECONDITION,Tg);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new Hh(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=ln(yn().mark((function n(r){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=ln(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Og(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(ry(t))return Ch("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ch("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return Ag(e).get("owner").next((function(e){return Zm.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return Og(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=ln(yn().mark((function e(){var t,n,r,i,a=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cy(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Zm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=sn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?Zm.resolve(!0):Ag(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Lh(jh.FAILED_PRECONDITION,Tg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Og(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ch("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ln(yn().mark((function e(){var t=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new sy(e,Hh.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Og(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return $y.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new Wy(e)}},{key:"getDocumentOverlayCache",value:function(e){return Cy.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ch("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?Ym:13===i?Qm:12===i?Km:11===i?Hm:void Rh();return this.hs.runTransaction(e,o,u,(function(i){return a=new sy(i,r.ts?r.ts.next():Hh.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw Ah("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Lh(jh.FAILED_PRECONDITION,Jm);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return Ag(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Lh(jh.FAILED_PRECONDITION,Tg)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ag(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=Ag(e);return n.get("owner").next((function(e){return t.bs(e)?(Ch("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Zm.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ah("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),Rn()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ch("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ah("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Is){Ah("Failed to set zombie client id.",Is)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Is){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return ey.vt()}}]),e}();function Ag(e){return cy(e,"owner")}function Og(e){return cy(e,"clientMetadata")}function Ng(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Rg=function(){function e(t,n,r){fn(this,e),this.fs=t,this.$s=n,this.indexManager=r}return dn(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=sn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=sn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return wd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):_p(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new wd(t)).next((function(e){var t=Ov();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ov();return this.indexManager.getCollectionParents(e,i).next((function(o){return Zm.forEach(o,(function(o){var u=function(e,t){return new kp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=sn(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=qd.newInvalidDocument(s),r=r.insert(s,c)),iv(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Pp(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Pg=function(){function e(t,n,r,i){fn(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return dn(e,null,[{key:"Js",value:function(t,n){var r,i=Dv(),a=Dv(),o=sn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Dg=function(){function e(){fn(this,e)}return dn(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual($h.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(xp(t)||Ip(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Th()<=rr.DEBUG&&Ch("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Rp(t)),i.Xs.Ks(e,t,Yd(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Ev(jp(e));return t.forEach((function(t,r){Pp(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Th()<=rr.DEBUG&&Ch("QueryEngine","Using full collection scan to execute query:",Rp(t)),this.Xs.Ks(e,t,Xd.min())}}]),e}(),jg=function(){function e(t,n,r,i){fn(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new wv(Yh),this.ii=new bv((function(e){return tp(e)}),np),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return dn(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Rg(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function Lg(e,t,n,r){return new jg(e,t,n,r)}function Mg(e,t){return Fg.apply(this,arguments)}function Fg(){return Fg=ln(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Dv(),s=sn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=sn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=sn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=sn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function Ug(e,t){var n=Dh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Zm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ph(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function Vg(e){var t=Dh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function Bg(e,t){var n=Dh(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(sd.EMPTY_BYTE_STRING,$h.min()).withLastLimboFreeSnapshotVersion($h.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=Cv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(zg(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual($h.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Zm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function zg(e,t,n){var r=Dv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Cv();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual($h.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ch("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function qg(e,t){var n=Dh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function Wg(e,t){var n=Dh(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,Zm.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new dy(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Gg(e,t,n){return Hg.apply(this,arguments)}function Hg(){return Hg=ln(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dh(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ry(e.t1)){e.next=12;break}throw e.t1;case 12:Ch("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Hg.apply(this,arguments)}function Kg(e,t,n){var r=Dh(e),i=$h.min(),a=Dv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Dh(e),i=r.ii.get(n);return void 0!==i?Zm.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Cp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:$h.min(),n?a:Dv())})).next((function(e){return Jg(r,Dp(t),e),{documents:e,hi:a}}))}))}function Qg(e,t){var n=Dh(e),r=Dh(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Yg(e,t){var n=Dh(e),r=n.ri.get(t)||$h.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,Yd(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Jg(n,t,e),e}))}function Jg(e,t,n){var r=$h.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function Xg(e,t,n,r){return Zg.apply(this,arguments)}function Zg(){return Zg=ln(yn().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Dh(t),o=Dv(),u=Cv(),s=sn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(h=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Wg(a,function(e){return Cp(wp(id.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return zg(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function $g(e,t){return ek.apply(this,arguments)}function ek(){return ek=ln(yn().mark((function e(t,n){var r,i,a,o=arguments;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Dv(),e.next=3,Wg(t,Cp(xy(n.bundledQuery)));case 3:return i=e.sent,a=Dh(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Zv(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(sd.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}var tk=function(){function e(t){fn(this,e),this.M=t,this._i=new Map,this.wi=new Map}return dn(e,[{key:"getBundleMetadata",value:function(e,t){return Zm.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:Zv(n.createTime)}),Zm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Zm.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:xy(e.bundledQuery),readTime:Zv(e.readTime)}}(t)),Zm.resolve()}}]),e}(),nk=function(){function e(){fn(this,e),this.overlays=new wv(wd.comparator),this.mi=new Map}return dn(e,[{key:"getOverlay",value:function(e,t){return Zm.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Zm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),Zm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Nv(),i=t.length+1,a=new wd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Zm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wv((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Nv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Nv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Zm.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new hy(t,n));var a=this.mi.get(t);void 0===a&&(a=Dv(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),rk=function(){function e(){fn(this,e),this.gi=new Ev(ik.yi),this.pi=new Ev(ik.Ii)}return dn(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ik(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new ik(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new wd(new id([])),r=new ik(n,e),i=new ik(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new wd(new id([])),n=new ik(t,e),r=new ik(t,e+1),i=Dv();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ik(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ik=function(){function e(t,n){fn(this,e),this.key=t,this.Vi=n}return dn(e,null,[{key:"yi",value:function(e,t){return wd.comparator(e.key,t.key)||Yh(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Yh(e.Vi,t.Vi)||wd.comparator(e.key,t.key)}}]),e}(),ak=function(){function e(t,n){fn(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Ev(ik.yi)}return dn(e,[{key:"checkEmpty",value:function(e){return Zm.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new ly(i,t,n,r);this.$s.push(a);var o,u=sn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new ik(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Zm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Zm.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return Zm.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Zm.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return Zm.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ik(t,0),i=new ik(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),Zm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ev(Yh);return t.forEach((function(e){var t=new ik(e,0),i=new ik(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),Zm.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;wd.isDocumentKey(i)||(i=i.child(""));var a=new ik(new wd(i),0),o=new Ev(Yh);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),Zm.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ph(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return Zm.forEach(t.mutations,(function(i){var a=new ik(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ik(t,0),r=this.Si.firstAfterOrEqual(n);return Zm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,Zm.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),ok=function(){function e(t){fn(this,e),this.ki=t,this.docs=new wv(wd.comparator),this.size=0}return dn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Zm.resolve(n?n.document.mutableCopy():qd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Cv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():qd.newInvalidDocument(e))})),Zm.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Cv(),i=new wd(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Zd(Jd(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Zm.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Rh()}},{key:"Mi",value:function(e,t){return Zm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new uk(this)}},{key:"getSize",value:function(e){return Zm.resolve(this.size)}}]),e}(),uk=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this)).qn=e,r}return dn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),Zm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(yg),sk=function(){function e(t){fn(this,e),this.persistence=t,this.Oi=new bv((function(e){return tp(e)}),np),this.lastRemoteSnapshotVersion=$h.min(),this.highestTargetId=0,this.Fi=0,this.$i=new rk,this.targetCount=0,this.Bi=ig.mn()}return dn(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),Zm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Zm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Zm.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),Zm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),Zm.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new ig(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,Zm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),Zm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,Zm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Zm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Zm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return Zm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),Zm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Zm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),Zm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return Zm.resolve(n)}},{key:"containsKey",value:function(e,t){return Zm.resolve(this.$i.containsKey(t))}}]),e}(),ck=function(){function e(t,n){var r=this;fn(this,e),this.Li={},this.overlays={},this.ts=new Hh(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new sk(this),this.indexManager=new By,this.fs=new ok((function(e){return r.referenceDelegate.Ui(e)})),this.M=new py(n),this.ds=new tk(this.M)}return dn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new nk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new ak(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ch("MemoryPersistence","Starting transaction:",e);var i=new lk(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return Zm.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),lk=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return dn(n)}(Xm),fk=function(){function e(t){fn(this,e),this.persistence=t,this.Qi=new rk,this.ji=null}return dn(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Rh()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),Zm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),Zm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),Zm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zm.forEach(this.zi,(function(r){var i=wd.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,$h.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return Zm.or([function(){return Zm.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function hk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function dk(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function pk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var vk=function(){function e(t,n,r,i){fn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return dn(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Lh(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ah("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),mk=function(){function e(t,n,r){fn(this,e),this.targetId=t,this.state=n,this.error=r}return dn(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lh(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ah("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),yk=function(){function e(t,n){fn(this,e),this.clientId=t,this.activeTargetIds=n}return dn(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Lv(),o=0;i&&o<r.activeTargetIds.length;++o)i=bd(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ah("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),gk=function(){function e(t,n){fn(this,e),this.clientId=t,this.onlineState=n}return dn(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ah("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),kk=function(){function e(){fn(this,e),this.activeTargetIds=Lv()}return dn(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bk=function(){function e(t,n,r,i,a){fn(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new wv(Yh),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=hk(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new kk),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return dn(e,[{key:"start",value:function(){var e=ln(yn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=sn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(hk(this.persistenceKey,i)))&&(o=yk.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=sn(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(pk(this.persistenceKey,e));if(n){var r=mk.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(pk(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ch("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ch("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ch("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ch("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Ah("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(ln(yn().mark((function e(){var r,i,a,o,u,s,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Hh.A;if(null!=e)try{var n=JSON.parse(e);Ph("number"==typeof n),t=n}catch(e){Ah("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Hh.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new vk(this.currentUser,e,t,n),i=dk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=dk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=pk(this.persistenceKey,e),i=new mk(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return yk.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vk.Ji(new Eh(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return mk.Ji(r,t)}},{key:"wr",value:function(e){return gk.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Ch("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Lv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),wk=function(){function e(){fn(this,e),this.Fr=new kk,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return dn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new kk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),xk=function(){function e(){fn(this,e)}return dn(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ik=function(){function e(){var t=this;fn(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return dn(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ch("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=sn(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Ch("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=sn(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ek={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sk=function(){function e(t){fn(this,e),this.jr=t.jr,this.Wr=t.Wr}return dn(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),_k=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return dn(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xh;o.listenOnce(yh.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case mh.NO_ERROR:var t=o.getResponseJson();Ch("Connection","XHR received:",JSON.stringify(t)),i(t);break;case mh.TIMEOUT:Ch("Connection",'RPC "'+e+'" timed out'),a(new Lh(jh.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:var n=o.getStatus();if(Ch("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(jh).indexOf(t)>=0?t:jh.UNKNOWN}(r.status);a(new Lh(u,r.message))}else a(new Lh(jh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Lh(jh.UNAVAILABLE,"Connection failed."));break;default:Rh()}}finally{Ch("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ph(),a=vh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bh({})),this.uo(o.initMessageHeaders,t,n),Cn()||On()||Tn().indexOf("Electron/")>=0||Nn()||Tn().indexOf("MSAppHost/")>=0||An()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ch("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Sk({jr:function(e){l?Ch("Connection","Not sending because WebChannel is closed:",e):(c||(Ch("Connection","Opening WebChannel transport."),s.open(),c=!0),Ch("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,wh.EventType.OPEN,(function(){l||Ch("Connection","WebChannel transport opened.")})),h(s,wh.EventType.CLOSE,(function(){l||(l=!0,Ch("Connection","WebChannel transport closed"),f.eo())})),h(s,wh.EventType.ERROR,(function(e){l||(l=!0,Oh("Connection","WebChannel transport errored:",e),f.eo(new Lh(jh.UNAVAILABLE,"The operation could not be completed")))})),h(s,wh.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ph(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ch("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=dv[e];if(void 0!==t)return kv(t)}(a),u=i.message;void 0===o&&(o=jh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Lh(o,u)),s.close()}else Ch("Connection","WebChannel received:",n),f.no(n)}})),h(a,gh.STAT_EVENT,(function(e){e.stat===kh.PROXY?Ch("Connection","Detected buffering proxy"):e.stat===kh.NOPROXY&&Ch("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){fn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return dn(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ch("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Ch("RestConnection","Received: ",e),e}),(function(t){throw Oh("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Ek[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Tk(){return"undefined"!=typeof window?window:null}function Ck(){return"undefined"!=typeof document?document:null}function Ak(e){return new Qv(e,!0)}var Ok=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;fn(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return dn(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ch("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Nk=function(){function e(t,n,r,i,a,o,u,s){fn(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Ok(t,n)}return dn(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===jh.RESOURCE_EXHAUSTED?(Ah(n.toString()),Ah("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===jh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Lh(jh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ch("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Ch("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Rk=function(e){nn(n,e);var t=un(n);function n(e,r,i,a,o,u){var s;return fn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return dn(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Rh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Ph(void 0===t||"string"==typeof t),sd.fromBase64String(t||"")):(Ph(void 0===t||t instanceof Uint8Array),sd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?jh.UNKNOWN:kv(e.code);return new Lh(t,e.message||"")}(o);n=new Bv(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=nm(e,s.document.name),l=Zv(s.document.updateTime),f=new Bd({mapValue:{fields:s.document.fields}}),h=qd.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Uv(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=nm(e,v.document),y=v.readTime?Zv(v.readTime):$h.min(),g=qd.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Uv([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=nm(e,b.document),x=b.removedTargetIds||[];n=new Uv([],x,w,null)}else{if(!("filter"in t))return Rh();t.filter;var I=t.filter;I.targetId;var E=I.count||0,S=new yv(E),_=I.targetId;n=new Vv(_,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return $h.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$h.min():t.readTime?Zv(t.readTime):$h.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=am(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=rp(r)?{documents:hm(e,r)}:{query:dm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Jv(e,t.resumeToken):t.snapshotVersion.compareTo($h.min())>0&&(n.readTime=Yv(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=am(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(Nk),Pk=function(e){nn(n,e);var t=un(n);function n(e,r,i,a,o,u){var s;return fn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return dn(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,$t(Xt(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Ph(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Ph(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zv(e.updateTime):Zv(t);return n.isEqual($h.min())&&(n=Zv(t)),new $p(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zv(e.commitTime);return this.listener.Jo(n,t)}return Ph(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=am(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lm(t.M,e)}))};this.Oo(n)}}]),n}(Nk),Dk=function(e){nn(n,e);var t=un(n);function n(e,r,i,a){var o;return fn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return dn(n,[{key:"tu",value:function(){if(this.Zo)throw new Lh(jh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.bo.ro(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lh(jh.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.bo.co(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===jh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lh(jh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return dn((function e(){fn(this,e)}))}()),jk=function(){function e(t,n){fn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return dn(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Ah(t),this.su=!1):Ch("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Lk=dn((function e(t,n,r,i,a){var o=this;fn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Kk(o),!e.t0){e.next=5;break}return Ch("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dh(t)).lu.add(4),e.next=4,Uk(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Mk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new jk(r,i)}));function Mk(e){return Fk.apply(this,arguments)}function Fk(){return Fk=ln(yn().mark((function e(t){var n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Kk(t)){e.next=18;break}n=sn(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Fk.apply(this,arguments)}function Uk(e){return Vk.apply(this,arguments)}function Vk(){return Vk=ln(yn().mark((function e(t){var n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sn(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Vk.apply(this,arguments)}function Bk(e,t){var n=Dh(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Hk(n)?Gk(n):xb(n).Co()&&qk(n,t))}function zk(e,t){var n=Dh(e),r=xb(n);n.hu.delete(t),r.Co()&&Wk(n,t),0===n.hu.size&&(r.Co()?r.ko():Kk(n)&&n._u.set("Unknown"))}function qk(e,t){e.wu.Z(t.targetId),xb(e).Qo(t)}function Wk(e,t){e.wu.Z(t),xb(e).jo(t)}function Gk(e){e.wu=new qv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),xb(e).start(),e._u.iu()}function Hk(e){return Kk(e)&&!xb(e).Do()&&e.hu.size>0}function Kk(e){return 0===Dh(e).lu.size}function Qk(e){e.wu=void 0}function Yk(e){return Jk.apply(this,arguments)}function Jk(){return Jk=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){qk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Xk(e,t){return Zk.apply(this,arguments)}function Zk(){return Zk=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qk(t),Hk(t)?(t._u.uu(n),Gk(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function $k(e,t,n){return eb.apply(this,arguments)}function eb(){return eb=ln(yn().mark((function e(t,n,r){var i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Bv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ln(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=sn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ch("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,tb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Uv?t.wu.ut(n):n instanceof Vv?t.wu._t(n):t.wu.ht(n),r.isEqual($h.min())){e.next=29;break}return e.prev=14,e.next=17,Vg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(sd.EMPTY_BYTE_STRING,n.snapshotVersion)),Wk(e,t);var r=new dy(n.target,t,1,n.sequenceNumber);qk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ch("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,tb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),eb.apply(this,arguments)}function tb(e,t,n){return nb.apply(this,arguments)}function nb(){return nb=ln(yn().mark((function e(t,n,r){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ry(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Uk(t);case 5:t._u.set("Offline"),r||(r=function(){return Vg(t.localStore)}),t.asyncQueue.enqueueRetryable(ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ch("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Mk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return t().catch((function(n){return tb(e,n,t)}))}function ib(e){return ab.apply(this,arguments)}function ab(){return ab=ln(yn().mark((function e(t){var n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dh(t),r=Ib(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!ob(n)){e.next=19;break}return e.prev=3,e.next=6,qg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,ub(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,tb(n,e.t0);case 17:e.next=2;break;case 19:sb(n)&&cb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ab.apply(this,arguments)}function ob(e){return Kk(e)&&e.cu.length<10}function ub(e,t){e.cu.push(t);var n=Ib(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function sb(e){return Kk(e)&&!Ib(e).Do()&&e.cu.length>0}function cb(e){Ib(e).start()}function lb(e){return fb.apply(this,arguments)}function fb(){return fb=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ib(t).Xo();case 1:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e){return db.apply(this,arguments)}function db(){return db=ln(yn().mark((function e(t){var n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ib(t),r=sn(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t,n){return vb.apply(this,arguments)}function vb(){return vb=ln(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=fy.from(i,n,r),e.next=3,rb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ib(t);case 5:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function mb(e,t){return yb.apply(this,arguments)}function yb(){return yb=ln(yn().mark((function e(t,n){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Ib(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ln(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gv(i=n.code)||i===jh.ABORTED){e.next=7;break}return r=t.cu.shift(),Ib(t).No(),e.next=5,rb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ib(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:sb(t)&&cb(t);case 5:case"end":return e.stop()}}),e)}))),yb.apply(this,arguments)}function gb(e,t){return kb.apply(this,arguments)}function kb(){return kb=ln(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Dh(t)).asyncQueue.verifyOperationInProgress(),Ch("RemoteStore","RemoteStore received new credentials"),i=Kk(r),r.lu.add(3),e.next=6,Uk(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Mk(r);case 12:case"end":return e.stop()}}),e)}))),kb.apply(this,arguments)}function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=ln(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Mk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Uk(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function xb(e){return e.mu||(e.mu=function(e,t,n){var r=Dh(e);return r.tu(),new Rk(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Yk.bind(null,e),Jr:Xk.bind(null,e),Ko:$k.bind(null,e)}),e.fu.push(function(){var t=ln(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Hk(e)?Gk(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Qk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Ib(e){return e.gu||(e.gu=function(e,t,n){var r=Dh(e);return r.tu(),new Pk(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:lb.bind(null,e),Jr:mb.bind(null,e),Yo:hb.bind(null,e),Jo:pb.bind(null,e)}),e.fu.push(function(){var t=ln(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,ib(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Ch("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Eb=function(){function e(t,n,r,i,a){fn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return dn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lh(jh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Sb(e,t){if(Ah("AsyncQueue","".concat(t,": ").concat(e)),ry(e))return new Lh(jh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var _b=function(){function e(t){fn(this,e),this.comparator=t?function(e,n){return t(e,n)||wd.comparator(e.key,n.key)}:function(e,t){return wd.comparator(e.key,t.key)},this.keyedMap=Ov(),this.sortedSet=new wv(this.comparator)}return dn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Tb=function(){function e(){fn(this,e),this.yu=new wv(wd.comparator)}return dn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Rh():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Cb=function(){function e(t,n,r,i,a,o,u,s){fn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return dn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,_b.emptySet(n),a,r,i,!0,!1)}}]),e}(),Ab=dn((function e(){fn(this,e),this.Iu=void 0,this.listeners=[]})),Ob=dn((function e(){fn(this,e),this.queries=new bv((function(e){return Np(e)}),Op),this.onlineState="Unknown",this.Tu=new Set}));function Nb(e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=ln(yn().mark((function e(t,n){var r,i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Ab),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Sb(e.t0,"Initialization of query '".concat(Rp(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Mb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Rb.apply(this,arguments)}function Pb(e,t){return Db.apply(this,arguments)}function Db(){return Db=ln(yn().mark((function e(t,n){var r,i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Db.apply(this,arguments)}function jb(e,t){var n,r=Dh(e),i=!1,a=sn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=sn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Mb(r)}function Lb(e,t,n){var r=Dh(e),i=r.queries.get(t);if(i){var a,o=sn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Mb(e){e.Tu.forEach((function(e){e.next()}))}var Fb=function(){function e(t,n,r){fn(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return dn(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=sn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Cb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Cb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Ub=function(){function e(t,n){fn(this,e),this.payload=t,this.byteLength=n}return dn(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Vb=function(){function e(t){fn(this,e),this.M=t}return dn(e,[{key:"li",value:function(e){return nm(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?sm(this.M,e.document,!1):qd.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return Zv(e)}}]),e}(),Bb=function(){function e(t,n,r){fn(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zb(t)}return dn(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=id.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Vb(this.M),i=sn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=sn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Dv()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ln(yn().mark((function e(){var t,n,r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xg(this.localStore,new Vb(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=sn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,$g(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function zb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var qb=dn((function e(t){fn(this,e),this.key=t})),Wb=dn((function e(t){fn(this,e),this.key=t})),Gb=function(){function e(t,n){fn(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Dv(),this.mutatedKeys=Dv(),this.Lu=jp(t),this.Uu=new _b(this.Lu)}return dn(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new Tb,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=xp(this.query)&&i.size===this.query.limit?i.last():null,c=Ip(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Pp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),xp(this.query)||Ip(this.query))for(;o.size>this.query.limit;){var l=xp(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rh()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Cb(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Tb,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Dv(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Wb(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new qb(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=Dv();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Cb.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),Hb=dn((function e(t,n,r){fn(this,e),this.query=t,this.targetId=n,this.view=r})),Kb=dn((function e(t){fn(this,e),this.key=t,this.Xu=!1})),Qb=function(){function e(t,n,r,i,a,o){fn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new bv((function(e){return Np(e)}),Op),this.ea=new Map,this.na=new Set,this.sa=new wv(wd.comparator),this.ia=new Map,this.ra=new rk,this.oa={},this.ua=new Map,this.aa=ig.gn(),this.onlineState="Unknown",this.ca=void 0}return dn(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function Yb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=ln(yn().mark((function e(t,n){var r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zw(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Wg(r.localStore,Cp(n));case 8:return u=e.sent,r.isPrimaryClient&&Bk(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Xb(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Xb(e,t,n,r){return Zb.apply(this,arguments)}function Zb(){return Zb=ln(yn().mark((function e(t,n,r,i){var a,o,u,s,c,l;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=ln(yn().mark((function e(t,n,r,i){var a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Kg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(gw(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Kg(t.localStore,n,!0);case 3:return a=e.sent,o=new Gb(n,a.hi),u=o.Gu(a.documents),s=Fv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),gw(t,r,c.zu),l=new Hb(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function $b(e,t){return ew.apply(this,arguments)}function ew(){return ew=ln(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Dh(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!Op(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Gg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),zk(r.remoteStore,i.targetId),mw(r,i.targetId)})).catch(cg);case 9:e.next=14;break;case 11:return mw(r,i.targetId),e.next=14,Gg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t,n){return nw.apply(this,arguments)}function nw(){return nw=ln(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qw(t),e.prev=1,e.next=4,function(e,t){var n,r=Dh(e),i=Zh.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Dv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=sn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=av(c,n.get(c.key));null!=l&&u.push(new cv(c.key,l,zd(l.value.mapValue),ev.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new wv(Yh)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ww(i,a.changes);case 9:return e.next=11,ib(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Sb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),nw.apply(this,arguments)}function rw(e,t){return iw.apply(this,arguments)}function iw(){return iw=ln(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.prev=1,e.next=4,Bg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(Ph(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Ph(n.Xu):e.removedDocuments.size>0&&(Ph(n.Xu),n.Xu=!1))})),e.next=8,ww(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),iw.apply(this,arguments)}function aw(e,t,n){var r=Dh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Dh(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=sn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Mb(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ow(e,t,n){return uw.apply(this,arguments)}function uw(){return uw=ln(yn().mark((function e(t,n,r){var i,a,o,u,s,c;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Dh(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new wv(wd.comparator)).insert(o,qd.newNoDocument(o,$h.min())),s=Dv().add(o),c=new Mv($h.min(),new Map,new Ev(Yh),u,s),e.next=9,rw(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),bw(i),e.next=16;break;case 14:return e.next=16,Gg(i.localStore,n,!1).then((function(){return mw(i,n,r)})).catch(cg);case 16:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}function sw(e,t){return cw.apply(this,arguments)}function cw(){return cw=ln(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),i=n.batch.batchId,e.prev=1,e.next=4,Ug(r.localStore,n);case 4:return a=e.sent,vw(r,i,null),pw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ww(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cw.apply(this,arguments)}function lw(e,t,n){return fw.apply(this,arguments)}function fw(){return fw=ln(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dh(t),e.prev=1,e.next=4,function(e,t){var n=Dh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return Ph(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,vw(i,n,r),pw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ww(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fw.apply(this,arguments)}function hw(e,t){return dw.apply(this,arguments)}function dw(){return dw=ln(yn().mark((function e(t,n){var r,i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kk((r=Dh(t)).remoteStore)||Ch("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Dh(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Sb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),dw.apply(this,arguments)}function pw(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function vw(e,t,n){var r=Dh(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function mw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=sn(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||yw(e,t)}))}function yw(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(zk(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),bw(e))}function gw(e,t,n){var r,i=sn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof qb?(e.ra.addReference(a.key,t),kw(e,a)):a instanceof Wb?(Ch("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||yw(e,a.key)):Rh()}}catch(o){i.e(o)}finally{i.f()}}function kw(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Ch("SyncEngine","New document in limbo: "+n),e.na.add(r),bw(e))}function bw(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new wd(id.fromString(t)),r=e.aa.next();e.ia.set(r,new Kb(n)),e.sa=e.sa.insert(n,r),Bk(e.remoteStore,new dy(Cp(wp(n.path)),r,2,Hh.A))}}function ww(e,t,n){return xw.apply(this,arguments)}function xw(){return xw=ln(yn().mark((function e(t,n,r){var i,a,o,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Dh(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Pg.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=ln(yn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Zm.forEach(n,(function(t){return Zm.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Zm.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ry(e.t0)){e.next=10;break}throw e.t0;case 10:Ch("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=sn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),xw.apply(this,arguments)}function Iw(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=ln(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Dh(t)).currentUser.isEqual(n)){e.next=11;break}return Ch("SyncEngine","User change. New user:",n.toKey()),e.next=5,Mg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Lh(jh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ww(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Sw(e,t){var n=Dh(e),r=n.ia.get(t);if(r&&r.Xu)return Dv().add(r.key);var i=Dv(),a=n.ea.get(t);if(!a)return i;var o,u=sn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function _w(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=ln(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.next=3,Kg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&gw(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Cw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=ln(yn().mark((function e(t,n){var r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),e.abrupt("return",Yg(r.localStore,n).then((function(e){return ww(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Ow(e,t,n,r){return Nw.apply(this,arguments)}function Nw(){return Nw=ln(yn().mark((function e(t,n,r,i){var a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Dh(t),e.next=3,function(e,t){var n=Dh(e),r=Dh(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):Zm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ib(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(vw(a,n,i||null),pw(a,n),function(e,t){Dh(Dh(e).$s).dn(t)}(a.localStore,n)):Rh();case 11:return e.next=13,ww(a,o);case 13:e.next=16;break;case 15:Ch("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Nw.apply(this,arguments)}function Rw(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=ln(yn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zw(r=Dh(t)),qw(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Dw(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,bb(r.remoteStore,!0);case 9:o=sn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Bk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return mw(r,t),Gg(r.localStore,t,!0)})),zk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Dw(r,c);case 21:return function(e){var t=Dh(e);t.ia.forEach((function(e,n){zk(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new wv(wd.comparator)}(r),r.ca=!1,e.next=25,bb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Dw(e,t,n){return jw.apply(this,arguments)}function jw(){return jw=ln(yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Dh(t),a=[],o=[],u=sn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,Wg(i.localStore,Cp(f[0]));case 11:l=e.sent,h=sn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ta.get(p),e.next=20,_w(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Qg(i.localStore,c);case 36:return y=e.sent,e.next=39,Wg(i.localStore,y);case 39:return l=e.sent,e.next=42,Xb(i,Lw(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),jw.apply(this,arguments)}function Lw(e){return bp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Mw(e){var t=Dh(e);return Dh(Dh(t.localStore).persistence).Os()}function Fw(e,t,n,r){return Uw.apply(this,arguments)}function Uw(){return Uw=ln(yn().mark((function e(t,n,r,i){var a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Dh(t)).ca){e.next=3;break}return e.abrupt("return",void Ch("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Yg(a.localStore,Dp(o[0]));case 10:return u=e.sent,s=Mv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,ww(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Gg(a.localStore,n,!0);case 17:return mw(a,n,i),e.abrupt("break",20);case 19:Rh();case 20:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function Vw(e,t,n){return Bw.apply(this,arguments)}function Bw(){return Bw=ln(yn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=zw(t)).ca){e.next=45;break}a=sn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return Ch("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Qg(i.localStore,u);case 12:return s=e.sent,e.next=15,Wg(i.localStore,s);case 15:return c=e.sent,e.next=18,Xb(i,Lw(s),c.targetId,!1);case 18:Bk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=sn(r),e.prev=30,h=yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,Gg(i.localStore,t,!1).then((function(){zk(i.remoteStore,t),mw(i,t)})).catch(cg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Bw.apply(this,arguments)}function zw(e){var t=Dh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ow.bind(null,t),t.Zu.Ko=jb.bind(null,t.eventManager),t.Zu.la=Lb.bind(null,t.eventManager),t}function qw(e){var t=Dh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lw.bind(null,t),t}function Ww(e,t,n){var r=Dh(e);(function(){var e=ln(yn().mark((function e(t,n,r){var i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Dh(e),r=Zv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(zb(i)),a=new Bb(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,ww(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Dh(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Oh("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Gw=function(){function e(){fn(this,e),this.synchronizeTabs=!1}return dn(e,[{key:"initialize",value:function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Ak(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return Lg(this.persistence,new Dg,e.initialUser,this.M)}},{key:"_a",value:function(e){return new ck(fk.Wi,this.M)}},{key:"da",value:function(e){return new wk}},{key:"terminate",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hw=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return dn(n,[{key:"initialize",value:function(){var e=ln(yn().mark((function e(t){var r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(Xt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,qw(this.ga.syncEngine);case 6:return e.next=8,ib(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return Lg(this.persistence,new Dg,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new dg(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=Ng(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jy.withCacheSize(this.cacheSizeBytes):Jy.DEFAULT;return new Cg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tk(),Ck(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new wk}}]),n}(Gw),Kw=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return dn(n,[{key:"initialize",value:function(){var e=ln(yn().mark((function e(t){var r,i=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$t(Xt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof bk,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:Ow.bind(null,r),Mr:Fw.bind(null,r),Or:Vw.bind(null,r),Os:Mw.bind(null,r),Nr:Cw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rw(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=Tk();if(!bk.vt(t))throw new Lh(jh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ng(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Hw),Qw=function(){function e(){fn(this,e)}return dn(e,[{key:"initialize",value:function(){var e=ln(yn().mark((function e(t,n){var r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return aw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Iw.bind(null,this.syncEngine),e.next=12,bb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ob}},{key:"createDatastore",value:function(e){var t,n=Ak(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new _k(t));return function(e,t,n,r){return new Dk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return aw(o.syncEngine,e,0)},a=Ik.vt()?new Ik:new xk,new Lk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Qb(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dh(t),Ch("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Uk(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Yw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ln(yn().mark((function r(){var i;return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Jw=function(){function e(t){fn(this,e),this.observer=t,this.muted=!1}return dn(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Xw=function(){function e(t,n){var r=this;fn(this,e),this.Ia=t,this.M=n,this.metadata=new Mh,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return dn(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=ln(yn().mark((function e(){var t,n,r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new Ub(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=ln(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=ln(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zw=function(){function e(t){fn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return dn(e,[{key:"lookup",value:function(){var e=ln(yn().mark((function e(t){var n,r=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Lh(jh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ln(yn().mark((function e(t,n){var r,i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),i=am(r.M)+"/documents",a={documents:n.map((function(e){return tm(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=cm(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ph(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new vv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ln(yn().mark((function e(){var t,n=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=wd.fromPath(t);n.mutations.push(new mv(r,n.precondition(r)))})),e.next=7,function(){var e=ln(yn().mark((function e(t,n){var r,i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t),i=am(r.M)+"/documents",a={writes:n.map((function(e){return lm(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rh();t=$h.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Lh(jh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ev.updateTime(t):ev.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($h.min()))throw new Lh(jh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ev.updateTime(t)}return ev.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$w=function(){function e(t,n,r,i){fn(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new Ok(this.asyncQueue,"transaction_retry")}return dn(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(ln(yn().mark((function t(){var n,r;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Zw(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!gd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!gv(t)}return!1}}]),e}(),ex=function(){function e(t,n,r,i){var a=this;fn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Eh.UNAUTHENTICATED,this.clientId=Qh.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ch("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ch("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return dn(e,[{key:"getConfiguration",value:function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Lh(jh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Mh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ln(yn().mark((function n(){var r;return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Sb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function tx(e,t){return nx.apply(this,arguments)}function nx(){return nx=ln(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ch("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Mg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}function rx(e,t){return ix.apply(this,arguments)}function ix(){return ix=ln(yn().mark((function e(t,n){var r,i;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ax(t);case 3:return r=e.sent,Ch("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return gb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return gb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e){return ox.apply(this,arguments)}function ox(){return ox=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ch("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,tx(t,new Gw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function ux(e){return sx.apply(this,arguments)}function sx(){return sx=ln(yn().mark((function e(t){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ch("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,rx(t,new Qw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(e){return ax(e).then((function(e){return e.persistence}))}function lx(e){return ax(e).then((function(e){return e.localStore}))}function fx(e){return ux(e).then((function(e){return e.remoteStore}))}function hx(e){return ux(e).then((function(e){return e.syncEngine}))}function dx(e){return px.apply(this,arguments)}function px(){return px=ln(yn().mark((function e(t){var n,r;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Yb.bind(null,n.syncEngine),r.onUnlisten=$b.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mh;return e.asyncQueue.enqueueAndForget(ln(yn().mark((function i(){return yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Jw({next:function(a){t.enqueueAndForget((function(){return Pb(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Lh(jh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Lh(jh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Fb(wp(n.path),a,{includeMetadataChanges:!0,Du:!0});return Nb(e,o)},i.next=3,dx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function mx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mh;return e.asyncQueue.enqueueAndForget(ln(yn().mark((function i(){return yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Jw({next:function(n){t.enqueueAndForget((function(){return Pb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Lh(jh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Fb(n,a,{includeMetadataChanges:!0,Du:!0});return Nb(e,o)},i.next=3,dx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var yx=new Map;function gx(e,t,n){if(!n)throw new Lh(jh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function kx(e,t,n,r){if(!0===t&&!0===r)throw new Lh(jh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function bx(e){if(!wd.isDocumentKey(e))throw new Lh(jh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function wx(e){if(wd.isDocumentKey(e))throw new Lh(jh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function xx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Rh()}function Ix(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lh(jh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xx(e);throw new Lh(jh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ex(e,t){if(t<=0)throw new Lh(jh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Sx=function(){function e(t){var n;if(fn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Lh(jh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lh(jh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,kx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return dn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),_x=function(){function e(t,n,r){fn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sx({}),this._settingsFrozen=!1,t instanceof yd?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lh(jh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(e.options.projectId)}(t))}return dn(e,[{key:"app",get:function(){if(!this._app)throw new Lh(jh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Lh(jh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Uh;switch(e.type){case"gapi":var t=e.client;return Ph(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new qh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Lh(jh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=yx.get(e);t&&(Ch("ComponentProvider","Removing Datastore"),yx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Tx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ix(e,_x))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Oh("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Eh.MOCK_USER;else{o=_n(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Lh(jh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Eh(s)}e._authCredentials=new Vh(new Fh(o,u))}}var Cx=function(){function e(t,n,r){fn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return dn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ox(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ax=function(){function e(t,n,r){fn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return dn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ox=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,e,r,wp(i)))._path=i,a.type="collection",a}return dn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Cx(this.firestore,null,new wd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ax);function Nx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Kn(e),gx("collection","path",t),e instanceof _x){var a=id.fromString.apply(id,[t].concat(r));return wx(a),new Ox(e,null,a)}if(!(e instanceof Cx||e instanceof Ox))throw new Lh(jh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(id.fromString.apply(id,[t].concat(r)));return wx(o),new Ox(e.firestore,null,o)}function Rx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Kn(e),1===arguments.length&&(t=Qh.R()),gx("doc","path",t),e instanceof _x){var a=id.fromString.apply(id,[t].concat(r));return bx(a),new Cx(e,null,new wd(a))}if(!(e instanceof Cx||e instanceof Ox))throw new Lh(jh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(id.fromString.apply(id,[t].concat(r)));return bx(o),new Cx(e.firestore,e instanceof Ox?e.converter:null,new wd(o))}function Px(e,t){return e=Kn(e),t=Kn(t),(e instanceof Cx||e instanceof Ox)&&(t instanceof Cx||t instanceof Ox)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Dx(e,t){return e=Kn(e),t=Kn(t),e instanceof Ax&&t instanceof Ax&&e.firestore===t.firestore&&Op(e._query,t._query)&&e.converter===t.converter}var jx=function(){function e(){var t=this;fn(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Ok(this,"async_queue_retry"),this.Ua=function(){var e=Ck();e&&Ch("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Ck();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return dn(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=Ck();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new Mh;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=ln(yn().mark((function e(){var t=this;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ry(e.t0)){e.next=12;break}throw e.t0;case 12:Ch("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ah("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=Eb.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Rh()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=ln(yn().mark((function e(){var t;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=sn(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=sn(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function Lx(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=sn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Mx=function(){function e(){fn(this,e),this._progressObserver={},this._taskCompletionResolver=new Mh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return dn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Fx=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new jx,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return dn(n,[{key:"_terminate",value:function(){return this._firestoreClient||Vx(this),this._firestoreClient.terminate()}}]),n}(_x);function Ux(e){return e._firestoreClient||Vx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new md(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ex(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Bx(e,t,n){var r=new Mh;return e.asyncQueue.enqueue(ln(yn().mark((function i(){return yn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tx(e,n);case 3:return i.next=5,rx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===jh.FAILED_PRECONDITION||e.code===jh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function zx(e){return function(e){return e.asyncQueue.enqueue(ln(yn().mark((function t(){var n,r;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cx(e);case 2:return n=t.sent,t.next=5,fx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Dh(e);return t.lu.delete(0),Mk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ux(e=Ix(e,Fx)))}function qx(e){return function(e){return e.asyncQueue.enqueue(ln(yn().mark((function t(){var n,r;return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cx(e);case 2:return n=t.sent,t.next=5,fx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dh(t)).lu.add(0),e.next=4,Uk(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ux(e=Ix(e,Fx)))}function Wx(e,t){var n=Ux(e=Ix(e,Fx)),r=new Mx;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Xw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Yw(e,t);if(e instanceof ArrayBuffer)return Yw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ak(t));e.asyncQueue.enqueueAndForget(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ww,t.next=3,hx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Gx(e,t){return function(e,t){return e.asyncQueue.enqueue(ln(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Dh(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,lx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Ux(e=Ix(e,Fx)),t).then((function(t){return t?new Ax(e,null,t.query):null}))}function Hx(e){if(e._initialized||e._terminated)throw new Lh(jh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kx=function(){function e(){fn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Lh(jh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new od(n)}return dn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Qx=function(){function e(t){fn(this,e),this._byteString=t}return dn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sd.fromBase64String(t))}catch(t){throw new Lh(jh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sd.fromUint8Array(t))}}]),e}(),Yx=dn((function e(t){fn(this,e),this._methodName=t})),Jx=function(){function e(t,n){if(fn(this,e),!isFinite(t)||t<-90||t>90)throw new Lh(jh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Lh(jh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return dn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Yh(this._lat,e._lat)||Yh(this._long,e._long)}}]),e}(),Xx=/^__.*__$/,Zx=function(){function e(t,n,r){fn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return dn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new cv(e,this.data,this.fieldMask,t,this.fieldTransforms):new sv(e,this.data,t,this.fieldTransforms)}}]),e}(),$x=function(){function e(t,n,r){fn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return dn(e,[{key:"toMutation",value:function(e,t){return new cv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function eI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rh()}}var tI=function(){function e(t,n,r,i,a,o){fn(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return dn(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return wI(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(eI(this.Ya)&&Xx.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),nI=function(){function e(t,n,r){fn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Ak(t)}return dn(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tI({Ya:e,methodName:t,oc:n,path:od.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function rI(e){var t=e._freezeSettings(),n=Ak(e._databaseId);return new nI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);yI("Data must be an object, but it was:",o,r);var u,s,c=vI(r,o);if(a.merge)u=new ud(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=sn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=gI(t,d,n);if(!o.contains(p))throw new Lh(jh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));xI(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ud(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Zx(new Bd(c),u,s)}var aI=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Yx);function oI(e,t,n){return new tI({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var uI=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"_toFieldTransform",value:function(e){return new Zp(e.path,new Wp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Yx),sI=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e)).ac=r,i}return dn(n,[{key:"_toFieldTransform",value:function(e){var t=oI(this,e,!0),n=this.ac.map((function(e){return pI(e,t)})),r=new Gp(n);return new Zp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Yx),cI=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e)).ac=r,i}return dn(n,[{key:"_toFieldTransform",value:function(e){var t=oI(this,e,!0),n=this.ac.map((function(e){return pI(e,t)})),r=new Kp(n);return new Zp(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Yx),lI=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e)).cc=r,i}return dn(n,[{key:"_toFieldTransform",value:function(e){var t=new Yp(e.M,Up(e.M,this.cc));return new Zp(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Yx);function fI(e,t,n,r){var i=e.uc(1,t,n);yI("Data must be an object, but it was:",i,r);var a=[],o=Bd.empty();td(r,(function(e,r){var u=bI(t,e,n);r=Kn(r);var s=i.nc(u);if(r instanceof aI)a.push(u);else{var c=pI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ud(a);return new $x(o,u,i.fieldTransforms)}function hI(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[gI(t,r,n)],s=[i];if(a.length%2!=0)throw new Lh(jh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(gI(t,a[c])),s.push(a[c+1]);for(var l=[],f=Bd.empty(),h=u.length-1;h>=0;--h)if(!xI(l,u[h])){var d=u[h],p=s[h];p=Kn(p);var v=o.nc(d);if(p instanceof aI)l.push(d);else{var m=pI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ud(l);return new $x(f,y,o.fieldTransforms)}function dI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pI(n,e.uc(r?4:3,t))}function pI(e,t){if(mI(e=Kn(e)))return yI("Unsupported field value:",t,e),vI(e,t);if(e instanceof Yx)return function(e,t){if(!eI(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=sn(e);try{for(a.s();!(n=a.n()).done;){var o=pI(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Kn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Up(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zh.fromDate(e);return{timestampValue:Yv(t.M,n)}}if(e instanceof Zh){var r=new Zh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yv(t.M,r)}}if(e instanceof Jx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Qx)return{bytesValue:Jv(t.M,e._byteString)};if(e instanceof Cx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$v(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(xx(e)))}(e,t)}function vI(e,t){var n={};return nd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):td(e,(function(e,r){var i=pI(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function mI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zh||e instanceof Jx||e instanceof Qx||e instanceof Cx||e instanceof Yx)}function yI(e,t,n){if(!mI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=xx(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function gI(e,t,n){if((t=Kn(t))instanceof Kx)return t._internalPath;if("string"==typeof t)return bI(e,t);throw wI("Field path arguments must be of type string or ",e,!1,void 0,n)}var kI=new RegExp("[~\\*/\\[\\]]");function bI(e,t,n){if(t.search(kI)>=0)throw wI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return gn(Kx,pn(t.split(".")))._internalPath}catch(r){throw wI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Lh(jh.INVALID_ARGUMENT,u+e+s)}function xI(e,t){return e.some((function(e){return e.isEqual(t)}))}var II=function(){function e(t,n,r,i,a){fn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return dn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Cx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new EI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),EI=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"data",value:function(){return $t(Xt(n.prototype),"data",this).call(this)}}]),n}(II);function SI(e,t){return"string"==typeof t?bI(e,t):t instanceof Kx?t._internalPath:t._delegate._internalPath}var _I=function(){function e(t,n){fn(this,e),this.hasPendingWrites=t,this.fromCache=n}return dn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),TI=function(e){nn(n,e);var t=un(n);function n(e,r,i,a,o,u){var s;return fn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return dn(n,[{key:"exists",value:function(){return $t(Xt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new CI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(SI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(II),CI=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $t(Xt(n.prototype),"data",this).call(this,e)}}]),n}(TI),AI=function(){function e(t,n,r,i){fn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _I(i.hasPendingWrites,i.fromCache),this.query=r}return dn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new CI(n._firestore,n._userDataWriter,r.key,r,new _I(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lh(jh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new CI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _I(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new CI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _I(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:OI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function OI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rh()}}function NI(e,t){return e instanceof TI&&t instanceof TI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof AI&&t instanceof AI&&e._firestore===t._firestore&&Dx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function RI(e){if(Ip(e)&&0===e.explicitOrderBy.length)throw new Lh(jh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var PI=dn((function e(){fn(this,e)}));function DI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var jI=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return dn(n,[{key:"_apply",value:function(e){var t=rI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Lh(jh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){HI(o,a);var s,c=[],l=sn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(GI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=GI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HI(o,a),u=dI(n,"where",o,"in"===a||"not-in"===a);var h=ap.create(i,a,u);return function(e,t){if(t.S()){var n=Sp(e);if(null!==n&&!n.isEqual(t.field))throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ep(e);null!==r&&KI(e,t.field,r)}var i=function(e,t){var n,r=sn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Lh(jh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lh(jh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Ax(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new kp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(PI);var LI=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return dn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vp(t,n);return function(e,t){if(null===Ep(e)){var n=Sp(e);null!==n&&KI(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new Ax(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new kp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(PI);var MI=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return dn(n,[{key:"_apply",value:function(e){return new Ax(e.firestore,e.converter,Ap(e._query,this._c,this.wc))}}]),n}(PI);var FI=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return dn(n,[{key:"_apply",value:function(e){var t=WI(e,this.type,this.mc,this.gc);return new Ax(e.firestore,e.converter,function(e,t){return new kp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(PI);function UI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FI("startAt",t,!0)}function VI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FI("startAfter",t,!1)}var BI=function(e){nn(n,e);var t=un(n);function n(e,r,i){var a;return fn(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return dn(n,[{key:"_apply",value:function(e){var t=WI(e,this.type,this.mc,this.gc);return new Ax(e.firestore,e.converter,function(e,t){return new kp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(PI);function zI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BI("endBefore",t,!1)}function qI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BI("endAt",t,!0)}function WI(e,t,n,r){if(n[0]=Kn(n[0]),n[0]instanceof II)return function(e,t,n,r,i){if(!r)throw new Lh(jh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=sn(Tp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Nd(t,r.key));else{var c=r.data.field(s.field);if(dd(c))throw new Lh(jh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new pp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=rI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Lh(jh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!_p(e)&&-1!==c.indexOf("/"))throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(id.fromString(c));if(!wd.isDocumentKey(l))throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new wd(l);u.push(Nd(t,f))}else{var h=dI(n,r,c);u.push(h)}}return new pp(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function GI(e,t,n){if("string"==typeof(n=Kn(n))){if(""===n)throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_p(t)&&-1!==n.indexOf("/"))throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(id.fromString(n));if(!wd.isDocumentKey(r))throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Nd(e,new wd(r))}if(n instanceof Cx)return Nd(e,n._key);throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(xx(n),"."))}function HI(e,t){if(!Array.isArray(e)||0===e.length)throw new Lh(jh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Lh(jh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function KI(e,t,n){if(!n.isEqual(t))throw new Lh(jh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var QI=function(){function e(){fn(this,e)}return dn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rh()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return td(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Jx(fd(e.latitude),fd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=pd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ld(e);return new Zh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=id.fromString(e);Ph(Im(n));var r=new yd(n.get(1),n.get(3)),i=new wd(n.popFirst(5));return r.isEqual(t)||Ah("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function YI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var JI=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this)).firestore=e,r}return dn(n,[{key:"convertBytes",value:function(e){return new Qx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cx(this.firestore,null,t)}}]),n}(QI),XI=function(){function e(t,n){fn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rI(t)}return dn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ZI(e,this._firestore),i=YI(r.converter,t,n),a=iI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ev.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ZI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Kn(t))||t instanceof Kx?hI(this._dataReader,"WriteBatch.update",i._key,t,n,o):fI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ev.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ZI(e,this._firestore);return this._mutations=this._mutations.concat(new vv(t._key,ev.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Lh(jh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ZI(e,t){if((e=Kn(e)).firestore!==t)throw new Lh(jh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $I=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this)).firestore=e,r}return dn(n,[{key:"convertBytes",value:function(e){return new Qx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cx(this.firestore,null,t)}}]),n}(QI);function eE(e){e=Ix(e,Cx);var t=Ix(e.firestore,Fx),n=Ux(t),r=new $I(t);return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(ln(yn().mark((function r(){return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ln(yn().mark((function e(t,n,r){var i,a;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Dh(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Lh(jh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Sb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,lx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new TI(t,r,e._key,n,new _I(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function tE(e){e=Ix(e,Ax);var t=Ix(e.firestore,Fx),n=Ux(t),r=new $I(t);return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(ln(yn().mark((function r(){return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ln(yn().mark((function e(t,n,r){var i,a,o,u,s;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kg(t,n,!0);case 3:i=e.sent,a=new Gb(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Sb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,lx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new AI(t,r,e,n)}))}function nE(e,t,n){e=Ix(e,Cx);var r=Ix(e.firestore,Fx),i=YI(e.converter,t,n);return oE(r,[iI(rI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ev.none())])}function rE(e,t,n){e=Ix(e,Cx);for(var r=Ix(e.firestore,Fx),i=rI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return oE(r,[("string"==typeof(t=Kn(t))||t instanceof Kx?hI(i,"updateDoc",e._key,t,n,o):fI(i,"updateDoc",e._key,t)).toMutation(e._key,ev.exists(!0))])}function iE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Kn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Lx(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Lx(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Cx)l=Ix(e.firestore,Fx),f=wp(e._key.path),c={next:function(t){n[s]&&n[s](uE(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Ix(e,Ax);l=Ix(p.firestore,Fx),f=p._query;var v=new $I(l);c={next:function(e){n[s]&&n[s](new AI(l,v,p,e))},error:n[s+1],complete:n[s+2]},RI(e._query)}return function(e,t,n,r){var i=new Jw(r),a=new Fb(t,i,n);return e.asyncQueue.enqueueAndForget(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Nb,t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Pb,t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ux(l),f,h,c)}function aE(e,t){return function(e,t){var n=new Jw(t);return e.asyncQueue.enqueueAndForget(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Dh(e).Tu.add(t),t.next()},t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(ln(yn().mark((function t(){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Dh(e).Tu.delete(t)},t.next=3,dx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ux(e=Ix(e,Fx)),Lx(t)?t:{next:t})}function oE(e,t){return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(ln(yn().mark((function r(){return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=tw,r.next=3,hx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ux(e),t)}function uE(e,t,n){var r=n.docs.get(t._key),i=new $I(e);return new TI(e,i,t._key,r,new _I(n.hasPendingWrites,n.fromCache),t.converter)}var sE=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,r))._firestore=e,i}return dn(n,[{key:"get",value:function(e){var t=this,r=ZI(e,this._firestore),i=new $I(this._firestore);return $t(Xt(n.prototype),"get",this).call(this,e).then((function(e){return new TI(t._firestore,i,r._key,e._document,new _I(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){fn(this,e),this._firestore=t,this._transaction=n,this._dataReader=rI(t)}return dn(e,[{key:"get",value:function(e){var t=this,n=ZI(e,this._firestore),r=new JI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Rh();var i=e[0];if(i.isFoundDocument())return new II(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new II(t._firestore,r,n._key,null,n.converter);throw Rh()}))}},{key:"set",value:function(e,t,n){var r=ZI(e,this._firestore),i=YI(r.converter,t,n),a=iI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ZI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Kn(t))||t instanceof Kx?hI(this._dataReader,"Transaction.update",i._key,t,n,o):fI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ZI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function cE(e,t){return function(e,t){var n=new Mh;return e.asyncQueue.enqueueAndForget(ln(yn().mark((function r(){var i;return yn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return ux(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new $w(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Ux(e=Ix(e,Fx)),(function(n){return t(new sE(e,n))}))}function lE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sI("arrayUnion",t)}function fE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sh=e}(Or),Ir(new $n("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Fx(i,new Bh(e.getProvider("auth-internal")),new Gh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Lr(Ih,"3.4.7",e),Lr(Ih,"3.4.7","esm2017")}();function hE(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Lh("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function dE(){if("undefined"===typeof Uint8Array)throw new Lh("unimplemented","Uint8Arrays are not available in this environment.")}function pE(){if("undefined"==typeof atob)throw new Lh("unimplemented","Blobs are unavailable in Firestore in this environment.")}var vE=function(){function e(t){fn(this,e),this._delegate=t}return dn(e,[{key:"toBase64",value:function(){return pE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return dE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return pE(),new e(Qx.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return dE(),new e(Qx.fromUint8Array(t))}}]),e}();function mE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=sn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var yE=function(){function e(){fn(this,e)}return dn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Hx(e=Ix(e,Fx));var n=Ux(e),r=e._freezeSettings(),i=new Qw;return Bx(n,i,new Hw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Hx(e=Ix(e,Fx));var t=Ux(e),n=e._freezeSettings(),r=new Qw;return Bx(t,r,new Kw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Lh(jh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Mh;return e._queue.enqueueAndForgetEvenWhileRestricted(ln(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ln(yn().mark((function e(t){var n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ey.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ey.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ng(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),gE=function(){function e(t,n,r){var i=this;fn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof yd||(this._appCompat=t)}return dn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Oh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Tx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return zx(this._delegate)}},{key:"disableNetwork",value:function(){return qx(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&kx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Mh;return e.asyncQueue.enqueueAndForget(ln(yn().mark((function n(){return yn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=hw,n.next=3,hx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Ux(e=Ix(e,Fx)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return aE(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Lh("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new RE(this,Nx(this._delegate,e))}catch(t){throw EE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new IE(this,Rx(this._delegate,e))}catch(t){throw EE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new AE(this,function(e,t){if(e=Ix(e,_x),gx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Lh(jh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ax(e,null,function(e){return new kp(id.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw EE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return cE(this._delegate,(function(n){return e(new bE(t,n))}))}},{key:"batch",value:function(){var e=this;return Ux(this._delegate),new wE(new XI(this._delegate,(function(t){return oE(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Wx(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Gx(this._delegate,e).then((function(e){return e?new AE(t,e):null}))}}]),e}(),kE=function(e){nn(n,e);var t=un(n);function n(e){var r;return fn(this,n),(r=t.call(this)).firestore=e,r}return dn(n,[{key:"convertBytes",value:function(e){return new vE(new Qx(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return IE.forKey(t,this.firestore,null)}}]),n}(QI);var bE=function(){function e(t,n){fn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new kE(t)}return dn(e,[{key:"get",value:function(e){var t=this,n=PE(e);return this._delegate.get(n).then((function(e){return new TE(t._firestore,new TI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=PE(e);return n?(hE("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=PE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PE(e);return this._delegate.delete(t),this}}]),e}(),wE=function(){function e(t){fn(this,e),this._delegate=t}return dn(e,[{key:"set",value:function(e,t,n){var r=PE(e);return n?(hE("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=PE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),xE=function(){function e(t,n,r){fn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return dn(e,[{key:"fromFirestore",value:function(e,t){var n=new CI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new kE(t),n),i.set(n,a)),a}}]),e}();xE.INSTANCES=new WeakMap;var IE=function(){function e(t,n){fn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new kE(t)}return dn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new RE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new RE(this.firestore,Nx(this._delegate,e))}catch(t){throw EE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Kn(e))instanceof Cx&&Px(this._delegate,e)}},{key:"set",value:function(e,t){t=hE("DocumentReference.set",t);try{return t?nE(this._delegate,e,t):nE(this._delegate,e)}catch(n){throw EE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?rE(this._delegate,e):rE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw EE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return oE(Ix(e.firestore,Fx),[new vv(e._key,ev.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=SE(n),a=_E(n,(function(t){return new TE(e.firestore,new TI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return iE(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?eE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ix(e,Cx);var t=Ix(e.firestore,Fx);return vx(Ux(t),e._key,{source:"server"}).then((function(n){return uE(t,e,n)}))}(this._delegate):function(e){e=Ix(e,Cx);var t=Ix(e.firestore,Fx);return vx(Ux(t),e._key).then((function(n){return uE(t,e,n)}))}(this._delegate),t.then((function(e){return new TE(n.firestore,new TI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Lh("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Cx(n._delegate,r,new wd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Cx(n._delegate,r,t))}}]),e}();function EE(e,t,n){return e.message=e.message.replace(t,n),e}function SE(e){var t,n=sn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!mE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function _E(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=mE(e[0])?e[0]:mE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var TE=function(){function e(t,n){fn(this,e),this._firestore=t,this._delegate=n}return dn(e,[{key:"ref",get:function(){return new IE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return NI(this._delegate,e._delegate)}}]),e}(),CE=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Rh()}(void 0!==t),t}}]),n}(TE),AE=function(){function e(t,n){fn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new kE(t)}return dn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,DI(this._delegate,function(e,t,n){var r=t,i=SI("where",e);return new jI(i,r,n)}(t,n,r)))}catch(i){throw EE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,DI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=SI("orderBy",e);return new LI(n,t)}(t,n)))}catch(r){throw EE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,DI(this._delegate,function(e){return Ex("limit",e),new MI("limit",e,"F")}(t)))}catch(n){throw EE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,DI(this._delegate,function(e){return Ex("limitToLast",e),new MI("limitToLast",e,"L")}(t)))}catch(n){throw EE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,DI(this._delegate,UI.apply(void 0,arguments)))}catch(t){throw EE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,DI(this._delegate,VI.apply(void 0,arguments)))}catch(t){throw EE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,DI(this._delegate,zI.apply(void 0,arguments)))}catch(t){throw EE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,DI(this._delegate,qI.apply(void 0,arguments)))}catch(t){throw EE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Dx(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?tE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ix(e,Ax);var t=Ix(e.firestore,Fx),n=Ux(t),r=new $I(t);return mx(n,e._query,{source:"server"}).then((function(n){return new AI(t,r,e,n)}))}(this._delegate):function(e){e=Ix(e,Ax);var t=Ix(e.firestore,Fx),n=Ux(t),r=new $I(t);return RI(e._query),mx(n,e._query).then((function(n){return new AI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new NE(n.firestore,new AI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=SE(n),a=_E(n,(function(t){return new NE(e.firestore,new AI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return iE(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),OE=function(){function e(t,n){fn(this,e),this._firestore=t,this._delegate=n}return dn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new CE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),NE=function(){function e(t,n){fn(this,e),this._firestore=t,this._delegate=n}return dn(e,[{key:"query",get:function(){return new AE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new CE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new OE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new CE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return NI(this._delegate,e._delegate)}}]),e}(),RE=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return dn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new IE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new IE(this.firestore,void 0===e?Rx(this._delegate):Rx(this._delegate,e))}catch(t){throw EE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Ix(e.firestore,Fx),r=Rx(e),i=YI(e.converter,t);return oE(n,[iI(rI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ev.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new IE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Px(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(xE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(AE);function PE(e){return Ix(e,Cx)}var DE,jE=function(){function e(){fn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=gn(Kx,n)}return dn(e,[{key:"isEqual",value:function(e){return(e=Kn(e))instanceof Kx&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(od.keyField().canonicalString())}}]),e}(),LE=function(){function e(t){fn(this,e),this._delegate=t}return dn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new uI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new aI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=lE.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=fE.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new lI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ME={Firestore:gE,GeoPoint:Jx,Timestamp:Zh,Blob:vE,Transaction:bE,WriteBatch:wE,DocumentReference:IE,DocumentSnapshot:TE,Query:AE,QueryDocumentSnapshot:CE,QuerySnapshot:NE,CollectionReference:RE,FieldPath:jE,FieldValue:LE,setLogLevel:function(e){!function(e){_h.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new $n("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ME)))})(DE=ss,(function(e,t){return new gE(e,t,new yE)})),DE.registerVersion("@firebase/firestore-compat","0.1.16");var FE="firebasestorage.googleapis.com",UE=function(e){nn(n,e);var t=un(n);function n(e,r){var i;return fn(this,n),(i=t.call(this,VE(e),"Firebase Storage: ".concat(r," (").concat(VE(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(en(i),n.prototype),i}return dn(n,[{key:"_codeEquals",value:function(e){return VE(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Dn);function VE(e){return"storage/"+e}function BE(){return new UE("unknown","An unknown error occurred, please check the error payload for server response.")}function zE(){return new UE("canceled","User canceled the upload/download.")}function qE(){return new UE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function WE(e){return new UE("invalid-argument",e)}function GE(){return new UE("app-deleted","The Firebase app was deleted.")}function HE(e,t){return new UE("invalid-format","String does not match format '"+e+"': "+t)}function KE(e){throw new UE("internal-error","Internal error: "+e)}var QE,YE=function(){function e(t,n){fn(this,e),this.bucket=t,this.path_=n}return dn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new UE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===FE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new UE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),JE=function(){function e(t){fn(this,e),this.promise_=Promise.reject(t)}return dn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function XE(e){return"string"===typeof e||e instanceof String}function ZE(e){return $E()&&e instanceof Blob}function $E(){return"undefined"!==typeof Blob}function eS(e,t,n,r){if(r<t)throw WE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw WE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function tS(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function nS(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(QE||(QE={}));var rS=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;fn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return dn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=BE();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?GE():zE());else i(new UE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new iS(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new iS(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===QE.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new iS(o,r))}else{var u=r.getErrorCode()===QE.ABORT;t(!1,new iS(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),iS=dn((function e(t,n,r){fn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function aS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function oS(){for(var e=aS(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if($E())return new Blob(n);throw new UE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var uS="raw",sS="base64",cS="base64url",lS="data_url",fS=dn((function e(t,n){fn(this,e),this.data=t,this.contentType=n||null}));function hS(e,t){switch(e){case uS:return new fS(dS(t));case sS:case cS:return new fS(pS(e,t));case lS:return new fS(function(e){var t=new vS(e);return t.base64?pS(sS,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw HE(lS,"Malformed data URL.")}return dS(t)}(t.rest)}(t),new vS(t).contentType)}throw BE()}function dS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function pS(e,t){switch(e){case sS:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw HE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case cS:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw HE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw HE(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var vS=dn((function e(t){fn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw HE(lS,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var mS=function(){function e(t,n){fn(this,e);var r=0,i="";ZE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return dn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(ZE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if($E()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(oS.apply(null,i))}var a=n.map((function(e){return XE(e)?hS(uS,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function yS(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function gS(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function kS(e,t){return t}var bS=dn((function e(t,n,r,i){fn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||kS})),wS=null;function xS(){if(wS)return wS;var e=[];e.push(new bS("bucket")),e.push(new bS("generation")),e.push(new bS("metageneration")),e.push(new bS("name","fullPath",!0));var t=new bS("name");t.xform=function(e,t){return function(e){return!XE(e)||e.length<2?e:gS(e)}(t)},e.push(t);var n=new bS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new bS("timeCreated")),e.push(new bS("updated")),e.push(new bS("md5Hash",null,!0)),e.push(new bS("cacheControl",null,!0)),e.push(new bS("contentDisposition",null,!0)),e.push(new bS("contentEncoding",null,!0)),e.push(new bS("contentLanguage",null,!0)),e.push(new bS("contentType",null,!0)),e.push(new bS("metadata","customMetadata",!0)),wS=e}function IS(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new YE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ES(e,t,n){var r=yS(t);return null===r?null:IS(e,r,n)}function SS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var _S=dn((function e(t,n,r,i){fn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function TS(e){if(!e)throw BE()}function CS(e,t){return function(n,r){var i=ES(e,r,t);return TS(null!==i),i}}function AS(e,t){return function(n,r){var i=ES(e,r,t);return TS(null!==i),function(e,t,n,r){var i=yS(t);if(null===i)return null;if(!XE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return tS("/b/"+o(i)+"/o/"+o(a),n,r)+nS({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function OS(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new UE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new UE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new UE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new UE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function NS(e){var t=OS(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new UE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function RS(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function PS(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=RS(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+SS(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=mS.getBlob(c,r,l);if(null===f)throw qE();var h={name:s.fullPath},d=tS(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new _S(d,"POST",CS(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=OS(t),v}var DS=function(){function e(){var t=this;fn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=QE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=QE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=QE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return dn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw KE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw KE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw KE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw KE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw KE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),jS=function(e){nn(n,e);var t=un(n);function n(){return fn(this,n),t.apply(this,arguments)}return dn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(DS);function LS(){return new jS}var MS=function(){function e(t,n){fn(this,e),this._service=t,this._location=n instanceof YE?n:YE.makeFromUrl(n,t.host)}return dn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new YE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return gS(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new YE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new UE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function FS(e,t,n){e._throwIfRoot("uploadBytes");var r=PS(e.storage,e._location,xS(),new mS(t,!0),n);return e.storage.makeRequestWithTokens(r,LS).then((function(t){return{metadata:t,ref:e}}))}function US(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=tS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new _S(r,"GET",AS(e,n),i);return a.errorHandler=NS(t),a}(e.storage,e._location,xS());return e.storage.makeRequestWithTokens(t,LS).then((function(e){if(null===e)throw new UE("no-download-url","The given file does not have any download URLs.");return e}))}function VS(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new YE(e._location.bucket,n);return new MS(e.storage,r)}function BS(e,t){if(e instanceof WS){var n=e;if(null==n._bucket)throw new UE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new MS(n,n._bucket);return null!=t?BS(r,t):r}return void 0!==t?VS(e,t):e}function zS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof WS)return new MS(e,t);throw WE("To use ref(service, url), the first argument must be a Storage instance.")}return BS(e,t)}function qS(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:YE.makeFromBucketSpec(n,e)}var WS=function(){function e(t,n,r,i,a){fn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=FE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?YE.makeFromBucketSpec(i,this._host):qS(this._host,this.app.options)}return dn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=YE.makeFromBucketSpec(this._url,e):this._bucket=qS(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){eS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ln(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ln(yn().mark((function e(){var t,n;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new MS(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new JE(GE());var a=function(e,t,n,r,i,a){var o=nS(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new rS(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ln(yn().mark((function e(t,n){var r,i,a,u;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=o(r,2),a=i[0],u=i[1],e.abrupt("return",this._makeRequest(t,n,a,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),GS="@firebase/storage",HS="0.9.4",KS="storage";function QS(e,t,n){return FS(e=Kn(e),t,n)}function YS(e){return US(e=Kn(e))}function JS(e,t){return zS(e=Kn(e),t)}function XS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr(),t=arguments.length>1?arguments[1]:void 0,n=Er(e=Kn(e),KS),r=n.getImmediate({identifier:t});return r}function ZS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new WS(r,i,a,n,Or)}Ir(new $n(KS,ZS,"PUBLIC").setMultipleInstances(!0)),Lr(GS,HS,""),Lr(GS,HS,"esm2017");var $S={apiKey:"AIzaSyADD8AComKh-hQKuQquvY8OjGYo2KDxB6g",authDomain:"instagram-clon-82660.firebaseapp.com",projectId:"instagram-clon-82660",storageBucket:"instagram-clon-82660.appspot.com",messagingSenderId:"545889891313",appId:"1:545889891313:web:8c1fdb2a1747fbb39a8a50",measurementId:"G-B9066DPF6K"};function e_(e,t,n){return t_.apply(this,arguments)}function t_(){return(t_=ln(yn().mark((function e(t,n,r){var i,a,o;return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=XS(),a=JS(i,n.uid+".png"),r(!0),e.next=5,QS(a,t);case 5:return e.sent,e.next=8,YS(a);case 8:o=e.sent,console.log(o),mo(n,{photoURL:o}),r(!1),alert("Uploaded file!");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n_,r_,i_,a_,o_,u_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr(),t=Er(e,"auth");return t.isInitialized()?t.getImmediate():vi(e,{popupRedirectResolver:Qu,persistence:[Ko,xo,Eo]})}(Nr($S)),s_=ss.initializeApp($S).firestore(),c_=n(184),l_=(0,t.createContext)(),f_=function(){var e=(0,t.useContext)(l_);if(!e)throw new Error("There is no auth provider");return e},h_=function(e){var n=e.children,r=o((0,t.useState)(null),2),i=r[0],a=r[1],u=o((0,t.useState)(!0),2),s=u[0],c=u[1];return(0,t.useEffect)((function(){var e=function(e,t,n,r){return Kn(e).onAuthStateChanged(t,n,r)}(u_,(function(e){a(e),c(!1)}));return function(){return e()}}),[]),(0,c_.jsx)(l_.Provider,{value:{Signup:function(e,t,n){return function(e,t,n){return ho.apply(this,arguments)}(u_,e,t)},Login:function(e,t){return function(e,t,n){return lo(Kn(e),Wa.credential(t,n))}(u_,e,t)},user:i,Logout:function(){return function(e){return Kn(e).signOut()}(u_)},loading:s},children:n})},d_=Je.div(n_||(n_=u(["\n    img{\n        border-radius: 50%;\n        height: ",";\n        width: ",";\n    }\n\n    \n"])),(function(e){return"big"===e.iconSize?"56px":"small"===e.iconSize?"24px":"veryBig"===e.iconSize?"150px":""}),(function(e){return"big"===e.iconSize?"56px":"small"===e.iconSize?"24px":"veryBig"===e.iconSize?"150px":""})),p_=function(e){var n=e.iconSize,r=(e.selectedImage,f_().user),i=o((0,t.useState)("https://developers.google.com/web/images/contributors/no-photo.jpg?hl=es"),2),a=i[0],u=i[1];return(0,t.useEffect)((function(){null!==r&&void 0!==r&&r.photoURL&&u(r.photoURL)}),[r]),(0,c_.jsx)(d_,{iconSize:n,children:(0,c_.jsx)("img",{src:a,alt:"profile"})})},v_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m_=t.createContext&&t.createContext(v_),y_=function(){return y_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},y_.apply(this,arguments)},g_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function k_(e){return e&&e.map((function(e,n){return t.createElement(e.tag,y_({key:n},e.attr),k_(e.child))}))}function b_(e){return function(n){return t.createElement(w_,y_({attr:y_({},e.attr)},n),k_(e.child))}}function w_(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=g_(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",y_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:y_(y_({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==m_?t.createElement(m_.Consumer,null,(function(e){return n(e)})):n(v_)}function x_(e){return b_({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}}]})(e)}function I_(e){return b_({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"}}]})(e)}var E_=Je.div(r_||(r_=u(["\n        width: 375px;\n        height: 362px;\n        background-color: var(--white);\n        z-index: 58;\n        position:absolute;\n        left: 0;\n        right: 0;\n        margin: auto;\n        top: 61px;\n        border-radius: 6px;\n        padding-top: 12px;\n        box-shadow: 0 0 5px 1px rgb(215 215 215 / 98%);\n        position: fixed\n"]))),S_=Je.div(i_||(i_=u(["\n    width: 100%;\n    padding: 0 16px\n"]))),__=Je.div(a_||(a_=u(["\n    display: flex;\n    justify-content: space-between;\n\n    h4{\n        color: var(--colorLetter1);\n        font-size: 1rem;\n        line-height: 24px;\n        font-weight: var(--fontWeight1);\n\n    }\n\n    div{\n        font-weight: var(--fontWeight1);\n        font-size: 0.87rem;\n        color: var(--blue1);\n\n    }\n\n"]))),T_=Je.div(o_||(o_=u(["\n    display: grid;\n    grid-template-columns: 59px 263px 20px;\n    align-items: center;\n    margin: 11px 0;\n\n    img{\n        height: 46px;\n        width: 46px;\n        border-radius: 50%;\n        object-fit: cover\n    }\n\n    div{\n        &:nth-child(1) {\n            color: var(--text3);\n            font-size: 0.87rem;\n            line-height: 18px;\n            font-weight: var(--fontWeight1)\n        }\n        &:nth-child(2){\n            font-size: 0.87rem;\n            line-height: 18px;\n            font-weight: 400;\n            color: var(--text2)\n        }\n    }\n"]))),C_=[{id:1,name:"Gianni Versace",username:"gianni-v",profileImg:"http://t3.gstatic.com/licensed-image?q=tbn:ANd9GcSGua1ndNkgxMy3sl_QpFsOJkOMuGOUOofNFxRF2BaJfVixwKhqag8YnE_4buZw",feedImg:"https://images.ecestaticos.com/oPOmnsd0e3CLPv7I656Cb9tPcYc=/0x0:2272x2741/746x900/filters:fill(white):format(jpg),f.elconfidencial.com%2Foriginal%2Ff7d%2Fff4%2F638%2Ff7dff4638aea5ed3002fa46750ec73c1.jpg",storyImg:"https://media.vogue.mx/photos/5ebbd2e4e45de519e6ce8e8b/3:4/w_2163,h_2884,c_limit/el-disen%CC%83ador-italiano-gianni-versace.jpg",storyBorder:!0},{id:2,name:"Elon Musk",username:"elon-musk",profileImg:"https://ichef.bbci.co.uk/news/640/cpsprodpb/B4EC/production/_116361364_tes1.png",feedImg:"https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/1200/public/media/image/2020/08/10-excentridades-elon-musk-han-dado-vuelta-mundo-2029559.jpg?,tok=dGxKZq37",storyImg:"https://upload.wikimedia.org/wikipedia/commons/8/85/Elon_Musk_Royal_Society_%28crop1%29.jpg",storyBorder:!0},{id:3,name:"Freddie Mercury",username:"freddie_m",profileImg:"https://www.biografiasyvidas.com/biografia/m/fotos/mercury.jpg",feedImg:"https://www.amica.it/wp-content/uploads/2019/11/Freddie-Mercury-3.jpg?,=884291",storyImg:"https://media.vogue.es/photos/5d70c77a3b03190008e0b345/2:3/w_3136,h_4704,c_limit/GettyImages-98631338.jpg",storyBorder:!0},{id:4,name:"Coco Chanel",username:"c.chanel",profileImg:"https://upload.wikimedia.org/wikipedia/commons/0/0a/Chanel_looking_out_in_the_distance.jpg",feedImg:"https://static.mujerhoy.com/www/multimedia/202107/07/media/cortadas/gabrielle-chanel-kVRC-U140956137705NUF-624x624@MujerHoy.jpg",storyImg:"https://static.elle.rs/Picture/98595/jpeg/coco_chanel_5_bezvremenih_saveta_za_savrsen_stil_627639344",storyBorder:!0},{id:5,name:"Diego Armando Maradona",username:"d.a.maradona",profileImg:"https://www.fcbarcelona.com/photo-resources/2019/12/16/0297bc9e-3c14-4bdc-b7e8-92fa813b69c3/2635_01_24.jpg?,idth=1200&height=750",feedImg:"https://www.diarioelnorte.com.ar/wp-content/uploads/2021/10/maradona-2.jpg",storyImg:"https://static01.nyt.com/images/2020/12/01/opinion/04rotulo-ES-1/01rotulo-01-superJumbo.jpg?quality=75&auto=webp",storyBorder:!1},{id:6,name:"Frida Kahlo",username:"frida_k",profileImg:"https://www.dondeir.com/wp-content/uploads/2020/07/frida-kahlo-en-linea.jpg",feedImg:"https://www.dondeir.com/wp-content/uploads/2021/07/donde-estan-las-obras-de-frida-kahlo-y-otros-datos-curiosos-autorretrato-con-mono.jpg",storyImg:"https://mymodernmet.com/wp/wp-content/uploads/2017/04/frida-kahlo-clothing-1.jpg",storyBorder:!1},{id:7,name:"Mark Zuckerberg",username:"mark.z",profileImg:"https://s03.s3c.es/imag/_v0/770x420/5/0/b/600x400_mark-facebook-770.jpg",feedImg:"https://www.tom.travel/wp-content/uploads/2018/05/Mark_zuckerberg_viva_tech3.jpg",storyImg:"https://cdn1-production-images-kly.akamaized.net/ptrsTsK5AVtXA4oJRubOb_oYcwc=/1200x1200/smart/filters:quality(75):strip_icc():format(jpeg)/kly-media-production/medias/2224112/original/046663600_1527047130-20180523-Mark-Zuckerberg-5.jpg",storyBorder:!1},{id:8,name:"Jeff Bezos",username:"j-bezos",profileImg:"https://www.abc.es/xlsemanal/wp-content/uploads/sites/5/2021/07/jeff-bezos-el-amo-del-mundo.jpg",feedImg:"https://www.eluniverso.com/resizer/PtYgTb-cSz2xWWWv3tClU_bd6e8=/1005x670/smart/filters:quality(70)/cloudfront-us-east-1.images.arcpublishing.com/eluniverso/YN7OH6KQMJCNJNMHYYFJKKRHZQ.jpg",storyImg:"https://media.revistagq.com/photos/5f50a72903497885f5f8294e/master/pass/GettyImages-1182443542.jpg",storyBorder:!1}];function A_(e){return b_({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}}]})(e)}function O_(e){return b_({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}}]})(e)}function N_(e){return b_({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}}]})(e)}function R_(e){return b_({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function P_(e){return b_({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}},{tag:"path",attr:{d:"M17.51 3.87L15.73 2.1 5.84 12l9.9 9.9 1.77-1.77L9.38 12l8.13-8.13z"}}]})(e)}var D_,j_=function(){return(0,c_.jsx)(E_,{children:(0,c_.jsxs)(S_,{children:[(0,c_.jsxs)(__,{children:[(0,c_.jsx)("h4",{children:"Recientes"}),(0,c_.jsx)("div",{children:"Borrar todo"})]}),(0,c_.jsx)("div",{children:C_.slice(0,5).map((function(e,t){return(0,c_.jsxs)(T_,{children:[(0,c_.jsx)("img",{src:e.profileImg,alt:"usernameImg"}),(0,c_.jsxs)("div",{children:[(0,c_.jsx)("div",{children:e.username}),(0,c_.jsx)("div",{children:e.name})]}),(0,c_.jsx)(R_,{"font-size":23,color:"var(--colorSecondary)"})]},e.id)}))})]})})};function L_(){return L_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(D_||(D_={}));var M_=function(e){return e};var F_="beforeunload",U_="popstate";function V_(e){e.preventDefault(),e.returnValue=""}function B_(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function z_(){return Math.random().toString(36).substr(2,8)}function q_(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function W_(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function G_(e,t){if(!e)throw new Error(t)}var H_=(0,t.createContext)(null);var K_=(0,t.createContext)(null);var Q_=(0,t.createContext)({outlet:null,matches:[]});function Y_(e){var n=e.to,r=e.replace,i=e.state;eT()||G_(!1);var a=nT();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function J_(e){G_(!1)}function X_(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?D_.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;eT()&&G_(!1);var h=vT(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=W_(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,I=p.key,E=void 0===I?"default":I,S=(0,t.useMemo)((function(){var e=dT(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:E}}),[h,m,g,b,x,E]);return null==S?null:(0,t.createElement)(H_.Provider,{value:d},(0,t.createElement)(K_.Provider,{children:a,value:{location:S,navigationType:s}}))}function Z_(e){var n=e.children,r=e.location;return function(e,n){eT()||G_(!1);var r=(0,t.useContext)(Q_).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=tT();if(n){var c,l="string"===typeof n?W_(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||G_(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=dT(("string"===typeof t?W_(t):t).pathname||"/",n);if(null==r)return null;var i=aT(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=cT(i[o],r);return a}(e,{pathname:h});0;return lT(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:pT([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:pT([o,e.pathnameBase])})})),r)}(iT(n),r)}function $_(e){eT()||G_(!1);var n=(0,t.useContext)(H_),r=n.basename,i=n.navigator,a=rT(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?W_(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):pT([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function eT(){return null!=(0,t.useContext)(K_)}function tT(){return eT()||G_(!1),(0,t.useContext)(K_).location}function nT(){eT()||G_(!1);var e=(0,t.useContext)(H_),n=e.basename,r=e.navigator,i=(0,t.useContext)(Q_).matches,a=tT().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=hT(e,JSON.parse(o),a);"/"!==n&&(i.pathname=pT([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function rT(e){var n=(0,t.useContext)(Q_).matches,r=tT().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return hT(e,JSON.parse(i),r)}),[e,i,r])}function iT(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==J_&&G_(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=iT(e.props.children)),n.push(r)}else n.push.apply(n,iT(e.props.children))})),n}function aT(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||G_(!1),a.relativePath=a.relativePath.slice(r.length));var o=pT([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&G_(!1),aT(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:sT(o,e.index),routesMeta:u})})),t}var oT=/^:\w+$/,uT=function(e){return"*"===e};function sT(e,t){var n=e.split("/"),r=n.length;return n.some(uT)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!uT(e)})).reduce((function(e,t){return e+(oT.test(t)?3:""===t?1:10)}),r)}function cT(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=fT({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:pT([i,l.pathname]),pathnameBase:vT(pT([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=pT([i,l.pathnameBase]))}return a}function lT(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(Q_.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function fT(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:c,pattern:e}}function hT(e,t,n){var r,i="string"===typeof e?W_(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?W_(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:mT(a),hash:yT(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function dT(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var pT=function(e){return e.join("/").replace(/\/\/+/g,"/")},vT=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},mT=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},yT=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function gT(){return gT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gT.apply(this,arguments)}function kT(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var bT=["onClick","reloadDocument","replace","state","target","to"];function wT(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,M_({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(U_,(function(){if(a)f.call(a),a=null;else{var e=D_.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=s-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else m(e)}}));var o=D_.Pop,u=i(),s=u[0],c=u[1],l=B_(),f=B_();function h(e){return"string"===typeof e?e:q_(e)}function d(e,t){return void 0===t&&(t=null),M_(L_({pathname:c.pathname,hash:"",search:""},"string"===typeof e?W_(e):e,{state:t,key:z_()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){o=e;var t=i();s=t[0],c=t[1],l.call({action:o,location:c})}function y(e){r.go(e)}null==s&&(s=0,r.replaceState(L_({},r.state,{idx:s}),""));var g={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=D_.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var u=p(o,s+1),c=u[0],l=u[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}m(a)}},replace:function e(t,n){var i=D_.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,s),u=o[0],c=o[1];r.replaceState(u,"",c),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(F_,V_),function(){t(),f.length||n.removeEventListener(F_,V_)}}};return g}({window:i}));var u=a.current,s=o((0,t.useState)({action:u.action,location:u.location}),2),c=s[0],l=s[1];return(0,t.useLayoutEffect)((function(){return u.listen(l)}),[u]),(0,t.createElement)(X_,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:u})}var xT=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=kT(e,bT),f=$_(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=nT(),s=tT(),c=rT(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||q_(s)===q_(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",gT({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));var IT,ET,ST,_T,TT,CT,AT,OT,NT=function(){var e=o((0,t.useState)(!1),2),n=e[0],r=e[1],i=tT().pathname;return(0,c_.jsxs)(Xe,{children:[(0,c_.jsxs)(Ze,{children:[(0,c_.jsx)(xT,{to:"/",children:(0,c_.jsx)($e,{children:(0,c_.jsx)("img",{src:ut,alt:"Logo"})})}),(0,c_.jsxs)(et,{children:[(0,c_.jsx)("div",{children:!0!==n?(0,c_.jsxs)(at,{children:[(0,c_.jsx)(x_,{fontSize:18,color:"var(--colorSecondary)"}),(0,c_.jsx)("span",{children:"Busca"})]}):(0,c_.jsx)(ot,{children:(0,c_.jsx)(I_,{color:"#CFCFCF","font-size":19,onClick:function(){return r(!1)}})})}),(0,c_.jsx)("input",{type:"text",onClick:function(){return r(!0)},placeholder:!0===n?"Busca":""})]}),(0,c_.jsxs)(tt,{children:["/"===i?(0,c_.jsx)(nt,{children:(0,c_.jsx)(dt,{})}):(0,c_.jsx)(xT,{to:"/",children:(0,c_.jsx)(nt,{children:(0,c_.jsx)(kt,{})})}),"/direct/inbox"===i?(0,c_.jsx)(rt,{children:(0,c_.jsx)(Pt,{})}):(0,c_.jsx)(rt,{children:(0,c_.jsx)(xT,{to:"/direct/inbox",children:(0,c_.jsx)(St,{})})}),(0,c_.jsx)("div",{children:(0,c_.jsx)(Ut,{})}),(0,c_.jsx)(it,{children:(0,c_.jsx)(Gt,{})}),(0,c_.jsx)("div",{children:(0,c_.jsx)(Jt,{})}),(0,c_.jsx)(xT,{to:"/profile",children:(0,c_.jsx)(p_,{iconSize:"small"})})]})]}),!0===n?(0,c_.jsx)(j_,{}):null]})},RT=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Ie.apply(void 0,[e].concat(r)),o="sc-global-"+Ce(JSON.stringify(a)),u=new Fe(a,o);function s(e){var n=fe(),r=he(),i=(0,t.useContext)(De),a=(0,t.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,e,n,i,r),(0,t.useLayoutEffect)((function(){if(!n.server)return c(a,e,n,i,r),function(){return u.removeStyles(a,n)}}),[a,e,n,i,r]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,A,n,i);else{var a=g({},t,{theme:Ee(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return t.memo(s)}(IT||(IT=u(["\n:root{\n    --backgroundInput: #efefef;\n    --border: rgba(219,219,219,1);\n    --white: #fff;\n    --black2: #333333;\n    --background-grey: #fafafa;\n    --colorLetter1: #262626;\n    --fontWeight1: 600;\n\n    --border: #dbdbdb;\n    --border2: rgba(219,219,219,1);\n    --borderHistory: #DEDEDE;\n    --iconSizeSmall: 24px;\n    --iconSizeBig: 61px;\n    --gradient-one: #da3394;\n    --gradient-two: #e03c67;\n    --gradient-three: #f3753b;\n    --input-border: #DBDBDB;\n    --gradient-four: #f99b4a;\n    --colorSecondary: #8e8e8e;\n\n    --text1: rgba(0,0,0,.8);\n    --text2: rgba(142,142,142,1);\n    --text3: rgba(38,38,38,1);\n    --text4: rgba(0,0,0,.5);\n    --text5: rgba(51,51,51,.6);\n\n    --green: #00a650;\n    --blue1: #0095f6;\n    --blue2: #0095f6;\n    --blue3: #3483fa;\n    --yellow: #fff159;\n\n    --border: #ddd;\n\n    --panel: 0 1px 3px 0 rgba(0,0,0,.3);\n\n    --reputacion1: #ffe7e6;\n    --reputacion2: #fff4e7;\n    --reputacion3: #fffde5;\n    --reputacion4: #f3fee0;\n    --reputacion5: #00a650;\n\n    --family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n\n}\n\n*{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nh1, h2, h3, h4, h5, h6 {\n    color: var(--text1);\n    font-weight: inherit;\n}\n\nhtml{\n    min-height: 100%;\n    background-color: var(--background)\n}\n\n*, button, input{\n    border: 0;\n    background-color: none;\n    font-family: var(--family);\n}\n"]))),PT=Je.div(ET||(ET=u(["\n        background-color: #1a1a1a;\n        position: absolute;\n        top: 0;\n        width: 100%;\n        height: 100vh;\n        z-index: 500;\n\n        img{\n                height: 630px;\n                width: 354px;\n                object-fit: cover;\n                border-radius: 8px;\n                @media (max-width: 795px) {\n                width: 100%;\n                }\n        }\n"]))),DT=Je.div(ST||(ST=u(["\n        display: grid;\n        grid-template-columns: 38% 30% 32%;\n        @media (max-width: 795px) {\n        grid-template-columns: none\n        }\n"]))),jT=Je.div(_T||(_T=u(["\n        margin: 25px;\n         @media (max-width: 795px) {\n        display: none;\n        } \n        img{\n                width: 103px;\n                height: 29px;\n                cursor: pointer;\n        }\n"]))),LT=Je.div(TT||(TT=u(["\n  \n    \n"]))),MT=Je.div(CT||(CT=u(["\n        display: flex;\n        justify-content: end;\n        margin: 25px;\n        @media (max-width: 795px) {\n                position: absolute;\n                top: 72px;\n                right: 5px;\n        }\n      \n"]))),FT=Je.div(AT||(AT=u(["\n        color: var(--white);\n        height: 100vh;\n        display: flex;\n        align-items: center;\n"]))),UT=Je.div(OT||(OT=u(["\n        position: absolute;\n        top: 5px;\n        margin: 18px 11px;\n        @media (max-width: 795px) {\n        margin: 85px 11px\n        }\n\n        div{\n           display: flex;\n           align-items: center;\n           padding: 0 6px;\n        \n\n                img{\n                width: 35px;\n                height: 35px;\n                object-fit: cover;\n                border-radius: 50%;    \n             }\n             div:nth-child(2){\n                font-size: 14px;\n                font-weight: 400;\n                line-height: 18px;\n           }\n           div:last-child{\n                   opacity: 0.5;\n                   font-weight: 400;\n                   font-size: 0.87rem\n           }\n        }\n"]))),VT=n(137);function BT(e){return b_({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"}}]})(e)}var zT,qT,WT,GT,HT,KT,QT,YT,JT,XT,ZT,$T,eC,tC=function(){var e=nT(),t=tT().state;return console.log(t),(0,c_.jsx)(PT,{children:(0,c_.jsxs)(DT,{children:[(0,c_.jsx)(jT,{children:(0,c_.jsx)("img",{src:VT,alt:"Logo",onClick:function(){return e("/")}})}),(0,c_.jsxs)(LT,{children:[(0,c_.jsx)("div",{}),(0,c_.jsxs)(FT,{children:[(0,c_.jsx)("img",{src:t.storyImg,alt:""}),(0,c_.jsx)(UT,{children:(0,c_.jsxs)("div",{children:[(0,c_.jsx)("img",{src:t.profileImg,alt:"profileImg"}),(0,c_.jsx)("div",{children:t.username}),(0,c_.jsx)("div",{children:"11 min"})]})})]})]}),(0,c_.jsx)(MT,{children:(0,c_.jsx)(BT,{color:"white","font-size":30,onClick:function(){return e("/")},cursor:"pointer"})})]})})},nC=Je.div(zT||(zT=u(["\n    \n"]))),rC=Je.div(qT||(qT=u(["\n    border: 1px solid var(--border);\n    margin-bottom: 25px;\n    background-color: var(--white);\n"]))),iC=Je.div(WT||(WT=u(["\n    div{\n        display: flex;\n        align-items: center;\n        padding: 10px;\n\n        img{\n            width: 32px;\n            height: 32px;\n            border-radius: 50%;\n            object-fit: cover\n        }\n\n        div{\n            font-weight: var(--fontWeight1);\n            margin-bottom: 5px;\n            color: var(--text3);\n            font-size: 0.87rem;\n        }\n    }\n"]))),aC=Je.div(GT||(GT=u(["\n    img{\n        width: 100%\n    }\n    \n"]))),oC=Je.div(HT||(HT=u(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 15px;\n   div{\n       display: flex;\n       align-items: center;\n       div:first-child{\n           padding-right: 12px;\n           cursor: pointer;\n       };\n   }\n"]))),uC=Je.div(KT||(KT=u(["\n    padding-right: 15px\n"]))),sC=Je.div(QT||(QT=u(["\n\n"]))),cC=Je.div(YT||(YT=u(["\n    font-weight: var(--fontWeight1);\n    margin-bottom: 5px;\n    color: var(--text3);\n    font-size: 0.87rem;\n    margin-left: 13px\n"]))),lC=Je.div(JT||(JT=u(["\n    h4{\n        strong{\n            font-weight: var(--fontWeight1);\n            margin-bottom: 5px;\n            color: var(--text3);\n            font-size: 0.87rem;\n        }\n    }\n\n"]))),fC=Je.div(XT||(XT=u(["\n        height: 55px;\n        border-top: 1px solid var(--border);\n        background: white;\n        display: flex;\n        align-items: center;\n        div{\n            margin-left: 15px\n        }\n    \n    input{\n        width: 92%;\n        height: 45px;\n        outline: none;\n        border: none;\n        padding-left: 15px\n    }\n"]))),hC=Je.button(ZT||(ZT=u(["\n    background-color: var(--white);\n    color: ",";\n    font-size: 0.87rem;\n    line-height: 18px;\n    font-weight: var(--fontWeight1);\n    margin-right: 15px;\n    cursor: pointer\n"])),(function(e){return e.disabled?"#CDEAFD":"var(--blue1)"})),dC=Je.div($T||($T=u(["\n    margin: 0 0 15px 12px;\n\n    div:last-child{\n\n        h4{\n            span{\n                font-weight: var(--fontWeight1);\n                margin-bottom: 5px;\n                color: var(--text3);\n                font-size: 0.87rem;\n            }\n        }\n            \n    }\n            \n"]))),pC=["title","titleId"];function vC(){return vC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vC.apply(this,arguments)}function mC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yC(e,n){var r=e.title,i=e.titleId,a=mC(e,pC);return t.createElement("svg",vC({"aria-label":"Comentar",className:"_8-yf5 ",color:"rgb(38, 38, 38)",fill:"#8e8e8e",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,eC||(eC=t.createElement("path",{d:"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:2})))}var gC,kC,bC=t.forwardRef(yC),wC=(n.p,["title","titleId"]);function xC(){return xC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xC.apply(this,arguments)}function IC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EC(e,n){var r=e.title,i=e.titleId,a=IC(e,wC);return t.createElement("svg",xC({"aria-label":"Compartir publicaci\\xF3n",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,gC||(gC=t.createElement("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:2,x1:22,x2:9.218,y1:3,y2:10.083})),kC||(kC=t.createElement("polygon",{fill:"none",points:"11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:2})))}var SC,_C=t.forwardRef(EC),TC=(n.p,["title","titleId"]);function CC(){return CC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CC.apply(this,arguments)}function AC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OC(e,n){var r=e.title,i=e.titleId,a=AC(e,TC);return t.createElement("svg",CC({"aria-label":"Guardar",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,SC||(SC=t.createElement("polygon",{fill:"none",points:"20 21 12 13.44 4 21 4 3 20 3 20 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})))}var NC,RC=t.forwardRef(OC),PC=(n.p,["title","titleId"]);function DC(){return DC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DC.apply(this,arguments)}function jC(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LC(e,n){var r=e.title,i=e.titleId,a=jC(e,PC);return t.createElement("svg",DC({"aria-label":"Emoticono",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,NC||(NC=t.createElement("path",{d:"M15.83 10.997a1.167 1.167 0 101.167 1.167 1.167 1.167 0 00-1.167-1.167zm-6.5 1.167a1.167 1.167 0 10-1.166 1.167 1.167 1.167 0 001.166-1.167zm5.163 3.24a3.406 3.406 0 01-4.982.007 1 1 0 10-1.557 1.256 5.397 5.397 0 008.09 0 1 1 0 00-1.55-1.263zM12 .503a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012 .503zm0 21a9.5 9.5 0 119.5-9.5 9.51 9.51 0 01-9.5 9.5z"})))}var MC=t.forwardRef(LC),FC=(n.p,function(e){var n=e.imgsrc,r=e.profileImg,i=e.username,a=e.caption,u=e.numberOfLike,s=e.like,c=(e.key,e.id),l=o((0,t.useState)(""),2),f=l[0],h=l[1],d="\xa0",p=o((0,t.useState)(!1),2),v=p[0],m=p[1],y=f_().user,g=o((0,t.useState)({liked:s,bookmarked:!1,showCommentInput:!1,comments:[]}),2),k=g[0],b=g[1];c&&s_.collection("posts").doc(c).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){b({comments:e.docs.map((function(e){return{comment:e.data(),id:e.id}}))})}));var w=function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s_.collection("posts").doc(c).update({numberOfLike:u+1,like:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s_.collection("posts").doc(c).update({numberOfLike:u-1,like:!1});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c_.jsxs)(rC,{children:[(0,c_.jsx)(iC,{children:(0,c_.jsxs)("div",{children:[(0,c_.jsx)("img",{src:r,alt:"profileImg"}),(0,c_.jsx)("div",{children:i}),(0,c_.jsx)(N_,{color:"var(--blue1)",fontSize:19})]})}),(0,c_.jsx)(aC,{children:(0,c_.jsx)("img",{src:n,alt:"postImg"})}),(0,c_.jsxs)(oC,{children:[(0,c_.jsxs)("div",{children:[v||s?(0,c_.jsx)("div",{children:(0,c_.jsx)(O_,{fontSize:28,color:"#ED4956",onClick:function(){x(),m(!1)}})}):(0,c_.jsx)("div",{children:(0,c_.jsx)(A_,{fontSize:28,onClick:function(){w(),m(!0)}})}),(0,c_.jsx)(uC,{children:(0,c_.jsx)(bC,{})}),(0,c_.jsx)(sC,{children:(0,c_.jsx)(_C,{})})]}),(0,c_.jsx)(RC,{})]}),(0,c_.jsx)(cC,{children:(0,c_.jsxs)("div",{children:[u,(0,c_.jsxs)("span",{children:[d,"Me gusta"]})]})}),(0,c_.jsxs)(dC,{children:[(0,c_.jsx)(lC,{children:(0,c_.jsxs)("h4",{children:[(0,c_.jsxs)("strong",{children:[i,(0,c_.jsx)(N_,{color:"var(--blue1)",fontSize:19})]}),d,d,a]})}),(0,c_.jsx)("div",{children:k.comments.map((function(e,t){return(0,c_.jsxs)("h4",{children:[(0,c_.jsx)("span",{children:y.displayName?y.displayName:"default"}),d," ",d,e.comment.text]},t)}))})]}),(0,c_.jsx)("form",{children:(0,c_.jsxs)(fC,{children:[(0,c_.jsx)("div",{children:(0,c_.jsx)(MC,{})}),(0,c_.jsx)("input",{onChange:function(e){return h(e.target.value)},placeholder:"A\xf1ade un comentario..."}),(0,c_.jsx)(hC,{disabled:!f,onClick:function(e){return function(e){e.preventDefault(),f&&(s_.collection("posts").doc(c).collection("comments").add({timestamp:ss.firestore.FieldValue.serverTimestamp(),text:f}),h(""))}(e)},children:"Publicar"})]})})]})}),UC=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){s_.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return{posts:e.data(),id:e.id}})))}))}),[]),(0,c_.jsx)(nC,{children:n.map((function(e){return(0,c_.jsx)(FC,{imgsrc:e.posts.imageSrc,profileImg:e.posts.profileImg,username:e.posts.username,caption:e.posts.caption,numberOfLike:e.posts.numberOfLike,like:e.posts.like,id:e.id},e.id)}))})},VC=n(7),BC=n.n(VC),zC="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function qC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function WC(e,t){return e(t={exports:{}},t.exports),t.exports}var GC=WC((function(e,t){t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default}));qC(GC);var HC=WC((function(e,t){t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"===typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default}));qC(HC);var KC=WC((function(e,t){t.__esModule=!0,t.default=function(e,t,r,i,a,o,u){var s=r+(-a*(t-i)+-o*r)*e,c=t+s*e;if(Math.abs(s)<u&&Math.abs(c-i)<u)return n[0]=i,n[1]=0,n;return n[0]=c,n[1]=s,n};var n=[0,0];e.exports=t.default}));qC(KC);for(var QC=WC((function(e){(function(){var t,n,r;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-r)/1e6},n=process.hrtime,t=function(){var e;return 1e9*(e=n())[0]+e[1]},r=t()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(zC)})),YC=WC((function(e){(function(){var t,n,r,i,a,o;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-a)/1e6},n=process.hrtime,t=function(){var e;return 1e9*(e=n())[0]+e[1]},i=t(),o=1e9*process.uptime(),a=i-o):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(zC)})),JC="undefined"===typeof window?zC:window,XC=["moz","webkit"],ZC="AnimationFrame",$C=JC["request"+ZC],eA=JC["cancel"+ZC]||JC["cancelRequest"+ZC],tA=0;!$C&&tA<XC.length;tA++)$C=JC[XC[tA]+"Request"+ZC],eA=JC[XC[tA]+"Cancel"+ZC]||JC[XC[tA]+"CancelRequest"+ZC];if(!$C||!eA){var nA=0,rA=0,iA=[];$C=function(e){if(0===iA.length){var t=YC(),n=Math.max(0,16.666666666666668-(t-nA));nA=n+t,setTimeout((function(){var e=iA.slice(0);iA.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(nA)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return iA.push({handle:++rA,callback:e,cancelled:!1}),rA},eA=function(e){for(var t=0;t<iA.length;t++)iA[t].handle===e&&(iA[t].cancelled=!0)}}var aA=function(e){return $C.call(JC,e)};aA.cancel=function(){eA.apply(JC,arguments)},aA.polyfill=function(e){e||(e=JC),e.requestAnimationFrame=$C,e.cancelAnimationFrame=eA};var oA=WC((function(e,t){t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var i="number"===typeof t[r]?t[r]:t[r].val;if(e[r]!==i)return!1}return!0},e.exports=t.default}));qC(oA);var uA=WC((function(e,n){n.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(GC),u=a(HC),s=a(KC),c=a(QC),l=a(aA),f=a(oA),h=a(t),d=a(BC()),p=1e3/60,v=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=i.state,a=n.currentStyle,o=n.currentVelocity,u=n.lastIdealStyle,s=n.lastIdealVelocity;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l=e[c];"number"===typeof l&&(t||(t=!0,a=r({},a),o=r({},o),u=r({},u),s=r({},s)),a[c]=l,o[c]=0,u[c]=l,s[c]=0)}t&&i.setState({currentStyle:a,currentVelocity:o,lastIdealStyle:u,lastIdealVelocity:s})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(e){var t=i.props.style;if(f.default(i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=e||c.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*p&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/p)*p)/p,o=Math.floor(i.accumulatedTime/p),u={},l={},h={},d={};for(var v in t)if(Object.prototype.hasOwnProperty.call(t,v)){var m=t[v];if("number"===typeof m)h[v]=m,d[v]=0,u[v]=m,l[v]=0;else{for(var y=i.state.lastIdealStyle[v],g=i.state.lastIdealVelocity[v],k=0;k<o;k++){var b=s.default(p/1e3,y,g,m.val,m.stiffness,m.damping,m.precision);y=b[0],g=b[1]}var w=s.default(p/1e3,y,g,m.val,m.stiffness,m.damping,m.precision),x=w[0],I=w[1];h[v]=y+(x-y)*a,d[v]=g+(I-g)*a,u[v]=y,l[v]=g}}i.animationID=null,i.accumulatedTime-=o*p,i.setState({currentStyle:h,currentVelocity:d,lastIdealStyle:u,lastIdealVelocity:l}),i.unreadPropStyle=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:d.default.objectOf(d.default.number),style:d.default.objectOf(d.default.oneOfType([d.default.number,d.default.object])).isRequired,children:d.default.func.isRequired,onRest:d.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||u.default(n),i=o.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&h.default.Children.only(e)},t}(h.default.Component);n.default=v,e.exports=n.default}));qC(uA);var sA=WC((function(e,n){n.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(GC),u=a(HC),s=a(KC),c=a(QC),l=a(aA),f=a(oA),h=a(t),d=a(BC()),p=1e3/60;var v=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,n=t.currentStyles,a=t.currentVelocities,o=t.lastIdealStyles,u=t.lastIdealVelocities,s=!1,c=0;c<e.length;c++){var l=e[c],f=!1;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var d=l[h];"number"===typeof d&&(f||(f=!0,s=!0,n[c]=r({},n[c]),a[c]=r({},a[c]),o[c]=r({},o[c]),u[c]=r({},u[c])),n[c][h]=d,a[c][h]=0,o[c][h]=d,u[c][h]=0)}}s&&i.setState({currentStyles:n,currentVelocities:a,lastIdealStyles:o,lastIdealVelocities:u})},this.startAnimationIfNecessary=function(){i.animationID=l.default((function(e){var t=i.props.styles(i.state.lastIdealStyles);if(function(e,t,n){for(var r=0;r<e.length;r++)if(!f.default(e[r],t[r],n[r]))return!1;return!0}(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=e||c.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*p&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var a=(i.accumulatedTime-Math.floor(i.accumulatedTime/p)*p)/p,o=Math.floor(i.accumulatedTime/p),u=[],l=[],h=[],d=[],v=0;v<t.length;v++){var m=t[v],y={},g={},k={},b={};for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)){var x=m[w];if("number"===typeof x)y[w]=x,g[w]=0,k[w]=x,b[w]=0;else{for(var I=i.state.lastIdealStyles[v][w],E=i.state.lastIdealVelocities[v][w],S=0;S<o;S++){var _=s.default(p/1e3,I,E,x.val,x.stiffness,x.damping,x.precision);I=_[0],E=_[1]}var T=s.default(p/1e3,I,E,x.val,x.stiffness,x.damping,x.precision),C=T[0],A=T[1];y[w]=I+(C-I)*a,g[w]=E+(A-E)*a,k[w]=I,b[w]=E}}h[v]=y,d[v]=g,u[v]=k,l[v]=b}i.animationID=null,i.accumulatedTime-=o*p,i.setState({currentStyles:h,currentVelocities:d,lastIdealStyles:u,lastIdealVelocities:l}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:d.default.arrayOf(d.default.objectOf(d.default.number)),styles:d.default.func.isRequired,children:d.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(u.default),i=r.map((function(e){return o.default(e)}));return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(l.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&h.default.Children.only(e)},t}(h.default.Component);n.default=v,e.exports=n.default}));qC(sA);var cA=WC((function(e,t){t.__esModule=!0,t.default=function(e,t,n){for(var r={},i=0;i<e.length;i++)r[e[i].key]=i;var a={};for(i=0;i<t.length;i++)a[t[i].key]=i;var o=[];for(i=0;i<t.length;i++)o[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(a,e[i].key)){var u=n(i,e[i]);null!=u&&o.push(u)}return o.sort((function(e,n){var i=a[e.key],o=a[n.key],u=r[e.key],s=r[n.key];if(null!=i&&null!=o)return a[e.key]-a[n.key];if(null!=u&&null!=s)return r[e.key]-r[n.key];if(null!=i){for(var c=0;c<t.length;c++){var l=t[c].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(i<a[l]&&s>r[l])return-1;if(i>a[l]&&s<r[l])return 1}}return 1}for(c=0;c<t.length;c++){l=t[c].key;if(Object.prototype.hasOwnProperty.call(r,l)){if(o<a[l]&&u>r[l])return 1;if(o>a[l]&&u<r[l])return-1}}return-1}))},e.exports=t.default}));qC(cA);var lA=WC((function(e,n){n.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=a(GC),u=a(HC),s=a(KC),c=a(cA),l=a(QC),f=a(aA),h=a(oA),d=a(t),p=a(BC()),v=1e3/60;function m(e,t,n){var r=t;return null==r?e.map((function(e,t){return{key:e.key,data:e.data,style:n[t]}})):e.map((function(e,t){for(var i=0;i<r.length;i++)if(r[i].key===e.key)return{key:r[i].key,data:r[i].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}}))}function y(e,t,n,r,i,a,u,s,l){for(var f=c.default(r,i,(function(e,r){var i=t(r);return null==i||h.default(a[e],i,u[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}})),d=[],p=[],v=[],m=[],y=0;y<f.length;y++){for(var g=f[y],k=null,b=0;b<r.length;b++)if(r[b].key===g.key){k=b;break}if(null==k){var w=e(g);d[y]=w,v[y]=w;var x=o.default(g.style);p[y]=x,m[y]=x}else d[y]=a[k],v[y]=s[k],p[y]=u[k],m[y]=l[k]}return[f,d,p,v,m]}var g=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=y(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=t[0],a=t[1],o=t[2],u=t[3],s=t[4],c=0;c<e.length;c++){var l=e[c].style,f=!1;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var d=l[h];"number"===typeof d&&(f||(f=!0,a[c]=r({},a[c]),o[c]=r({},o[c]),u[c]=r({},u[c]),s[c]=r({},s[c]),n[c]={key:n[c].key,data:n[c].data,style:r({},n[c].style)}),a[c][h]=d,o[c][h]=0,u[c][h]=d,s[c][h]=0,n[c].style[h]=d)}}i.setState({currentStyles:a,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:u,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=f.default((function(e){if(!i.unmounting){var t=i.props.styles,n="function"===typeof t?t(m(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(function(e,t,n,r){if(r.length!==t.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==t[i].key)return!1;for(i=0;i<r.length;i++)if(!h.default(e[i],t[i].style,n[i]))return!1;return!0}(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=e||l.default(),a=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+a,i.accumulatedTime>10*v&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/v)*v)/v,u=Math.floor(i.accumulatedTime/v),c=y(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),f=c[0],d=c[1],p=c[2],g=c[3],k=c[4],b=0;b<f.length;b++){var w=f[b].style,x={},I={},E={},S={};for(var _ in w)if(Object.prototype.hasOwnProperty.call(w,_)){var T=w[_];if("number"===typeof T)x[_]=T,I[_]=0,E[_]=T,S[_]=0;else{for(var C=g[b][_],A=k[b][_],O=0;O<u;O++){var N=s.default(v/1e3,C,A,T.val,T.stiffness,T.damping,T.precision);C=N[0],A=N[1]}var R=s.default(v/1e3,C,A,T.val,T.stiffness,T.damping,T.precision),P=R[0],D=R[1];x[_]=C+(P-C)*o,I[_]=A+(D-A)*o,E[_]=C,S[_]=A}}g[b]=E,k[b]=S,d[b]=x,p[b]=I}i.animationID=null,i.accumulatedTime-=u*v,i.setState({currentStyles:d,currentVelocities:p,lastIdealStyles:g,lastIdealVelocities:k,mergedPropsStyles:f}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}})))},this.state=this.defaultState()}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.shape({key:p.default.string.isRequired,data:p.default.any,style:p.default.objectOf(p.default.number).isRequired})),styles:p.default.oneOfType([p.default.func,p.default.arrayOf(p.default.shape({key:p.default.string.isRequired,data:p.default.any,style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired}))]).isRequired,children:p.default.func.isRequired,willEnter:p.default.func,willLeave:p.default.func,didLeave:p.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return u.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,i=e.willLeave,a=e.didLeave,s="function"===typeof n?n(t):n,c=void 0;c=null==t?s:t.map((function(e){for(var t=0;t<s.length;t++)if(s[t].key===e.key)return s[t];return e}));var l=null==t?s.map((function(e){return u.default(e.style)})):t.map((function(e){return u.default(e.style)})),f=null==t?s.map((function(e){return o.default(e.style)})):t.map((function(e){return o.default(e.style)})),h=y(r,i,a,c,s,l,f,l,f),d=h[0];return{currentStyles:h[1],currentVelocities:h[2],lastIdealStyles:h[3],lastIdealVelocities:h[4],mergedPropsStyles:d}},t.prototype.componentDidMount=function(){this.prevTime=l.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"===typeof t?t(m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=l.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=m(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&d.default.Children.only(t)},t}(d.default.Component);n.default=g,e.exports=n.default}));qC(lA);var fA=WC((function(e,t){t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default}));qC(fA);var hA=WC((function(e,t){t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return n({},a,t,{val:e})};var r,i=(r=fA)&&r.__esModule?r:{default:r},a=n({},i.default.noWobble,{precision:.01});e.exports=t.default}));qC(hA);var dA=WC((function(e,t){t.__esModule=!0,t.default=function(){0};e.exports=t.default}));qC(dA);var pA=WC((function(e,t){function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0,t.Motion=n(uA),t.StaggeredMotion=n(sA),t.TransitionMotion=n(lA),t.spring=n(hA),t.presets=n(fA),t.stripStyle=n(HC),t.reorderKeys=n(dA)}));qC(pA);var vA=pA.Motion,mA=(pA.StaggeredMotion,pA.TransitionMotion,pA.spring),yA=pA.presets,gA=(pA.stripStyle,pA.reorderKeys,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),kA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bA=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.componentDidUpdate=function(e){if(e.animValues!==t.props.animValues){var n=t.state.animValues;t.setState({animValues:n+t.props.animValues},t.calculate())}else t.calculate()},t.state={animValues:0},t.onScrollStart=t.onScrollStart.bind(t),t.resetMin=t.resetMin.bind(t),t.resetMax=t.resetMax.bind(t),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),gA(n,[{key:"componentDidMount",value:function(){if(this.props.pageLock){var e=document.firstElementChild.className;document.firstElementChild.className=e+(e?" ":"")+"locked__"}r.findDOMNode(this.hScrollParent).addEventListener("wheel",this.onScrollStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.props.pageLock&&(document.firstElementChild.className=document.firstElementChild.className.replace(/ ?locked__/,"")),r.findDOMNode(this.hScrollParent).removeEventListener("wheel",this.onScrollStart)}},{key:"onScrollStart",value:function(e){var t=this;e.preventDefault();var n=e.deltaY?e.deltaY:e.deltaX,r=Math.floor(n),i=this.state.animValues,a=i+r,o=i-r;if(this.caniscroll()){window.requestAnimationFrame((function(){t.props.reverseScroll?t.setState({animValues:o}):t.setState({animValues:a})}))}}},{key:"shouldComponentUpdate",value:function(e,t){return(void 0===this.calculate.timer||this.props.children!==e.children||this.state.animValues!==t.animValues||this.props.animValues!==e.animValues)&&(this.props.children!==e.children||!1!==this.caniscroll())}},{key:"caniscroll",value:function(){var e=r.findDOMNode(this.hScrollParent),t=e.getBoundingClientRect(),n=e.firstElementChild;return n.offsetLeft<t.left||n.offsetLeft+n.offsetWidth>t.width}},{key:"calculate",value:function(){var e=this;clearTimeout(this.calculate.timer),this.calculate.timer=setTimeout((function(){var t=r.findDOMNode(e.hScrollParent),n=t.lastElementChild.scrollWidth,i=t.offsetWidth,a=e.state.animValues,o=-(n-i);if(a>=1)e.resetMin();else if(a<=o){var u=o+1;e.resetMax(u)}}))}},{key:"resetMin",value:function(){this.setState({animValues:0})}},{key:"resetMax",value:function(e){this.setState({animValues:e})}},{key:"render",value:function(){var e=this,n=this.props,r=n.config,i=n.style,a=n.children,o=i.width,u=i.height,s=r||yA.noWobble,c=kA({height:u||"100%",width:o||"100%",overflow:"hidden",position:"relative"},i);return t.createElement("div",{ref:function(t){e.hScrollParent=t},style:c,className:"scroll-horizontal "+(this.props.className||"")},t.createElement(vA,{style:{z:mA(this.state.animValues,s)}},(function(e){var n={transform:"translate3d("+e.z+"px, 0,0)",display:"inline-flex",height:"100%",position:"absolute",willChange:"transform"};return t.createElement("div",{style:n},a)})))}}]),n}(t.Component);bA.propTypes={reverseScroll:BC().bool,pageLock:BC().bool,config:BC().object,style:BC().object,className:BC().string,children:BC().array.isRequired,animValues:BC().number},bA.defaultProps={reverseScroll:!1,pageLock:!1,config:null,style:{width:"100%",height:"100%"},className:null,animValues:null};var wA,xA,IA,EA,SA,_A,TA,CA,AA,OA,NA,RA,PA,DA,jA,LA,MA,FA,UA,VA,BA,zA,qA,WA,GA,HA=bA,KA=Je.div(wA||(wA=u(["\n    display: flex;\n    align-items: center;\n    width: 100%\n    \n"]))),QA=Je.div(xA||(xA=u(["\n    margin: 1em 0.5em;\n    text-align: center;\n    width: 100%;\n    \n    div{\n        border-radius: 50%;\n        padding: 2px;\n        background: ",";\n\n    }\n\n    span{\n        letter-spacing: .01em;\n        max-width: 74px;\n        color: var(--colorLetter1);\n        font-size: 0.71rem;\n    }\n    \n"])),(function(e){return e.active?"linear-gradient(200deg, #da3394 25%, #e03c67 50%, #f3753b 75%, #f99b4a 100%);":"var(--borderHistory)"})),YA=Je.img(IA||(IA=u(["\n        height: var(--iconSizeBig);\n        width: var(--iconSizeBig);\n        border-radius: 50%;\n        display: block;\n        object-fit: cover;\n        border: 2px solid var(--white);\n        cursor: pointer;\n"]))),JA=function(e){var t=e.id,n=(e.name,e.profileImg),r=e.storyBorder,i=e.storyImg,a=e.username,o=(e.userStory,nT()),u=function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s_.collection("stories").doc(t).update({storyBorder:!1});case 2:setTimeout((function(){s_.collection("stories").doc(t).update({storyBorder:!0})}),15e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c_.jsx)(KA,{children:(0,c_.jsxs)(QA,{active:r,children:[(0,c_.jsx)("div",{children:(0,c_.jsx)(YA,{src:n,alt:"imgStory",onClick:function(){o("/story",{state:{profileImg:n,storyImg:i,username:a}}),u()}})}),(0,c_.jsx)("span",{children:a.length>10?a=a.substring(0,8)+"...":a})]},t)})},XA=Je.div(EA||(EA=u(["\n    display: flex;\n    align-items: center;\n    background-color: var(--white);\n    border: 1px solid var(--border);\n    border-radius: 3px;\n    margin: 5em 0 1.5em 0;\n    height: 7.4em;\n    overflow: hidden;\n"]))),ZA=function(){var e=o((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){s_.collection("stories").onSnapshot((function(e){r(e.docs.map((function(e){return{stories:e.data(),id:e.id}})))}))}),[]),(0,c_.jsx)(XA,{children:(0,c_.jsx)(HA,{reverseScroll:!0,children:n.map((function(e){return(0,c_.jsx)(JA,{id:e.id,name:e.stories.username,profileImg:e.stories.profileImg,storyBorder:e.stories.storyBorder,storyImg:e.stories.storyImg,username:e.stories.username,userStory:n},e.id)}))})})},$A=Je.div(SA||(SA=u(["\n    width: 600px;\n"]))),eO=function(){return(0,c_.jsx)($A,{children:(0,c_.jsxs)("div",{children:[(0,c_.jsx)(ZA,{}),(0,c_.jsx)(UC,{})]})})},tO=n(723),nO=Je.div(_A||(_A=u(["\n    display: flex;\n    align-items: center;\n    font-size: 0.8em;\n    margin-bottom: 0.85em;\n    @media (max-width: 768px) {\n        display: none;\n    }\n    \n    a{\n        text-align: right;\n        width: 100%;\n        text-decoration: none;\n        color: var(--blue1);\n        font-weight: var(--fontWeight1);\n        font-size: 0.73rem\n    }\n"]))),rO=Je.div(TA||(TA=u(["\n    display: flex;\n    flex-direction: column;\n    margin-left: 1em;\n    max-width: 180px;\n\n    span:nth-child(1) {\n        font-weight: var(--fontWeight1);\n        margin-bottom: 5px;\n        color: var(--text3);\n        font-size: 0.84rem;\n    }\n    span:nth-child(2) {\n        font-weight: 400;\n        color: var(--text2);\n        ","\n    }\n    \n"])),""),iO=function(e){var t=e.username,n=(e.caption,e.urlText),r=e.iconSize,i=e.captionSize,a=f_().user;return(0,c_.jsxs)(nO,{children:[(0,c_.jsx)(p_,{iconSize:r}),(0,c_.jsxs)(rO,{className:"textContainer",children:[(0,c_.jsx)("span",{className:"accountName",children:a.displayName?a.displayName:t}),(0,c_.jsx)("span",{className:"caption ".concat(i),children:a.displayName?"_"+a.displayName:"default"})]}),(0,c_.jsx)("a",{href:"/",children:n})]})},aO=Je.div(CA||(CA=u(["\n    @media (max-width: 768px) {\n        display: none;\n    }\n        margin-top: 1.25em;\n\n        div{\n            display: flex;\n            justify-content: space-between;\n            font-size: 0.8em;\n            font-weight: 500;\n            color: var(--colorSecondary);\n            margin-bottom: 0.82em;\n                &:nth-child(1) {\n                    min-width: 200px;\n                    font-size: 0.8rem;\n                    font-weight: var(--fontWeight1);\n                    margin-bottom: 8px;\n                }\n                &:nth-child(2){\n                    text-align: right;\n                    color: var(--colorLetter1);\n                    font-size: 0.75rem\n                }\n        }\n"]))),oO=Je.div(AA||(AA=u(["\n    img{\n        display: block;\n        height: 32px;\n        width: 32px;\n        border-radius: 50%;\n        object-fit: cover\n    }\n\n    div{\n        color: var(--blue1);\n        fontWeight1: var(--fontWeight1);\n        font-size: 0.75rem;\n        line-height: 16px;\n        margin: auto 0;\n    }\n"]))),uO=Je.div(OA||(OA=u(["\n        display: flex;\n        flex-direction: column;\n\n        div:nth-child(1){\n            color: var(--colorLetter1);\n            font-size: 0.82rem;\n            font-weight: var(--fontWeight1);\n            line-height: 15px\n        }\n        div:nth-child(2){\n            font-size: 0.73rem;\n            color: var(--colorSecondary)\n        }\n\n"]))),sO=[{id:1,username:"m_monroe",urlImg:"https://media.vogue.mx/photos/617a976a530d745b9ecd4741/2:3/w_2560%2Cc_limit/GettyImages-517397806.jpg",caption:"steve.jobs y 82 m\xe1s siguen esta cuenta",urlText:"Seguir",follow:!0,urlText2:"Siguiendo",storyBorder:!0},{id:2,username:"jlennon",urlImg:"https://www.rbsdirect.com.br/imagesrc/27453747.jpg?w=700",caption:"freddie_m y 27 m\xe1s siguen esta cuenta",urlText:"Seguir",follow:!1,urlText2:"Siguiendo",storyBorder:!0},{id:3,username:"walt.disney",urlImg:"https://cope-cdnmed.agilecontent.com/resources/jpg/5/7/1634909500575.jpg",caption:"einstein-A y 5 m\xe1s siguen esta cuenta",urlText:"Seguir",follow:!1,urlText2:"Siguiendo",storyBorder:!1},{id:4,username:"albert.einstein",urlImg:"https://ichef.bbci.co.uk/news/640/amz/worldservice/live/assets/images/2015/04/17/150417194023_einstein-lengua.jpg",caption:"c.chanel y 58 m\xe1s siguen esta cuenta",urlText:"Seguir",urlText2:"Siguiendo",follow:!0,storyBorder:!1},{id:5,username:"s-jobs",urlImg:"https://e00-elmundo.uecdn.es/assets/multimedia/imagenes/2021/10/05/16334350341494.jpg",caption:"d.a.maradona y 19 m\xe1s siguen esta cuenta",urlText:"Seguir",follow:!1,urlText2:"Siguiendo",storyBorder:!0}],cO=function(){var e=o((0,t.useState)(-1),2),n=e[0],r=e[1];return(0,c_.jsxs)(aO,{children:[(0,c_.jsxs)("div",{children:[(0,c_.jsx)("div",{children:"Sugerencias para ti"}),(0,c_.jsx)("div",{children:"Ver todo"})]}),sO.map((function(e){return(0,c_.jsxs)(oO,{children:[(0,c_.jsx)("img",{src:e.urlImg,alt:"suggestions"}),(0,c_.jsxs)(uO,{children:[(0,c_.jsx)("div",{children:e.username}),(0,c_.jsx)("div",{children:e.caption.length>10?e.caption=e.caption.substring(0,35)+"...":e.caption})]}),(0,c_.jsx)("div",{onClick:function(){return function(e){r((function(t){return-1===t?e:-1}))}(e.id)},children:n===e.id?e.urlText2:e.urlText})]},e.id)}))]})},lO=Je.div(NA||(NA=u(["\n    width: 357px;\n    padding: 7em 2em 0 2em;\n"]))),fO=function(){return(0,c_.jsx)(tO.ZP,{topOffset:-80,children:(0,c_.jsxs)(lO,{children:[(0,c_.jsx)(iO,{username:"default_user",caption:"default",urlText:"Cambiar",iconSize:"big"}),(0,c_.jsx)(cO,{})]})})},hO=Je.div(RA||(RA=u(["\n        background-color: var(--background-grey);\n\n        ","\n       \n"])),""),dO=Je.section(PA||(PA=u(["\n        display: flex;\n        max-width: 975px;\n        @media (max-width: 795px) {\n        max-width: 392px;\n        }\n        margin: 0 auto;\n        padding: 0 20px\n"]))),pO=function(){return(0,c_.jsxs)(hO,{children:[(0,c_.jsx)(NT,{}),(0,c_.jsxs)(dO,{children:[(0,c_.jsx)(eO,{}),(0,c_.jsx)(fO,{})]})]})},vO=Je.div(DA||(DA=u(["\n    background-color: var(--background-grey);\n    height: 100vh;\n"]))),mO=Je.div(jA||(jA=u(["\n        max-width: 935px;\n        @media (max-width: 795px) {\n               max-width: 400px\n        }\n        margin: 0 auto;  \n        padding-top: 55px;  \n"]))),yO=Je.div(LA||(LA=u(["\n    display: grid;\n    grid-template-columns: 30% 70%;\n    padding: 22px 0;\n    @media (max-width: 795px) {\n        grid-template-columns: 30% 70%;\n        position: relative\n    }\n"]))),gO=Je.div(MA||(MA=u([" \n    div{\n        margin-left: 35px;\n        @media (max-width: 795px) {\n        margin-left: 20px\n    }\n        img{\n            @media (max-width: 795px) {\n                width: 98px;\n                height: 98px\n        }\n        }\n    }\n        \n"]))),kO=Je.div(FA||(FA=u(["\n    height: 180px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    margin-left: 2em;\n    div{\n        display: flex;\n        justify-content: spac-between;\n        display: flex;\n        span{\n            font-weight: var(--fontWeight1);\n\n        }\n    }\n\n\n"]))),bO=Je.div(UA||(UA=u(["\n    display: flex;\n    align-items: center;\n    @media (max-width: 795px) {\n        flex-direction: column;\n        align-items: start;\n    }\n    h2{\n        font-size: 1.75rem;\n        line-height: 32px;\n        font-weight: 300\n    }\n\n   \n    }\n"]))),wO=Je.div(VA||(VA=u(["\n    @media (max-width: 795px) {\n        position: absolute;\n        left: 0;\n        bottom: 5px;\n    }\n   div{\n     padding-right: 19px; \n\n    @media (max-width: 795px) {\n        padding-left: 17px;\n    }\n   }\n"]))),xO=Je.div(BA||(BA=u(["\n    font-weight: var(--fontWeight1);\n    font-size: 1rem;\n"]))),IO=Je.button(zA||(zA=u(["\n    border: 1px solid var(--border);\n    background-color: transparent;\n    margin: 0 11px 0 8px;\n    @media (max-width: 795px) {\n        margin: 9px 11px 0 0;\n    }\n    padding: 5px 9px;\n    border-radius: 4px;\n    font-size: 0.87rem;\n    font-weight: 600;\n    cursor: pointer\n}\n"]))),EO=Je.div(qA||(qA=u(["\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    border-top: 1px solid var(--border);\n    div{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        padding-bottom: 12px;\n    }\n"]))),SO=Je.div(WA||(WA=u(["\n    font-weight: 500;\n    font-size: 0.9rem;\n    width: 141px;\n    border-top: 1px solid black\n"]))),_O=Je.div(GA||(GA=u(["\n    font-size: 0.78rem;\n    font-weight: 500;\n    color: var(--colorSecondary);\n    span{\n        color: var(--text1)\n    }\n"])));n.p;var TO,CO,AO,OO,NO,RO=["title","titleId"];function PO(){return PO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PO.apply(this,arguments)}function DO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jO(e,n){var r=e.title,i=e.titleId,a=DO(e,RO);return t.createElement("svg",PO({"aria-label":"",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:33,role:"img",viewBox:"0 0 24 24",width:33,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,TO||(TO=t.createElement("rect",{fill:"none",height:18,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,width:18,x:3,y:3})),CO||(CO=t.createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,x1:9.015,x2:9.015,y1:3,y2:21})),AO||(AO=t.createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,x1:14.985,x2:14.985,y1:3,y2:21})),OO||(OO=t.createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,x1:21,x2:3,y1:9.015,y2:9.015})),NO||(NO=t.createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,x1:21,x2:3,y1:14.985,y2:14.985})))}var LO,MO,FO,UO,VO,BO,zO,qO,WO,GO,HO,KO,QO=t.forwardRef(jO),YO=(n.p,function(){var e=f_().user,t=f_(),n=t.Logout,r=t.loading,i=function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r?(0,c_.jsx)("h1",{children:"Cargando.."}):(0,c_.jsxs)(vO,{children:[(0,c_.jsx)(NT,{}),(0,c_.jsxs)(mO,{children:[(0,c_.jsxs)(yO,{children:[(0,c_.jsx)(gO,{children:(0,c_.jsx)("div",{children:(0,c_.jsx)(p_,{iconSize:"veryBig"})})}),(0,c_.jsxs)(kO,{children:[(0,c_.jsxs)(bO,{children:[(0,c_.jsx)("h2",{children:e.displayName?e.displayName:"default_user"}),(0,c_.jsxs)("div",{children:[e.isAnonymous?null:(0,c_.jsx)(xT,{to:"/account/edit",children:(0,c_.jsx)(IO,{children:"Editar perfil"})}),(0,c_.jsx)(IO,{onClick:i,children:"Cerrar sesi\xf3n"})]})]}),(0,c_.jsxs)(wO,{children:[(0,c_.jsxs)("div",{children:[(0,c_.jsxs)("span",{children:["0","\xa0"]}),"publicaciones"]}),(0,c_.jsxs)("div",{children:[(0,c_.jsxs)("span",{children:["3","\xa0"]}),"seguidores"]}),(0,c_.jsxs)("div",{children:[(0,c_.jsxs)("span",{children:["2","\xa0"]}),"seguidos"]})]}),(0,c_.jsx)(xO,{children:e.displayName?e.displayName:"default"})]})]}),(0,c_.jsx)(EO,{children:(0,c_.jsxs)("div",{children:[(0,c_.jsxs)(SO,{children:[(0,c_.jsx)(QO,{}),(0,c_.jsx)("span",{children:"PUBLICACIONES"})]}),(0,c_.jsx)("div",{children:"A\xfan no hay publicaciones."}),(0,c_.jsxs)(_O,{children:["2022 INSTAGRAM DESARROLLADOR POR ",(0,c_.jsx)("span",{children:(0,c_.jsx)("a",{href:"https://www.linkedin.com/in/franciscoferraro/",children:"FRANCISCO FERRARO"})})]})]})})]})]})}),JO=Je.div(LO||(LO=u(["\n    ","\n    background-color: var(--background-grey);\n"])),""),XO=Je.div(MO||(MO=u(["\n  height: 100vh;\n  padding: 79px 15px 0 15px\n\n"]))),ZO=Je.div(FO||(FO=u(["\n     max-width: 935px;\n    margin: 0 auto;\n    height: 85vh;\n    background-color: white;\n    border-radius: 5px;\n    border: 1px solid var(--border);\n    display: grid;\n    grid-template-columns: 37% 63%;\n    @media (max-width: 795px) {\n        grid-template-columns: none\n    }\n"]))),$O=Je.div(UO||(UO=u(["\n    border-right: 1px solid var(--border);\n    @media (max-width: 795px) {\n        border-right: none;\n        display: ","\n    }\n"])),(function(e){return e.styles?"none":"block"})),eN=Je.div(VO||(VO=u(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin: 7px;\n    cursor: pointer;\n\n    div{   \n        margin-left: 6px;\n        &:first-child{\n            color: var(--text3);\n            font-weight: 400\n            font-size: 0.94rem;\n            display: flex;\n            align-items: center;\n        }\n        &:last-child{\n            color: ",";\n            font-weight: 400;\n            font-size: 0.87rem\n        }\n    }\n"])),(function(e){return e.change?"var(--text3)":"var(--text2)"})),tN=Je.div(BO||(BO=u(["\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        @media (max-width: 795px) {\n        display: none;\n    }\n\n\n    div:nth-child(2){\n        font-size: 1.37rem;\n        font-weight: 200\n    }\n\n    div:nth-child(3){\n        font-size: 0.87rem;\n        color: var(--colorSecondary);\n        margin-top: 16px\n    }\n\n    button{\n        background-color: var(--blue1);\n        color: var(--white);\n        padding: 6px 10px;\n        border-radius: 4px;\n        font-weight: 500;\n        font-size: 0.87rem;\n        margin-top: 24px;\n    }\n"]))),nN=Je.div(zO||(zO=u(["\n            display: flex;\n            justify-content: center;\n            flex-direction: column;\n            align-items: center\n"]))),rN=Je.div(qO||(qO=u(["\n     \n    display: flex;\n    height: 60px;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0 25px;\n    border-bottom: 1px solid var(--border)\n"]))),iN=Je.div(WO||(WO=u(["\n    font-size: 1rem;\n    font-weight: var(--fontWeight1);\n    display: flex;\n    align-item: center\n"])));function aN(e){return b_({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"}}]})(e)}var oN=["title","titleId"];function uN(){return uN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uN.apply(this,arguments)}function sN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cN(e,n){var r=e.title,i=e.titleId,a=sN(e,oN);return t.createElement("svg",uN({"aria-label":"Nuevo mensaje",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,GO||(GO=t.createElement("path",{d:"M12.202 3.203H5.25a3 3 0 00-3 3V18.75a3 3 0 003 3h12.547a3 3 0 003-3v-6.952",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),HO||(HO=t.createElement("path",{d:"M10.002 17.226H6.774v-3.228L18.607 2.165a1.417 1.417 0 012.004 0l1.224 1.225a1.417 1.417 0 010 2.004z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})),KO||(KO=t.createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,x1:16.848,x2:20.076,y1:3.924,y2:7.153})))}var lN,fN,hN,dN,pN=t.forwardRef(cN),vN=(n.p,n(132)),mN=Je.div(lN||(lN=u(["\n        padding: 5px 0;\n"]))),yN=(Je.div(fN||(fN=u(["\n\n\n\n"]))),Je.img(hN||(hN=u(["\n        width: 56px;\n        height: 56px;\n        border-radius: 50%;\n        object-fit: cover\n"])))),gN=Je.div(dN||(dN=u(["\n        display: ","\n"])),(function(e){return e.change?"block":"none"}));function kN(e){return b_({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.238 8l-2.31 4H5.31L3 8l2.31-4h4.618l2.31 4z"}}]})(e)}var bN,wN,xN,IN,EN,SN,_N,TN,CN,AN,ON,NN,RN,PN=function(e){var t=e.user,n=e.setIndex,r=e.setDirect,i=e.setStyle;return(0,c_.jsx)(mN,{onClick:function(){return n(t),r(!0),void i(!0)},children:(0,c_.jsxs)(iN,{children:[(0,c_.jsx)(yN,{src:t.messages.img,alt:"imgProfile"}),(0,c_.jsxs)("div",{children:[(0,c_.jsx)("div",{children:t.messages.username}),(0,c_.jsx)("div",{children:t.messages.message.length>27?t.messages.message.substring(0,27)+"...":t.messages.message})]}),(0,c_.jsx)(gN,{children:(0,c_.jsx)(kN,{color:"var(--blue1)"})})]})})},DN=Je.div(bN||(bN=u(["\n    display: ","\n"])),(function(e){return e.s?"block":"none"})),jN=Je.div(wN||(wN=u(["\n        height: 73vh;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n"]))),LN=Je.div(xN||(xN=u(["\n    display: flex;\n    align-items: center;\n    height: 60px;\n    border-bottom: 1px solid var(--border);\n    padding-left: 19px;\n\n    img{\n        width: 24px;\n        height: 24px;\n        object-fit: cover;\n        border-radius: 50%;\n        margin: 0 8px\n    }\n"]))),MN=Je.div(IN||(IN=u(["\n    display: none;\n    @media (max-width: 795px) {\n        display: block;\n    }\n\n"]))),FN=Je.div(EN||(EN=u(["\n    display: flex;\n    align-items: end;\n    margin: 18px;\n\n    img{\n        width: 24px;\n        height: 24px;\n        object-fit: cover;\n        border-radius: 50%;\n        margin-right: 6px\n    }\n        \n        span{\n            border: 1px solid var(--border);\n            padding: 13px;\n            max-width: 236px;\n            min-height: 44px;\n            border-radius: 30px;\n            font-weight: 400;\n            font-size: 0.87rem\n        }\n"]))),UN=Je.div(SN||(SN=u(["\n    display: flex;\n    flex-direction: column;\n    align-items: end;\n    margin: 15px;\n\n    div{\n        display: flex;\n        align-items: end;\n        padding: 3px;\n\n        img{\n            width: 24px;\n            height: 24px;\n            object-fit: cover;\n            border-radius: 50%;\n        }\n        div{\n            background-color: var(--backgroundInput);\n            max-width: 236px;\n            border-radius: 30px;\n            padding: 13px;\n            min-height: 44px;\n        }\n    }\n"]))),VN=Je.div(_N||(_N=u(["\n    min-height: 44px;\n    border: 1px solid var(--border);\n    position: relative;\n    margin: 0 15px;\n    border-radius: 30px;\n\n        input{\n            width: 100%;\n            outline: none;\n            border: none;   \n            height: 44px;  \n            padding-left: 50px;\n            border-radius: 25px\n        }\n"]))),BN=Je.div(TN||(TN=u(["\n    position: absolute;\n    left: 12px;\n    top: 10px\n"]))),zN=Je.div(CN||(CN=u(["\n    position: absolute;\n    right: 53px;\n    top: 10px\n"]))),qN=Je.div(AN||(AN=u(["\n    position: absolute;\n    right: 12px;\n    top: 10px\n"]))),WN=["title","titleId"];function GN(){return GN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GN.apply(this,arguments)}function HN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KN(e,n){var r=e.title,i=e.titleId,a=HN(e,WN);return t.createElement("svg",GN({"aria-label":"A\\xF1adir foto o v\\xEDdeo",className:"_8-yf5 ",color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,ON||(ON=t.createElement("path",{d:"M6.549 5.013A1.557 1.557 0 108.106 6.57a1.557 1.557 0 00-1.557-1.557z",fillRule:"evenodd"})),NN||(NN=t.createElement("path",{d:"M2 18.605l3.901-3.9a.908.908 0 011.284 0l2.807 2.806a.908.908 0 001.283 0l5.534-5.534a.908.908 0 011.283 0l3.905 3.905",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:2})),RN||(RN=t.createElement("path",{d:"M18.44 2.004A3.56 3.56 0 0122 5.564h0v12.873a3.56 3.56 0 01-3.56 3.56H5.568a3.56 3.56 0 01-3.56-3.56V5.563a3.56 3.56 0 013.56-3.56z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})))}var QN,YN,JN,XN,ZN,$N,eR=t.forwardRef(KN),tR=(n.p,function(e){var n=e.index,r=e.setStyle,i=e.s,a=o((0,t.useState)(""),2),u=a[0],s=a[1],c=o((0,t.useState)({messages:[]}),2),l=c[0],f=c[1];n.id&&s_.collection("messages").doc(n.id).collection("usermessages").orderBy("timestamp","asc").onSnapshot((function(e){f({messages:e.docs.map((function(e){return{message:e.data(),id:e.id}}))})}));return(0,c_.jsxs)(DN,{s:i,children:[(0,c_.jsxs)(LN,{children:[(0,c_.jsx)(MN,{onClick:function(){return r(!1)},children:(0,c_.jsx)(P_,{fontSize:22})}),(0,c_.jsx)("img",{src:n.messages.img,alt:"userImg"}),(0,c_.jsx)("div",{children:n.messages.username})]}),(0,c_.jsxs)(jN,{children:[(0,c_.jsxs)("div",{children:[(0,c_.jsxs)(FN,{children:[(0,c_.jsx)("img",{src:n.messages.img,alt:"userImg"}),(0,c_.jsx)("span",{children:n.messages.message})]}),(0,c_.jsx)(UN,{children:l.messages.map((function(e){return(0,c_.jsx)("div",{children:(0,c_.jsx)("div",{children:e.message.text})},e.id)}))})]}),(0,c_.jsx)(VN,{children:(0,c_.jsx)("div",{children:(0,c_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n.id&&(s_.collection("messages").doc(n.id).collection("usermessages").add({timestamp:ss.firestore.FieldValue.serverTimestamp(),text:u}),s(""))},children:[(0,c_.jsx)("input",{type:"text",placeholder:"Env\xeda un mensaje...",onChange:function(e){return s(e.target.value)}}),(0,c_.jsxs)("div",{children:[(0,c_.jsx)(BN,{children:(0,c_.jsx)(MC,{})}),(0,c_.jsx)(zN,{children:(0,c_.jsx)(eR,{})}),(0,c_.jsx)(qN,{children:(0,c_.jsx)(A_,{fontSize:27})})]})]})})})]})]})}),nR=function(){var e=o((0,t.useState)(!1),2),n=e[0],r=e[1],i=o((0,t.useState)([]),2),a=i[0],u=i[1],s=o((0,t.useState)([]),2),c=s[0],l=s[1],f=o((0,t.useState)(!1),2),h=f[0],d=f[1];return(0,t.useEffect)((function(){s_.collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){u(e.docs.map((function(e){return{messages:e.data(),id:e.id}})))}))}),[]),(0,c_.jsxs)(JO,{children:[(0,c_.jsx)(NT,{}),(0,c_.jsx)(XO,{children:(0,c_.jsxs)(ZO,{children:[(0,c_.jsxs)($O,{styles:h,children:[(0,c_.jsxs)(rN,{children:[(0,c_.jsx)(xT,{to:"/",children:(0,c_.jsx)(P_,{fontSize:22})}),(0,c_.jsxs)(iN,{children:["default ",(0,c_.jsx)(aN,{fontSize:22})]}),(0,c_.jsx)("div",{children:(0,c_.jsx)(pN,{})})]}),(0,c_.jsx)(eN,{children:a.map((function(e,t){return(0,c_.jsx)(PN,{user:e,setIndex:l,setDirect:r,setStyle:d},e.id)}))})]}),n?(0,c_.jsx)(tR,{index:c,setStyle:d,s:h}):(0,c_.jsx)(tN,{children:(0,c_.jsxs)(nN,{children:[(0,c_.jsx)("span",{children:(0,c_.jsx)("img",{src:vN,alt:"iconDirect"})}),(0,c_.jsx)("div",{children:"Tus mensajes"}),(0,c_.jsx)("div",{children:"Env\xeda fotos y mensajes privados a un amigo o grupo."}),(0,c_.jsx)("button",{children:"Enviar mensaje"})]})})]})})]})};function rR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rR(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var aR,oR,uR,sR,cR,lR,fR,hR,dR=Je.div(QN||(QN=u(["\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    background-color: var(--background-grey)\n"]))),pR=Je.div(YN||(YN=u(["\n        width: 350px;\n        height: 480px;\n        border: 1px solid var(--border);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        border-radius: 3px;\n        background-color: white;\n        form{\n            div{\n                display: flex;\n    justify-content: center;\n            }\n        }\n"]))),vR=Je.img(JN||(JN=u(["\n    width: 175px;\n    height: 51px;\n    margin: 35px 0;\n"]))),mR=Je.div(XN||(XN=u(["\n    width: 268px;\n    height: 38px;\n    margin-bottom: 18px;\n    border-radius: 3px;\n    border: 1px solid var(--border);\n\n    input{\n        width: 100%;\n        height: 100%;\n        outline: none;\n        background-color: var(--background-grey);\n        padding-left: 15px\n    }\n"]))),yR=Je.button(ZN||(ZN=u(["\n    color: white;\n    background-color: var(--blue1);\n    padding: 5px 0;\n    width: 268px;\n    border-radius: 4px;\n    font-size: 0.91rem;\n    font-weight: var(--fontWeight1);\n    cursor: pointer;\n    margin-bottom: 15px\n"]))),gR=Je.div($N||($N=u(["\n    border: 1px solid var(--border);\n    width: 350px;\n    height: 63px;\n    display: flex; \n    align-items: center;\n    justify-content: center;\n    margin-top: 15px;\n    border-radius: 3px;\n    background-color: white;\n\n        div{\n            color: var(--blue1);\n            font-weight: var(--fontWeight1);\n            font-size: 0.87rem;\n            cursor: pointer\n        }\n"]))),kR=n(555),bR=function(){var e=nT(),n=f_().Login,r=o((0,t.useState)(),2),i=(r[0],r[1]),a=o((0,t.useState)({email:"",password:""}),2),u=a[0],s=a[1],c=function(e){var t=e.target,n=t.name,r=t.value;s(iR(iR({},u),{},vn({},n,r)))},l=function(){var t=ln(yn().mark((function t(r){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),i(""),console.log("funciona"),t.prev=3,t.next=6,n(u.email,u.password);case 6:e("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),i(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){(function(e){return to.apply(this,arguments)})(u_).then((function(){e("/")})).catch((function(e){console.log(e.code),console.log(e.message)}))};return(0,c_.jsxs)(dR,{children:[(0,c_.jsxs)(pR,{children:[(0,c_.jsxs)("form",{onSubmit:l,children:[(0,c_.jsx)("div",{children:(0,c_.jsx)(vR,{src:kR,alt:"Logo"})}),(0,c_.jsx)(mR,{children:(0,c_.jsx)("input",{type:"text",placeholder:"Correo electr\xf3nico",onChange:c,name:"email"})}),(0,c_.jsx)(mR,{children:(0,c_.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",onChange:c,name:"password"})}),(0,c_.jsx)(yR,{children:"Iniciar sesi\xf3n"})]}),(0,c_.jsx)(yR,{onClick:function(){return f()},children:"Ingresar como an\xf3nimo"})]}),(0,c_.jsxs)(gR,{children:[(0,c_.jsx)("span",{children:"\xbfNo tienes una cuenta?"}),(0,c_.jsx)("div",{onClick:function(){return e("/signup")},children:"Reg\xedstrate"})]})]})},wR=Je.div(aR||(aR=u(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    background-color: var(--background-grey)\n"]))),xR=Je.div(oR||(oR=u(["\n    font-size: 0.85rem;\n    color: var(--text2);\n    text-align: center;\n    padding: 12px 25px\n"]))),IR=(Je.div(uR||(uR=u(["\n    border: 2px solid red\n"]))),Je.div(sR||(sR=u(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center\n"])))),ER=function(){var e=nT(),n=o((0,t.useState)(),2),r=n[0],i=n[1],a=o((0,t.useState)({email:"",username:"",password:""}),2),u=a[0],s=a[1],c=f_().Signup,l=function(e){var t=e.target,n=t.name,r=t.value;s(iR(iR({},u),{},vn({},n,r)))},f=function(){var t=ln(yn().mark((function t(n){return yn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i(""),t.prev=2,t.next=5,c(u.email,u.password,u.username);case 5:return t.next=7,mo(u_.currentUser,{displayName:u.username});case 7:e("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),i(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return(0,c_.jsxs)(wR,{children:[(0,c_.jsxs)(pR,{children:[r&&(0,c_.jsx)("p",{children:r}),(0,c_.jsx)("form",{onSubmit:f,children:(0,c_.jsxs)(IR,{children:[(0,c_.jsx)("div",{children:(0,c_.jsx)(vR,{src:kR,alt:"Logo"})}),(0,c_.jsx)(xR,{children:"Reg\xedstrate para ver fotos y videos de tus amigos."}),(0,c_.jsx)(mR,{children:(0,c_.jsx)("input",{type:"email",name:"email",placeholder:"Correo electr\xf3nico",onChange:l})}),(0,c_.jsx)(mR,{children:(0,c_.jsx)("input",{type:"text",name:"username",placeholder:"Username",onChange:l})}),(0,c_.jsx)(mR,{children:(0,c_.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",onChange:l})}),(0,c_.jsx)(yR,{children:"Registrarte"}),(0,c_.jsx)(xR,{children:"Al registrarte, aceptas nuestras Condiciones, la Pol\xedtica de datos y la Pol\xedtica de cookies."})]})})]}),(0,c_.jsxs)(gR,{children:[(0,c_.jsx)("span",{children:"\xbfTienes una cuenta?"}),(0,c_.jsx)("div",{onClick:function(){return e("/login")},children:"Entrar"})]})]})};function SR(e){var t=e.children,n=f_(),r=n.user;return n.loading?(0,c_.jsx)("h1",{children:"Cargando..."}):r?(0,c_.jsx)(c_.Fragment,{children:t}):(0,c_.jsx)(Y_,{to:"/login"})}var _R=Je.div(cR||(cR=u(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    height: 100vh;\n    border: 1px solid var(--border);\n"]))),TR=Je.div(lR||(lR=u(["\n    border: 1px solid var(--border);\n    padding: 35px;\n    border-radius: 5px;\n    div{\n            display: flex;\n            margin-bottom: 10px;\n            justify-content: center\n        }\n"]))),CR=Je.button(fR||(fR=u(["\n    background-color: ",";\n    color: white;\n    padding: 5px 9px;\n    border-radius: 4px;\n    font-size: 0.87rem;\n    font-weight: 600;\n    cursor: pointer\n"])),(function(e){return e.disabled?"#82bfe7":"var(--blue1)"})),AR=Je.input(hR||(hR=u(["\n    display: none;\n"]))),OR=function(){var e=(0,t.useRef)(null),n=o((0,t.useState)(""),2),r=n[0],i=n[1],a=o((0,t.useState)(null),2),u=a[0],s=a[1],c=o((0,t.useState)(!1),2),l=c[0],f=c[1],h=f_().user,d=function(){var e=ln(yn().mark((function e(){return yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=8;break}if(!r){e.next=4;break}return e.next=4,mo(u_.currentUser,{displayName:r});case 4:e_(u,h,f),alert("Usuario editado correctamente"),e.next=9;break;case 8:alert("Rellena los campos");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c_.jsx)(_R,{children:(0,c_.jsxs)(TR,{children:[(0,c_.jsx)("div",{children:(0,c_.jsx)(xO,{children:"Nombre de Usuario"})}),(0,c_.jsx)("div",{children:(0,c_.jsx)(mR,{children:(0,c_.jsx)("input",{placeholder:"Nombre de usuario",type:"text",name:"username",onChange:function(e){return i(e.target.value)}})})}),(0,c_.jsx)("div",{children:(0,c_.jsx)(xO,{children:"Foto de perfil"})}),(0,c_.jsx)("div",{children:l?"Cargando...":(0,c_.jsx)(p_,{alt:"profileImg",iconSize:"veryBig"})}),(0,c_.jsxs)("div",{children:[(0,c_.jsx)(IO,{onClick:function(t){e.current.click()},children:"Editar foto de perfil"}),(0,c_.jsx)(AR,{ref:e,placeholder:"hola",type:"file",onChange:function(e){e.target.files[0]&&s(e.target.files[0])}})]}),(0,c_.jsxs)("div",{children:[(0,c_.jsx)(CR,{disabled:!r&&!u,onClick:function(){return d()},children:"Guardar"}),(0,c_.jsx)(xT,{to:"/profile",children:(0,c_.jsx)(IO,{children:"Volver"})})]})]})})};var NR=function(){return tT(),(0,c_.jsxs)(h_,{children:[(0,c_.jsxs)(Z_,{children:[(0,c_.jsx)(J_,{path:"/",element:(0,c_.jsx)(SR,{children:(0,c_.jsx)(pO,{})})}),(0,c_.jsx)(J_,{path:"/story",element:(0,c_.jsx)(SR,{children:(0,c_.jsx)(tC,{})})}),(0,c_.jsx)(J_,{path:"/profile",element:(0,c_.jsx)(SR,{children:(0,c_.jsx)(YO,{})})}),(0,c_.jsx)(J_,{path:"/direct/inbox",element:(0,c_.jsx)(SR,{children:(0,c_.jsx)(nR,{})})}),(0,c_.jsx)(J_,{path:"/account/edit",element:(0,c_.jsx)(SR,{children:(0,c_.jsx)(OR,{})})}),(0,c_.jsx)(J_,{path:"/login",element:(0,c_.jsx)(bR,{})}),(0,c_.jsx)(J_,{path:"/signup",element:(0,c_.jsx)(ER,{})})]}),(0,c_.jsx)(RT,{})]})},RR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,c_.jsx)(t.StrictMode,{children:(0,c_.jsx)(wT,{children:(0,c_.jsx)(NR,{})})}),document.getElementById("root")),RR()}()}();
//# sourceMappingURL=main.8550d64f.js.map